function A7(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function C7(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var z1={},M7={get exports(){return z1},set exports(n){z1=n}},gS={},D={},E7={get exports(){return D},set exports(n){D=n}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=Symbol.for("react.element"),T7=Symbol.for("react.portal"),P7=Symbol.for("react.fragment"),I7=Symbol.for("react.strict_mode"),R7=Symbol.for("react.profiler"),L7=Symbol.for("react.provider"),k7=Symbol.for("react.context"),D7=Symbol.for("react.forward_ref"),B7=Symbol.for("react.suspense"),O7=Symbol.for("react.memo"),N7=Symbol.for("react.lazy"),nB=Symbol.iterator;function F7(n){return n===null||typeof n!="object"?null:(n=nB&&n[nB]||n["@@iterator"],typeof n=="function"?n:null)}var cU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uU=Object.assign,dU={};function cp(n,e,t){this.props=n,this.context=e,this.refs=dU,this.updater=t||cU}cp.prototype.isReactComponent={};cp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};cp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function hU(){}hU.prototype=cp.prototype;function M2(n,e,t){this.props=n,this.context=e,this.refs=dU,this.updater=t||cU}var E2=M2.prototype=new hU;E2.constructor=M2;uU(E2,cp.prototype);E2.isPureReactComponent=!0;var rB=Array.isArray,fU=Object.prototype.hasOwnProperty,T2={current:null},pU={key:!0,ref:!0,__self:!0,__source:!0};function mU(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fU.call(e,r)&&!pU.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fy,type:n,key:s,ref:o,props:i,_owner:T2.current}}function z7(n,e){return{$$typeof:Fy,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function P2(n){return typeof n=="object"&&n!==null&&n.$$typeof===Fy}function U7(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var iB=/\/+/g;function SA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?U7(""+n.key):e.toString(36)}function t1(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Fy:case T7:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+SA(o,0):r,rB(i)?(t="",n!=null&&(t=n.replace(iB,"$&/")+"/"),t1(i,e,t,"",function(c){return c})):i!=null&&(P2(i)&&(i=z7(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iB,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rB(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+SA(s,a);o+=t1(s,e,t,l,i)}else if(l=F7(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+SA(s,a++),o+=t1(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ev(n,e,t){if(n==null)return n;var r=[],i=0;return t1(n,r,"","",function(s){return e.call(t,s,i++)}),r}function H7(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Xi={current:null},n1={transition:null},G7={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:n1,ReactCurrentOwner:T2};en.Children={map:Ev,forEach:function(n,e,t){Ev(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ev(n,function(){e++}),e},toArray:function(n){return Ev(n,function(e){return e})||[]},only:function(n){if(!P2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};en.Component=cp;en.Fragment=P7;en.Profiler=R7;en.PureComponent=M2;en.StrictMode=I7;en.Suspense=B7;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G7;en.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=uU({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=T2.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)fU.call(e,l)&&!pU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fy,type:n.type,key:i,ref:s,props:r,_owner:o}};en.createContext=function(n){return n={$$typeof:k7,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:L7,_context:n},n.Consumer=n};en.createElement=mU;en.createFactory=function(n){var e=mU.bind(null,n);return e.type=n,e};en.createRef=function(){return{current:null}};en.forwardRef=function(n){return{$$typeof:D7,render:n}};en.isValidElement=P2;en.lazy=function(n){return{$$typeof:N7,_payload:{_status:-1,_result:n},_init:H7}};en.memo=function(n,e){return{$$typeof:O7,type:n,compare:e===void 0?null:e}};en.startTransition=function(n){var e=n1.transition;n1.transition={};try{n()}finally{n1.transition=e}};en.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};en.useCallback=function(n,e){return Xi.current.useCallback(n,e)};en.useContext=function(n){return Xi.current.useContext(n)};en.useDebugValue=function(){};en.useDeferredValue=function(n){return Xi.current.useDeferredValue(n)};en.useEffect=function(n,e){return Xi.current.useEffect(n,e)};en.useId=function(){return Xi.current.useId()};en.useImperativeHandle=function(n,e,t){return Xi.current.useImperativeHandle(n,e,t)};en.useInsertionEffect=function(n,e){return Xi.current.useInsertionEffect(n,e)};en.useLayoutEffect=function(n,e){return Xi.current.useLayoutEffect(n,e)};en.useMemo=function(n,e){return Xi.current.useMemo(n,e)};en.useReducer=function(n,e,t){return Xi.current.useReducer(n,e,t)};en.useRef=function(n){return Xi.current.useRef(n)};en.useState=function(n){return Xi.current.useState(n)};en.useSyncExternalStore=function(n,e,t){return Xi.current.useSyncExternalStore(n,e,t)};en.useTransition=function(){return Xi.current.useTransition()};en.version="18.2.0";(function(n){n.exports=en})(E7);const ul=mS(D),Tg=A7({__proto__:null,default:ul},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V7=D,$7=Symbol.for("react.element"),W7=Symbol.for("react.fragment"),j7=Object.prototype.hasOwnProperty,K7=V7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X7={key:!0,ref:!0,__self:!0,__source:!0};function gU(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j7.call(e,r)&&!X7.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$7,type:n,key:s,ref:o,props:i,_owner:K7.current}}gS.Fragment=W7;gS.jsx=gU;gS.jsxs=gU;(function(n){n.exports=gS})(M7);const C=z1.jsx,G=z1.jsxs;var eE={},If={},J7={get exports(){return If},set exports(n){If=n}},Hs={},tE={},q7={get exports(){return tE},set exports(n){tE=n}},yU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,j){var O=H.length;H.push(j);e:for(;0<O;){var oe=O-1>>>1,z=H[oe];if(0<i(z,j))H[oe]=j,H[O]=z,O=oe;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],O=H.pop();if(O!==j){H[0]=O;e:for(var oe=0,z=H.length,Q=z>>>1;oe<Q;){var de=2*(oe+1)-1,Z=H[de],Ae=de+1,Te=H[Ae];if(0>i(Z,O))Ae<z&&0>i(Te,Z)?(H[oe]=Te,H[Ae]=O,oe=Ae):(H[oe]=Z,H[de]=O,oe=de);else if(Ae<z&&0>i(Te,O))H[oe]=Te,H[Ae]=O,oe=Ae;else break e}}return j}function i(H,j){var O=H.sortIndex-j.sortIndex;return O!==0?O:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=H)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function A(H){if(g=!1,w(H),!y)if(t(l)!==null)y=!0,se(T);else{var j=t(c);j!==null&&ue(A,j.startTime-H)}}function T(H,j){y=!1,g&&(g=!1,x(M),M=-1),m=!0;var O=p;try{for(w(j),d=t(l);d!==null&&(!(d.expirationTime>j)||H&&!V());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var z=oe(d.expirationTime<=j);j=n.unstable_now(),typeof z=="function"?d.callback=z:d===t(l)&&r(l),w(j)}else r(l);d=t(l)}if(d!==null)var Q=!0;else{var de=t(c);de!==null&&ue(A,de.startTime-j),Q=!1}return Q}finally{d=null,p=O,m=!1}}var P=!1,L=null,M=-1,R=5,k=-1;function V(){return!(n.unstable_now()-k<R)}function U(){if(L!==null){var H=n.unstable_now();k=H;var j=!0;try{j=L(!0,H)}finally{j?F():(P=!1,L=null)}}else P=!1}var F;if(typeof _=="function")F=function(){_(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,q=J.port2;J.port1.onmessage=U,F=function(){q.postMessage(null)}}else F=function(){v(U,0)};function se(H){L=H,P||(P=!0,F())}function ue(H,j){M=v(function(){H(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,se(T))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var O=p;p=j;try{return H()}finally{p=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var O=p;p=H;try{return j()}finally{p=O}},n.unstable_scheduleCallback=function(H,j,O){var oe=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?oe+O:oe):O=oe,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=O+z,H={id:u++,callback:j,priorityLevel:H,startTime:O,expirationTime:z,sortIndex:-1},O>oe?(H.sortIndex=O,e(c,H),t(l)===null&&H===t(c)&&(g?(x(M),M=-1):g=!0,ue(A,O-oe))):(H.sortIndex=z,e(l,H),y||m||(y=!0,se(T))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var j=p;return function(){var O=p;p=j;try{return H.apply(this,arguments)}finally{p=O}}}})(yU);(function(n){n.exports=yU})(q7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vU=D,Ns=tE;function Le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xU=new Set,Pg={};function Rd(n,e){Rf(n,e),Rf(n+"Capture",e)}function Rf(n,e){for(Pg[n]=e,n=0;n<e.length;n++)xU.add(e[n])}var dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nE=Object.prototype.hasOwnProperty,Y7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sB={},oB={};function Q7(n){return nE.call(oB,n)?!0:nE.call(sB,n)?!1:Y7.test(n)?oB[n]=!0:(sB[n]=!0,!1)}function Z7(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function eK(n,e,t,r){if(e===null||typeof e>"u"||Z7(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ji(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ui[n]=new Ji(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ui[e]=new Ji(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ui[n]=new Ji(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ui[n]=new Ji(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ui[n]=new Ji(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ui[n]=new Ji(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ui[n]=new Ji(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ui[n]=new Ji(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ui[n]=new Ji(n,5,!1,n.toLowerCase(),null,!1,!1)});var I2=/[\-:]([a-z])/g;function R2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(I2,R2);ui[e]=new Ji(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(I2,R2);ui[e]=new Ji(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(I2,R2);ui[e]=new Ji(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ui[n]=new Ji(n,1,!1,n.toLowerCase(),null,!1,!1)});ui.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ui[n]=new Ji(n,1,!1,n.toLowerCase(),null,!0,!0)});function L2(n,e,t,r){var i=ui.hasOwnProperty(e)?ui[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eK(e,t,i,r)&&(t=null),r||i===null?Q7(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ml=vU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tv=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),rE=Symbol.for("react.profiler"),_U=Symbol.for("react.provider"),SU=Symbol.for("react.context"),D2=Symbol.for("react.forward_ref"),iE=Symbol.for("react.suspense"),sE=Symbol.for("react.suspense_list"),B2=Symbol.for("react.memo"),Zl=Symbol.for("react.lazy"),wU=Symbol.for("react.offscreen"),aB=Symbol.iterator;function sm(n){return n===null||typeof n!="object"?null:(n=aB&&n[aB]||n["@@iterator"],typeof n=="function"?n:null)}var sr=Object.assign,wA;function Om(n){if(wA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);wA=e&&e[1]||""}return`
`+wA+n}var bA=!1;function AA(n,e){if(!n||bA)return"";bA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{bA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Om(n):""}function tK(n){switch(n.tag){case 5:return Om(n.type);case 16:return Om("Lazy");case 13:return Om("Suspense");case 19:return Om("SuspenseList");case 0:case 2:case 15:return n=AA(n.type,!1),n;case 11:return n=AA(n.type.render,!1),n;case 1:return n=AA(n.type,!0),n;default:return""}}function oE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Uh:return"Fragment";case zh:return"Portal";case rE:return"Profiler";case k2:return"StrictMode";case iE:return"Suspense";case sE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case SU:return(n.displayName||"Context")+".Consumer";case _U:return(n._context.displayName||"Context")+".Provider";case D2:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case B2:return e=n.displayName||null,e!==null?e:oE(n.type)||"Memo";case Zl:e=n._payload,n=n._init;try{return oE(n(e))}catch{}}return null}function nK(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oE(e);case 8:return e===k2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function bU(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rK(n){var e=bU(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Pv(n){n._valueTracker||(n._valueTracker=rK(n))}function AU(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=bU(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function U1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function aE(n,e){var t=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function lB(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Dc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CU(n,e){e=e.checked,e!=null&&L2(n,"checked",e,!1)}function lE(n,e){CU(n,e);var t=Dc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?cE(n,e.type,t):e.hasOwnProperty("defaultValue")&&cE(n,e.type,Dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function cB(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function cE(n,e,t){(e!=="number"||U1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Nm=Array.isArray;function af(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Dc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function uE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function uB(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Le(92));if(Nm(t)){if(1<t.length)throw Error(Le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Dc(t)}}function MU(n,e){var t=Dc(e.value),r=Dc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function dB(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function EU(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?EU(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Iv,TU=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Iv=Iv||document.createElement("div"),Iv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ig(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var qm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iK=["Webkit","ms","Moz","O"];Object.keys(qm).forEach(function(n){iK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),qm[e]=qm[n]})});function PU(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||qm.hasOwnProperty(n)&&qm[n]?(""+e).trim():e+"px"}function IU(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=PU(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var sK=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hE(n,e){if(e){if(sK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function fE(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pE=null;function O2(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mE=null,lf=null,cf=null;function hB(n){if(n=Hy(n)){if(typeof mE!="function")throw Error(Le(280));var e=n.stateNode;e&&(e=SS(e),mE(n.stateNode,n.type,e))}}function RU(n){lf?cf?cf.push(n):cf=[n]:lf=n}function LU(){if(lf){var n=lf,e=cf;if(cf=lf=null,hB(n),e)for(n=0;n<e.length;n++)hB(e[n])}}function kU(n,e){return n(e)}function DU(){}var CA=!1;function BU(n,e,t){if(CA)return n(e,t);CA=!0;try{return kU(n,e,t)}finally{CA=!1,(lf!==null||cf!==null)&&(DU(),LU())}}function Rg(n,e){var t=n.stateNode;if(t===null)return null;var r=SS(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Le(231,e,typeof t));return t}var gE=!1;if(dl)try{var om={};Object.defineProperty(om,"passive",{get:function(){gE=!0}}),window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{gE=!1}function oK(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Ym=!1,H1=null,G1=!1,yE=null,aK={onError:function(n){Ym=!0,H1=n}};function lK(n,e,t,r,i,s,o,a,l){Ym=!1,H1=null,oK.apply(aK,arguments)}function cK(n,e,t,r,i,s,o,a,l){if(lK.apply(this,arguments),Ym){if(Ym){var c=H1;Ym=!1,H1=null}else throw Error(Le(198));G1||(G1=!0,yE=c)}}function Ld(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function OU(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function fB(n){if(Ld(n)!==n)throw Error(Le(188))}function uK(n){var e=n.alternate;if(!e){if(e=Ld(n),e===null)throw Error(Le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return fB(i),n;if(s===r)return fB(i),e;s=s.sibling}throw Error(Le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(t.alternate!==r)throw Error(Le(190))}if(t.tag!==3)throw Error(Le(188));return t.stateNode.current===t?n:e}function NU(n){return n=uK(n),n!==null?FU(n):null}function FU(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FU(n);if(e!==null)return e;n=n.sibling}return null}var zU=Ns.unstable_scheduleCallback,pB=Ns.unstable_cancelCallback,dK=Ns.unstable_shouldYield,hK=Ns.unstable_requestPaint,yr=Ns.unstable_now,fK=Ns.unstable_getCurrentPriorityLevel,N2=Ns.unstable_ImmediatePriority,UU=Ns.unstable_UserBlockingPriority,V1=Ns.unstable_NormalPriority,pK=Ns.unstable_LowPriority,HU=Ns.unstable_IdlePriority,yS=null,ga=null;function mK(n){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(yS,n,void 0,(n.current.flags&128)===128)}catch{}}var Ho=Math.clz32?Math.clz32:vK,gK=Math.log,yK=Math.LN2;function vK(n){return n>>>=0,n===0?32:31-(gK(n)/yK|0)|0}var Rv=64,Lv=4194304;function Fm(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function $1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Fm(a):(s&=o,s!==0&&(r=Fm(s)))}else o=t&~i,o!==0?r=Fm(o):s!==0&&(r=Fm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ho(e),i=1<<t,r|=n[t],e&=~i;return r}function xK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _K(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ho(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=xK(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function vE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function GU(){var n=Rv;return Rv<<=1,!(Rv&4194240)&&(Rv=64),n}function MA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function zy(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ho(e),n[e]=t}function SK(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ho(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function F2(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ho(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var _n=0;function VU(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $U,z2,WU,jU,KU,xE=!1,kv=[],gc=null,yc=null,vc=null,Lg=new Map,kg=new Map,ic=[],wK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mB(n,e){switch(n){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":Lg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kg.delete(e.pointerId)}}function am(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hy(e),e!==null&&z2(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function bK(n,e,t,r,i){switch(e){case"focusin":return gc=am(gc,n,e,t,r,i),!0;case"dragenter":return yc=am(yc,n,e,t,r,i),!0;case"mouseover":return vc=am(vc,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Lg.set(s,am(Lg.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kg.set(s,am(kg.get(s)||null,n,e,t,r,i)),!0}return!1}function XU(n){var e=Gu(n.target);if(e!==null){var t=Ld(e);if(t!==null){if(e=t.tag,e===13){if(e=OU(t),e!==null){n.blockedOn=e,KU(n.priority,function(){WU(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function r1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=_E(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);pE=r,t.target.dispatchEvent(r),pE=null}else return e=Hy(t),e!==null&&z2(e),n.blockedOn=t,!1;e.shift()}return!0}function gB(n,e,t){r1(n)&&t.delete(e)}function AK(){xE=!1,gc!==null&&r1(gc)&&(gc=null),yc!==null&&r1(yc)&&(yc=null),vc!==null&&r1(vc)&&(vc=null),Lg.forEach(gB),kg.forEach(gB)}function lm(n,e){n.blockedOn===e&&(n.blockedOn=null,xE||(xE=!0,Ns.unstable_scheduleCallback(Ns.unstable_NormalPriority,AK)))}function Dg(n){function e(i){return lm(i,n)}if(0<kv.length){lm(kv[0],n);for(var t=1;t<kv.length;t++){var r=kv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(gc!==null&&lm(gc,n),yc!==null&&lm(yc,n),vc!==null&&lm(vc,n),Lg.forEach(e),kg.forEach(e),t=0;t<ic.length;t++)r=ic[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ic.length&&(t=ic[0],t.blockedOn===null);)XU(t),t.blockedOn===null&&ic.shift()}var uf=Ml.ReactCurrentBatchConfig,W1=!0;function CK(n,e,t,r){var i=_n,s=uf.transition;uf.transition=null;try{_n=1,U2(n,e,t,r)}finally{_n=i,uf.transition=s}}function MK(n,e,t,r){var i=_n,s=uf.transition;uf.transition=null;try{_n=4,U2(n,e,t,r)}finally{_n=i,uf.transition=s}}function U2(n,e,t,r){if(W1){var i=_E(n,e,t,r);if(i===null)OA(n,e,r,j1,t),mB(n,r);else if(bK(i,n,e,t,r))r.stopPropagation();else if(mB(n,r),e&4&&-1<wK.indexOf(n)){for(;i!==null;){var s=Hy(i);if(s!==null&&$U(s),s=_E(n,e,t,r),s===null&&OA(n,e,r,j1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else OA(n,e,r,null,t)}}var j1=null;function _E(n,e,t,r){if(j1=null,n=O2(r),n=Gu(n),n!==null)if(e=Ld(n),e===null)n=null;else if(t=e.tag,t===13){if(n=OU(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return j1=n,null}function JU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fK()){case N2:return 1;case UU:return 4;case V1:case pK:return 16;case HU:return 536870912;default:return 16}default:return 16}}var lc=null,H2=null,i1=null;function qU(){if(i1)return i1;var n,e=H2,t=e.length,r,i="value"in lc?lc.value:lc.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return i1=i.slice(n,1<r?1-r:void 0)}function s1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Dv(){return!0}function yB(){return!1}function Gs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dv:yB,this.isPropagationStopped=yB,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),e}var up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G2=Gs(up),Uy=sr({},up,{view:0,detail:0}),EK=Gs(Uy),EA,TA,cm,vS=sr({},Uy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V2,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cm&&(cm&&n.type==="mousemove"?(EA=n.screenX-cm.screenX,TA=n.screenY-cm.screenY):TA=EA=0,cm=n),EA)},movementY:function(n){return"movementY"in n?n.movementY:TA}}),vB=Gs(vS),TK=sr({},vS,{dataTransfer:0}),PK=Gs(TK),IK=sr({},Uy,{relatedTarget:0}),PA=Gs(IK),RK=sr({},up,{animationName:0,elapsedTime:0,pseudoElement:0}),LK=Gs(RK),kK=sr({},up,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),DK=Gs(kK),BK=sr({},up,{data:0}),xB=Gs(BK),OK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=FK[n])?!!e[n]:!1}function V2(){return zK}var UK=sr({},Uy,{key:function(n){if(n.key){var e=OK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=s1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?NK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V2,charCode:function(n){return n.type==="keypress"?s1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?s1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),HK=Gs(UK),GK=sr({},vS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_B=Gs(GK),VK=sr({},Uy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V2}),$K=Gs(VK),WK=sr({},up,{propertyName:0,elapsedTime:0,pseudoElement:0}),jK=Gs(WK),KK=sr({},vS,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),XK=Gs(KK),JK=[9,13,27,32],$2=dl&&"CompositionEvent"in window,Qm=null;dl&&"documentMode"in document&&(Qm=document.documentMode);var qK=dl&&"TextEvent"in window&&!Qm,YU=dl&&(!$2||Qm&&8<Qm&&11>=Qm),SB=String.fromCharCode(32),wB=!1;function QU(n,e){switch(n){case"keyup":return JK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Hh=!1;function YK(n,e){switch(n){case"compositionend":return ZU(e);case"keypress":return e.which!==32?null:(wB=!0,SB);case"textInput":return n=e.data,n===SB&&wB?null:n;default:return null}}function QK(n,e){if(Hh)return n==="compositionend"||!$2&&QU(n,e)?(n=qU(),i1=H2=lc=null,Hh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YU&&e.locale!=="ko"?null:e.data;default:return null}}var ZK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bB(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!ZK[n.type]:e==="textarea"}function e5(n,e,t,r){RU(r),e=K1(e,"onChange"),0<e.length&&(t=new G2("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Zm=null,Bg=null;function eX(n){d5(n,0)}function xS(n){var e=$h(n);if(AU(e))return n}function tX(n,e){if(n==="change")return e}var t5=!1;if(dl){var IA;if(dl){var RA="oninput"in document;if(!RA){var AB=document.createElement("div");AB.setAttribute("oninput","return;"),RA=typeof AB.oninput=="function"}IA=RA}else IA=!1;t5=IA&&(!document.documentMode||9<document.documentMode)}function CB(){Zm&&(Zm.detachEvent("onpropertychange",n5),Bg=Zm=null)}function n5(n){if(n.propertyName==="value"&&xS(Bg)){var e=[];e5(e,Bg,n,O2(n)),BU(eX,e)}}function nX(n,e,t){n==="focusin"?(CB(),Zm=e,Bg=t,Zm.attachEvent("onpropertychange",n5)):n==="focusout"&&CB()}function rX(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xS(Bg)}function iX(n,e){if(n==="click")return xS(e)}function sX(n,e){if(n==="input"||n==="change")return xS(e)}function oX(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wo=typeof Object.is=="function"?Object.is:oX;function Og(n,e){if(Wo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!nE.call(e,i)||!Wo(n[i],e[i]))return!1}return!0}function MB(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function EB(n,e){var t=MB(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=MB(t)}}function r5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?r5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function i5(){for(var n=window,e=U1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=U1(n.document)}return e}function W2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function aX(n){var e=i5(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&r5(t.ownerDocument.documentElement,t)){if(r!==null&&W2(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=EB(t,s);var o=EB(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lX=dl&&"documentMode"in document&&11>=document.documentMode,Gh=null,SE=null,eg=null,wE=!1;function TB(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;wE||Gh==null||Gh!==U1(r)||(r=Gh,"selectionStart"in r&&W2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eg&&Og(eg,r)||(eg=r,r=K1(SE,"onSelect"),0<r.length&&(e=new G2("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Gh)))}function Bv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Vh={animationend:Bv("Animation","AnimationEnd"),animationiteration:Bv("Animation","AnimationIteration"),animationstart:Bv("Animation","AnimationStart"),transitionend:Bv("Transition","TransitionEnd")},LA={},s5={};dl&&(s5=document.createElement("div").style,"AnimationEvent"in window||(delete Vh.animationend.animation,delete Vh.animationiteration.animation,delete Vh.animationstart.animation),"TransitionEvent"in window||delete Vh.transitionend.transition);function _S(n){if(LA[n])return LA[n];if(!Vh[n])return n;var e=Vh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in s5)return LA[n]=e[t];return n}var o5=_S("animationend"),a5=_S("animationiteration"),l5=_S("animationstart"),c5=_S("transitionend"),u5=new Map,PB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wc(n,e){u5.set(n,e),Rd(e,[n])}for(var kA=0;kA<PB.length;kA++){var DA=PB[kA],cX=DA.toLowerCase(),uX=DA[0].toUpperCase()+DA.slice(1);Wc(cX,"on"+uX)}Wc(o5,"onAnimationEnd");Wc(a5,"onAnimationIteration");Wc(l5,"onAnimationStart");Wc("dblclick","onDoubleClick");Wc("focusin","onFocus");Wc("focusout","onBlur");Wc(c5,"onTransitionEnd");Rf("onMouseEnter",["mouseout","mouseover"]);Rf("onMouseLeave",["mouseout","mouseover"]);Rf("onPointerEnter",["pointerout","pointerover"]);Rf("onPointerLeave",["pointerout","pointerover"]);Rd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dX=new Set("cancel close invalid load scroll toggle".split(" ").concat(zm));function IB(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,cK(r,e,void 0,n),n.currentTarget=null}function d5(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;IB(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;IB(i,a,c),s=l}}}if(G1)throw n=yE,G1=!1,yE=null,n}function kn(n,e){var t=e[EE];t===void 0&&(t=e[EE]=new Set);var r=n+"__bubble";t.has(r)||(h5(e,n,2,!1),t.add(r))}function BA(n,e,t){var r=0;e&&(r|=4),h5(t,n,r,e)}var Ov="_reactListening"+Math.random().toString(36).slice(2);function Ng(n){if(!n[Ov]){n[Ov]=!0,xU.forEach(function(t){t!=="selectionchange"&&(dX.has(t)||BA(t,!1,n),BA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ov]||(e[Ov]=!0,BA("selectionchange",!1,e))}}function h5(n,e,t,r){switch(JU(e)){case 1:var i=CK;break;case 4:i=MK;break;default:i=U2}t=i.bind(null,e,t,n),i=void 0,!gE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function OA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Gu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BU(function(){var c=s,u=O2(t),d=[];e:{var p=u5.get(n);if(p!==void 0){var m=G2,y=n;switch(n){case"keypress":if(s1(t)===0)break e;case"keydown":case"keyup":m=HK;break;case"focusin":y="focus",m=PA;break;case"focusout":y="blur",m=PA;break;case"beforeblur":case"afterblur":m=PA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$K;break;case o5:case a5:case l5:m=LK;break;case c5:m=jK;break;case"scroll":m=EK;break;case"wheel":m=XK;break;case"copy":case"cut":case"paste":m=DK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=_B}var g=(e&4)!==0,v=!g&&n==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var _=c,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,x!==null&&(A=Rg(_,x),A!=null&&g.push(Fg(_,A,w)))),v)break;_=_.return}0<g.length&&(p=new m(p,y,null,t,u),d.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==pE&&(y=t.relatedTarget||t.fromElement)&&(Gu(y)||y[hl]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?Gu(y):null,y!==null&&(v=Ld(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=vB,A="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(g=_B,A="onPointerLeave",x="onPointerEnter",_="pointer"),v=m==null?p:$h(m),w=y==null?p:$h(y),p=new g(A,_+"leave",m,t,u),p.target=v,p.relatedTarget=w,A=null,Gu(u)===c&&(g=new g(x,_+"enter",y,t,u),g.target=w,g.relatedTarget=v,A=g),v=A,m&&y)t:{for(g=m,x=y,_=0,w=g;w;w=uh(w))_++;for(w=0,A=x;A;A=uh(A))w++;for(;0<_-w;)g=uh(g),_--;for(;0<w-_;)x=uh(x),w--;for(;_--;){if(g===x||x!==null&&g===x.alternate)break t;g=uh(g),x=uh(x)}g=null}else g=null;m!==null&&RB(d,p,m,g,!1),y!==null&&v!==null&&RB(d,v,y,g,!0)}}e:{if(p=c?$h(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=tX;else if(bB(p))if(t5)T=sX;else{T=rX;var P=nX}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=iX);if(T&&(T=T(n,c))){e5(d,T,t,u);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&cE(p,"number",p.value)}switch(P=c?$h(c):window,n){case"focusin":(bB(P)||P.contentEditable==="true")&&(Gh=P,SE=c,eg=null);break;case"focusout":eg=SE=Gh=null;break;case"mousedown":wE=!0;break;case"contextmenu":case"mouseup":case"dragend":wE=!1,TB(d,t,u);break;case"selectionchange":if(lX)break;case"keydown":case"keyup":TB(d,t,u)}var L;if($2)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Hh?QU(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(YU&&t.locale!=="ko"&&(Hh||M!=="onCompositionStart"?M==="onCompositionEnd"&&Hh&&(L=qU()):(lc=u,H2="value"in lc?lc.value:lc.textContent,Hh=!0)),P=K1(c,M),0<P.length&&(M=new xB(M,n,null,t,u),d.push({event:M,listeners:P}),L?M.data=L:(L=ZU(t),L!==null&&(M.data=L)))),(L=qK?YK(n,t):QK(n,t))&&(c=K1(c,"onBeforeInput"),0<c.length&&(u=new xB("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=L))}d5(d,e)})}function Fg(n,e,t){return{instance:n,listener:e,currentTarget:t}}function K1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rg(n,t),s!=null&&r.unshift(Fg(n,s,i)),s=Rg(n,e),s!=null&&r.push(Fg(n,s,i))),n=n.return}return r}function uh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RB(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rg(t,s),l!=null&&o.unshift(Fg(t,l,a))):i||(l=Rg(t,s),l!=null&&o.push(Fg(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var hX=/\r\n?/g,fX=/\u0000|\uFFFD/g;function LB(n){return(typeof n=="string"?n:""+n).replace(hX,`
`).replace(fX,"")}function Nv(n,e,t){if(e=LB(e),LB(n)!==e&&t)throw Error(Le(425))}function X1(){}var bE=null,AE=null;function CE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ME=typeof setTimeout=="function"?setTimeout:void 0,pX=typeof clearTimeout=="function"?clearTimeout:void 0,kB=typeof Promise=="function"?Promise:void 0,mX=typeof queueMicrotask=="function"?queueMicrotask:typeof kB<"u"?function(n){return kB.resolve(null).then(n).catch(gX)}:ME;function gX(n){setTimeout(function(){throw n})}function NA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Dg(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Dg(e)}function xc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function DB(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var dp=Math.random().toString(36).slice(2),ua="__reactFiber$"+dp,zg="__reactProps$"+dp,hl="__reactContainer$"+dp,EE="__reactEvents$"+dp,yX="__reactListeners$"+dp,vX="__reactHandles$"+dp;function Gu(n){var e=n[ua];if(e)return e;for(var t=n.parentNode;t;){if(e=t[hl]||t[ua]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=DB(n);n!==null;){if(t=n[ua])return t;n=DB(n)}return e}n=t,t=n.parentNode}return null}function Hy(n){return n=n[ua]||n[hl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $h(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Le(33))}function SS(n){return n[zg]||null}var TE=[],Wh=-1;function jc(n){return{current:n}}function Fn(n){0>Wh||(n.current=TE[Wh],TE[Wh]=null,Wh--)}function In(n,e){Wh++,TE[Wh]=n.current,n.current=e}var Bc={},Li=jc(Bc),os=jc(!1),pd=Bc;function Lf(n,e){var t=n.type.contextTypes;if(!t)return Bc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function as(n){return n=n.childContextTypes,n!=null}function J1(){Fn(os),Fn(Li)}function BB(n,e,t){if(Li.current!==Bc)throw Error(Le(168));In(Li,e),In(os,t)}function f5(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Le(108,nK(n)||"Unknown",i));return sr({},t,r)}function q1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bc,pd=Li.current,In(Li,n),In(os,os.current),!0}function OB(n,e,t){var r=n.stateNode;if(!r)throw Error(Le(169));t?(n=f5(n,e,pd),r.__reactInternalMemoizedMergedChildContext=n,Fn(os),Fn(Li),In(Li,n)):Fn(os),In(os,t)}var Ka=null,wS=!1,FA=!1;function p5(n){Ka===null?Ka=[n]:Ka.push(n)}function xX(n){wS=!0,p5(n)}function Kc(){if(!FA&&Ka!==null){FA=!0;var n=0,e=_n;try{var t=Ka;for(_n=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ka=null,wS=!1}catch(i){throw Ka!==null&&(Ka=Ka.slice(n+1)),zU(N2,Kc),i}finally{_n=e,FA=!1}}return null}var jh=[],Kh=0,Y1=null,Q1=0,oo=[],ao=0,md=null,Qa=1,Za="";function Eu(n,e){jh[Kh++]=Q1,jh[Kh++]=Y1,Y1=n,Q1=e}function m5(n,e,t){oo[ao++]=Qa,oo[ao++]=Za,oo[ao++]=md,md=n;var r=Qa;n=Za;var i=32-Ho(r)-1;r&=~(1<<i),t+=1;var s=32-Ho(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qa=1<<32-Ho(e)+i|t<<i|r,Za=s+n}else Qa=1<<s|t<<i|r,Za=n}function j2(n){n.return!==null&&(Eu(n,1),m5(n,1,0))}function K2(n){for(;n===Y1;)Y1=jh[--Kh],jh[Kh]=null,Q1=jh[--Kh],jh[Kh]=null;for(;n===md;)md=oo[--ao],oo[ao]=null,Za=oo[--ao],oo[ao]=null,Qa=oo[--ao],oo[ao]=null}var Ls=null,Ps=null,Xn=!1,Bo=null;function g5(n,e){var t=uo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function NB(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ls=n,Ps=xc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ls=n,Ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=md!==null?{id:Qa,overflow:Za}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=uo(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ls=n,Ps=null,!0):!1;default:return!1}}function PE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function IE(n){if(Xn){var e=Ps;if(e){var t=e;if(!NB(n,e)){if(PE(n))throw Error(Le(418));e=xc(t.nextSibling);var r=Ls;e&&NB(n,e)?g5(r,t):(n.flags=n.flags&-4097|2,Xn=!1,Ls=n)}}else{if(PE(n))throw Error(Le(418));n.flags=n.flags&-4097|2,Xn=!1,Ls=n}}}function FB(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ls=n}function Fv(n){if(n!==Ls)return!1;if(!Xn)return FB(n),Xn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!CE(n.type,n.memoizedProps)),e&&(e=Ps)){if(PE(n))throw y5(),Error(Le(418));for(;e;)g5(n,e),e=xc(e.nextSibling)}if(FB(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ps=xc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ps=null}}else Ps=Ls?xc(n.stateNode.nextSibling):null;return!0}function y5(){for(var n=Ps;n;)n=xc(n.nextSibling)}function kf(){Ps=Ls=null,Xn=!1}function X2(n){Bo===null?Bo=[n]:Bo.push(n)}var _X=Ml.ReactCurrentBatchConfig;function Lo(n,e){if(n&&n.defaultProps){e=sr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Z1=jc(null),e_=null,Xh=null,J2=null;function q2(){J2=Xh=e_=null}function Y2(n){var e=Z1.current;Fn(Z1),n._currentValue=e}function RE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function df(n,e){e_=n,J2=Xh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ss=!0),n.firstContext=null)}function yo(n){var e=n._currentValue;if(J2!==n)if(n={context:n,memoizedValue:e,next:null},Xh===null){if(e_===null)throw Error(Le(308));Xh=n,e_.dependencies={lanes:0,firstContext:n}}else Xh=Xh.next=n;return e}var Vu=null;function Q2(n){Vu===null?Vu=[n]:Vu.push(n)}function v5(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Q2(e)):(t.next=i.next,i.next=t),e.interleaved=t,fl(n,r)}function fl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ec=!1;function Z2(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x5(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function sl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _c(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fl(n,t)}return i=r.interleaved,i===null?(e.next=e,Q2(r)):(e.next=i.next,i.next=e),r.interleaved=e,fl(n,t)}function o1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,F2(n,t)}}function zB(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function t_(n,e,t,r){var i=n.updateQueue;ec=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(m,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,d,p):y,p==null)break e;d=sr({},d,p);break e;case 2:ec=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yd|=o,n.lanes=o,n.memoizedState=d}}function UB(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Le(191,i));i.call(r)}}}var _5=new vU.Component().refs;function LE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:sr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var bS={isMounted:function(n){return(n=n._reactInternals)?Ld(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Wi(),i=wc(n),s=sl(r,i);s.payload=e,t!=null&&(s.callback=t),e=_c(n,s,i),e!==null&&(Go(e,n,i,r),o1(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Wi(),i=wc(n),s=sl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=_c(n,s,i),e!==null&&(Go(e,n,i,r),o1(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Wi(),r=wc(n),i=sl(t,r);i.tag=2,e!=null&&(i.callback=e),e=_c(n,i,r),e!==null&&(Go(e,n,r,t),o1(e,n,r))}};function HB(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Og(t,r)||!Og(i,s):!0}function S5(n,e,t){var r=!1,i=Bc,s=e.contextType;return typeof s=="object"&&s!==null?s=yo(s):(i=as(e)?pd:Li.current,r=e.contextTypes,s=(r=r!=null)?Lf(n,i):Bc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bS,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function GB(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&bS.enqueueReplaceState(e,e.state,null)}function kE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=_5,Z2(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yo(s):(s=as(e)?pd:Li.current,i.context=Lf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(LE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bS.enqueueReplaceState(i,i.state,null),t_(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function um(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Le(309));var r=t.stateNode}if(!r)throw Error(Le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===_5&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Le(284));if(!t._owner)throw Error(Le(290,n))}return n}function zv(n,e){throw n=Object.prototype.toString.call(e),Error(Le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function VB(n){var e=n._init;return e(n._payload)}function w5(n){function e(x,_){if(n){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=bc(x,_),x.index=0,x.sibling=null,x}function s(x,_,w){return x.index=w,n?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,w,A){return _===null||_.tag!==6?(_=WA(w,x.mode,A),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,A){var T=w.type;return T===Uh?u(x,_,w.props.children,A,w.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zl&&VB(T)===_.type)?(A=i(_,w.props),A.ref=um(x,_,w),A.return=x,A):(A=h1(w.type,w.key,w.props,null,x.mode,A),A.ref=um(x,_,w),A.return=x,A)}function c(x,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=jA(w,x.mode,A),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function u(x,_,w,A,T){return _===null||_.tag!==7?(_=nd(w,x.mode,A,T),_.return=x,_):(_=i(_,w),_.return=x,_)}function d(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=WA(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tv:return w=h1(_.type,_.key,_.props,null,x.mode,w),w.ref=um(x,null,_),w.return=x,w;case zh:return _=jA(_,x.mode,w),_.return=x,_;case Zl:var A=_._init;return d(x,A(_._payload),w)}if(Nm(_)||sm(_))return _=nd(_,x.mode,w,null),_.return=x,_;zv(x,_)}return null}function p(x,_,w,A){var T=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(x,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tv:return w.key===T?l(x,_,w,A):null;case zh:return w.key===T?c(x,_,w,A):null;case Zl:return T=w._init,p(x,_,T(w._payload),A)}if(Nm(w)||sm(w))return T!==null?null:u(x,_,w,A,null);zv(x,w)}return null}function m(x,_,w,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(w)||null,a(_,x,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Tv:return x=x.get(A.key===null?w:A.key)||null,l(_,x,A,T);case zh:return x=x.get(A.key===null?w:A.key)||null,c(_,x,A,T);case Zl:var P=A._init;return m(x,_,w,P(A._payload),T)}if(Nm(A)||sm(A))return x=x.get(w)||null,u(_,x,A,T,null);zv(_,A)}return null}function y(x,_,w,A){for(var T=null,P=null,L=_,M=_=0,R=null;L!==null&&M<w.length;M++){L.index>M?(R=L,L=null):R=L.sibling;var k=p(x,L,w[M],A);if(k===null){L===null&&(L=R);break}n&&L&&k.alternate===null&&e(x,L),_=s(k,_,M),P===null?T=k:P.sibling=k,P=k,L=R}if(M===w.length)return t(x,L),Xn&&Eu(x,M),T;if(L===null){for(;M<w.length;M++)L=d(x,w[M],A),L!==null&&(_=s(L,_,M),P===null?T=L:P.sibling=L,P=L);return Xn&&Eu(x,M),T}for(L=r(x,L);M<w.length;M++)R=m(L,x,M,w[M],A),R!==null&&(n&&R.alternate!==null&&L.delete(R.key===null?M:R.key),_=s(R,_,M),P===null?T=R:P.sibling=R,P=R);return n&&L.forEach(function(V){return e(x,V)}),Xn&&Eu(x,M),T}function g(x,_,w,A){var T=sm(w);if(typeof T!="function")throw Error(Le(150));if(w=T.call(w),w==null)throw Error(Le(151));for(var P=T=null,L=_,M=_=0,R=null,k=w.next();L!==null&&!k.done;M++,k=w.next()){L.index>M?(R=L,L=null):R=L.sibling;var V=p(x,L,k.value,A);if(V===null){L===null&&(L=R);break}n&&L&&V.alternate===null&&e(x,L),_=s(V,_,M),P===null?T=V:P.sibling=V,P=V,L=R}if(k.done)return t(x,L),Xn&&Eu(x,M),T;if(L===null){for(;!k.done;M++,k=w.next())k=d(x,k.value,A),k!==null&&(_=s(k,_,M),P===null?T=k:P.sibling=k,P=k);return Xn&&Eu(x,M),T}for(L=r(x,L);!k.done;M++,k=w.next())k=m(L,x,M,k.value,A),k!==null&&(n&&k.alternate!==null&&L.delete(k.key===null?M:k.key),_=s(k,_,M),P===null?T=k:P.sibling=k,P=k);return n&&L.forEach(function(U){return e(x,U)}),Xn&&Eu(x,M),T}function v(x,_,w,A){if(typeof w=="object"&&w!==null&&w.type===Uh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tv:e:{for(var T=w.key,P=_;P!==null;){if(P.key===T){if(T=w.type,T===Uh){if(P.tag===7){t(x,P.sibling),_=i(P,w.props.children),_.return=x,x=_;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Zl&&VB(T)===P.type){t(x,P.sibling),_=i(P,w.props),_.ref=um(x,P,w),_.return=x,x=_;break e}t(x,P);break}else e(x,P);P=P.sibling}w.type===Uh?(_=nd(w.props.children,x.mode,A,w.key),_.return=x,x=_):(A=h1(w.type,w.key,w.props,null,x.mode,A),A.ref=um(x,_,w),A.return=x,x=A)}return o(x);case zh:e:{for(P=w.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){t(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=jA(w,x.mode,A),_.return=x,x=_}return o(x);case Zl:return P=w._init,v(x,_,P(w._payload),A)}if(Nm(w))return y(x,_,w,A);if(sm(w))return g(x,_,w,A);zv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,w),_.return=x,x=_):(t(x,_),_=WA(w,x.mode,A),_.return=x,x=_),o(x)):t(x,_)}return v}var Df=w5(!0),b5=w5(!1),Gy={},ya=jc(Gy),Ug=jc(Gy),Hg=jc(Gy);function $u(n){if(n===Gy)throw Error(Le(174));return n}function eI(n,e){switch(In(Hg,e),In(Ug,n),In(ya,Gy),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dE(e,n)}Fn(ya),In(ya,e)}function Bf(){Fn(ya),Fn(Ug),Fn(Hg)}function A5(n){$u(Hg.current);var e=$u(ya.current),t=dE(e,n.type);e!==t&&(In(Ug,n),In(ya,t))}function tI(n){Ug.current===n&&(Fn(ya),Fn(Ug))}var er=jc(0);function n_(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zA=[];function nI(){for(var n=0;n<zA.length;n++)zA[n]._workInProgressVersionPrimary=null;zA.length=0}var a1=Ml.ReactCurrentDispatcher,UA=Ml.ReactCurrentBatchConfig,gd=0,ir=null,kr=null,Jr=null,r_=!1,tg=!1,Gg=0,SX=0;function xi(){throw Error(Le(321))}function rI(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Wo(n[t],e[t]))return!1;return!0}function iI(n,e,t,r,i,s){if(gd=s,ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,a1.current=n===null||n.memoizedState===null?CX:MX,n=t(r,i),tg){s=0;do{if(tg=!1,Gg=0,25<=s)throw Error(Le(301));s+=1,Jr=kr=null,e.updateQueue=null,a1.current=EX,n=t(r,i)}while(tg)}if(a1.current=i_,e=kr!==null&&kr.next!==null,gd=0,Jr=kr=ir=null,r_=!1,e)throw Error(Le(300));return n}function sI(){var n=Gg!==0;return Gg=0,n}function sa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?ir.memoizedState=Jr=n:Jr=Jr.next=n,Jr}function vo(){if(kr===null){var n=ir.alternate;n=n!==null?n.memoizedState:null}else n=kr.next;var e=Jr===null?ir.memoizedState:Jr.next;if(e!==null)Jr=e,kr=n;else{if(n===null)throw Error(Le(310));kr=n,n={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Jr===null?ir.memoizedState=Jr=n:Jr=Jr.next=n}return Jr}function Vg(n,e){return typeof e=="function"?e(n):e}function HA(n){var e=vo(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=kr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ir.lanes|=u,yd|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Wo(r,e.memoizedState)||(ss=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,ir.lanes|=s,yd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function GA(n){var e=vo(),t=e.queue;if(t===null)throw Error(Le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Wo(s,e.memoizedState)||(ss=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function C5(){}function M5(n,e){var t=ir,r=vo(),i=e(),s=!Wo(r.memoizedState,i);if(s&&(r.memoizedState=i,ss=!0),r=r.queue,oI(P5.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Jr!==null&&Jr.memoizedState.tag&1){if(t.flags|=2048,$g(9,T5.bind(null,t,r,i,e),void 0,null),Yr===null)throw Error(Le(349));gd&30||E5(t,e,i)}return i}function E5(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function T5(n,e,t,r){e.value=t,e.getSnapshot=r,I5(e)&&R5(n)}function P5(n,e,t){return t(function(){I5(e)&&R5(n)})}function I5(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Wo(n,t)}catch{return!0}}function R5(n){var e=fl(n,1);e!==null&&Go(e,n,1,-1)}function $B(n){var e=sa();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},e.queue=n,n=n.dispatch=AX.bind(null,ir,n),[e.memoizedState,n]}function $g(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function L5(){return vo().memoizedState}function l1(n,e,t,r){var i=sa();ir.flags|=n,i.memoizedState=$g(1|e,t,void 0,r===void 0?null:r)}function AS(n,e,t,r){var i=vo();r=r===void 0?null:r;var s=void 0;if(kr!==null){var o=kr.memoizedState;if(s=o.destroy,r!==null&&rI(r,o.deps)){i.memoizedState=$g(e,t,s,r);return}}ir.flags|=n,i.memoizedState=$g(1|e,t,s,r)}function WB(n,e){return l1(8390656,8,n,e)}function oI(n,e){return AS(2048,8,n,e)}function k5(n,e){return AS(4,2,n,e)}function D5(n,e){return AS(4,4,n,e)}function B5(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function O5(n,e,t){return t=t!=null?t.concat([n]):null,AS(4,4,B5.bind(null,e,n),t)}function aI(){}function N5(n,e){var t=vo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&rI(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function F5(n,e){var t=vo();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&rI(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function z5(n,e,t){return gd&21?(Wo(t,e)||(t=GU(),ir.lanes|=t,yd|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ss=!0),n.memoizedState=t)}function wX(n,e){var t=_n;_n=t!==0&&4>t?t:4,n(!0);var r=UA.transition;UA.transition={};try{n(!1),e()}finally{_n=t,UA.transition=r}}function U5(){return vo().memoizedState}function bX(n,e,t){var r=wc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},H5(n))G5(e,t);else if(t=v5(n,e,t,r),t!==null){var i=Wi();Go(t,n,r,i),V5(t,e,r)}}function AX(n,e,t){var r=wc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(H5(n))G5(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Wo(a,o)){var l=e.interleaved;l===null?(i.next=i,Q2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=v5(n,e,i,r),t!==null&&(i=Wi(),Go(t,n,r,i),V5(t,e,r))}}function H5(n){var e=n.alternate;return n===ir||e!==null&&e===ir}function G5(n,e){tg=r_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function V5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,F2(n,t)}}var i_={readContext:yo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},CX={readContext:yo,useCallback:function(n,e){return sa().memoizedState=[n,e===void 0?null:e],n},useContext:yo,useEffect:WB,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,l1(4194308,4,B5.bind(null,e,n),t)},useLayoutEffect:function(n,e){return l1(4194308,4,n,e)},useInsertionEffect:function(n,e){return l1(4,2,n,e)},useMemo:function(n,e){var t=sa();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=sa();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=bX.bind(null,ir,n),[r.memoizedState,n]},useRef:function(n){var e=sa();return n={current:n},e.memoizedState=n},useState:$B,useDebugValue:aI,useDeferredValue:function(n){return sa().memoizedState=n},useTransition:function(){var n=$B(!1),e=n[0];return n=wX.bind(null,n[1]),sa().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=ir,i=sa();if(Xn){if(t===void 0)throw Error(Le(407));t=t()}else{if(t=e(),Yr===null)throw Error(Le(349));gd&30||E5(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,WB(P5.bind(null,r,s,n),[n]),r.flags|=2048,$g(9,T5.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=sa(),e=Yr.identifierPrefix;if(Xn){var t=Za,r=Qa;t=(r&~(1<<32-Ho(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Gg++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=SX++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},MX={readContext:yo,useCallback:N5,useContext:yo,useEffect:oI,useImperativeHandle:O5,useInsertionEffect:k5,useLayoutEffect:D5,useMemo:F5,useReducer:HA,useRef:L5,useState:function(){return HA(Vg)},useDebugValue:aI,useDeferredValue:function(n){var e=vo();return z5(e,kr.memoizedState,n)},useTransition:function(){var n=HA(Vg)[0],e=vo().memoizedState;return[n,e]},useMutableSource:C5,useSyncExternalStore:M5,useId:U5,unstable_isNewReconciler:!1},EX={readContext:yo,useCallback:N5,useContext:yo,useEffect:oI,useImperativeHandle:O5,useInsertionEffect:k5,useLayoutEffect:D5,useMemo:F5,useReducer:GA,useRef:L5,useState:function(){return GA(Vg)},useDebugValue:aI,useDeferredValue:function(n){var e=vo();return kr===null?e.memoizedState=n:z5(e,kr.memoizedState,n)},useTransition:function(){var n=GA(Vg)[0],e=vo().memoizedState;return[n,e]},useMutableSource:C5,useSyncExternalStore:M5,useId:U5,unstable_isNewReconciler:!1};function Of(n,e){try{var t="",r=e;do t+=tK(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function VA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function DE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var TX=typeof WeakMap=="function"?WeakMap:Map;function $5(n,e,t){t=sl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){o_||(o_=!0,$E=r),DE(n,e)},t}function W5(n,e,t){t=sl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){DE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){DE(n,e),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function jB(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new TX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=GX.bind(null,n,e,t),e.then(n,n))}function KB(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function XB(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=sl(-1,1),e.tag=2,_c(t,e,1))),t.lanes|=1),n)}var PX=Ml.ReactCurrentOwner,ss=!1;function Gi(n,e,t,r){e.child=n===null?b5(e,null,t,r):Df(e,n.child,t,r)}function JB(n,e,t,r,i){t=t.render;var s=e.ref;return df(e,i),r=iI(n,e,t,r,s,i),t=sI(),n!==null&&!ss?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,pl(n,e,i)):(Xn&&t&&j2(e),e.flags|=1,Gi(n,e,r,i),e.child)}function qB(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!mI(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,j5(n,e,s,r,i)):(n=h1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Og,t(o,r)&&n.ref===e.ref)return pl(n,e,i)}return e.flags|=1,n=bc(s,r),n.ref=e.ref,n.return=e,e.child=n}function j5(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Og(s,r)&&n.ref===e.ref)if(ss=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ss=!0);else return e.lanes=n.lanes,pl(n,e,i)}return BE(n,e,t,r,i)}function K5(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(qh,Ms),Ms|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,In(qh,Ms),Ms|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,In(qh,Ms),Ms|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,In(qh,Ms),Ms|=r;return Gi(n,e,i,t),e.child}function X5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function BE(n,e,t,r,i){var s=as(t)?pd:Li.current;return s=Lf(e,s),df(e,i),t=iI(n,e,t,r,s,i),r=sI(),n!==null&&!ss?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,pl(n,e,i)):(Xn&&r&&j2(e),e.flags|=1,Gi(n,e,t,i),e.child)}function YB(n,e,t,r,i){if(as(t)){var s=!0;q1(e)}else s=!1;if(df(e,i),e.stateNode===null)c1(n,e),S5(e,t,r),kE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=yo(c):(c=as(t)?pd:Li.current,c=Lf(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&GB(e,o,r,c),ec=!1;var p=e.memoizedState;o.state=p,t_(e,r,o,i),l=e.memoizedState,a!==r||p!==l||os.current||ec?(typeof u=="function"&&(LE(e,t,u,r),l=e.memoizedState),(a=ec||HB(e,t,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,x5(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lo(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=yo(l):(l=as(t)?pd:Li.current,l=Lf(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&GB(e,o,r,l),ec=!1,p=e.memoizedState,o.state=p,t_(e,r,o,i);var y=e.memoizedState;a!==d||p!==y||os.current||ec?(typeof m=="function"&&(LE(e,t,m,r),y=e.memoizedState),(c=ec||HB(e,t,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return OE(n,e,t,r,s,i)}function OE(n,e,t,r,i,s){X5(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&OB(e,t,!1),pl(n,e,s);r=e.stateNode,PX.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Df(e,n.child,null,s),e.child=Df(e,null,a,s)):Gi(n,e,a,s),e.memoizedState=r.state,i&&OB(e,t,!0),e.child}function J5(n){var e=n.stateNode;e.pendingContext?BB(n,e.pendingContext,e.pendingContext!==e.context):e.context&&BB(n,e.context,!1),eI(n,e.containerInfo)}function QB(n,e,t,r,i){return kf(),X2(i),e.flags|=256,Gi(n,e,t,r),e.child}var NE={dehydrated:null,treeContext:null,retryLane:0};function FE(n){return{baseLanes:n,cachePool:null,transitions:null}}function q5(n,e,t){var r=e.pendingProps,i=er.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),In(er,i&1),n===null)return IE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ES(o,r,0,null),n=nd(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=FE(t),e.memoizedState=NE,n):lI(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IX(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bc(a,s):(s=nd(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?FE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=NE,r}return s=n.child,n=s.sibling,r=bc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function lI(n,e){return e=ES({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Uv(n,e,t,r){return r!==null&&X2(r),Df(e,n.child,null,t),n=lI(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function IX(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=VA(Error(Le(422))),Uv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ES({mode:"visible",children:r.children},i,0,null),s=nd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Df(e,n.child,null,o),e.child.memoizedState=FE(o),e.memoizedState=NE,s);if(!(e.mode&1))return Uv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Le(419)),r=VA(s,r,void 0),Uv(n,e,o,r)}if(a=(o&n.childLanes)!==0,ss||a){if(r=Yr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fl(n,i),Go(r,n,i,-1))}return pI(),r=VA(Error(Le(421))),Uv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=VX.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ps=xc(i.nextSibling),Ls=e,Xn=!0,Bo=null,n!==null&&(oo[ao++]=Qa,oo[ao++]=Za,oo[ao++]=md,Qa=n.id,Za=n.overflow,md=e),e=lI(e,r.children),e.flags|=4096,e)}function ZB(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),RE(n.return,e,t)}function $A(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function Y5(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gi(n,e,r.children,t),r=er.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ZB(n,t,e);else if(n.tag===19)ZB(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(In(er,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&n_(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),$A(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&n_(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}$A(e,!0,t,null,s);break;case"together":$A(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function c1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function pl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yd|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Le(153));if(e.child!==null){for(n=e.child,t=bc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=bc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function RX(n,e,t){switch(e.tag){case 3:J5(e),kf();break;case 5:A5(e);break;case 1:as(e.type)&&q1(e);break;case 4:eI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;In(Z1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(In(er,er.current&1),e.flags|=128,null):t&e.child.childLanes?q5(n,e,t):(In(er,er.current&1),n=pl(n,e,t),n!==null?n.sibling:null);In(er,er.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return Y5(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),In(er,er.current),r)break;return null;case 22:case 23:return e.lanes=0,K5(n,e,t)}return pl(n,e,t)}var Q5,zE,Z5,eH;Q5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};zE=function(){};Z5=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,$u(ya.current);var s=null;switch(t){case"input":i=aE(n,i),r=aE(n,r),s=[];break;case"select":i=sr({},i,{value:void 0}),r=sr({},r,{value:void 0}),s=[];break;case"textarea":i=uE(n,i),r=uE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=X1)}hE(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eH=function(n,e,t,r){t!==r&&(e.flags|=4)};function dm(n,e){if(!Xn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function _i(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function LX(n,e,t){var r=e.pendingProps;switch(K2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(e),null;case 1:return as(e.type)&&J1(),_i(e),null;case 3:return r=e.stateNode,Bf(),Fn(os),Fn(Li),nI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Fv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bo!==null&&(KE(Bo),Bo=null))),zE(n,e),_i(e),null;case 5:tI(e);var i=$u(Hg.current);if(t=e.type,n!==null&&e.stateNode!=null)Z5(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Le(166));return _i(e),null}if(n=$u(ya.current),Fv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ua]=e,r[zg]=s,n=(e.mode&1)!==0,t){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(i=0;i<zm.length;i++)kn(zm[i],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":lB(r,s),kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kn("invalid",r);break;case"textarea":uB(r,s),kn("invalid",r)}hE(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nv(r.textContent,a,n),i=["children",""+a]):Pg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kn("scroll",r)}switch(t){case"input":Pv(r),cB(r,s,!0);break;case"textarea":Pv(r),dB(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=X1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=EU(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ua]=e,n[zg]=r,Q5(n,e,!1,!1),e.stateNode=n;e:{switch(o=fE(t,r),t){case"dialog":kn("cancel",n),kn("close",n),i=r;break;case"iframe":case"object":case"embed":kn("load",n),i=r;break;case"video":case"audio":for(i=0;i<zm.length;i++)kn(zm[i],n);i=r;break;case"source":kn("error",n),i=r;break;case"img":case"image":case"link":kn("error",n),kn("load",n),i=r;break;case"details":kn("toggle",n),i=r;break;case"input":lB(n,r),i=aE(n,r),kn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=sr({},r,{value:void 0}),kn("invalid",n);break;case"textarea":uB(n,r),i=uE(n,r),kn("invalid",n);break;default:i=r}hE(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?IU(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TU(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ig(n,l):typeof l=="number"&&Ig(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kn("scroll",n):l!=null&&L2(n,s,l,o))}switch(t){case"input":Pv(n),cB(n,r,!1);break;case"textarea":Pv(n),dB(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Dc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?af(n,!!r.multiple,s,!1):r.defaultValue!=null&&af(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=X1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _i(e),null;case 6:if(n&&e.stateNode!=null)eH(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Le(166));if(t=$u(Hg.current),$u(ya.current),Fv(e)){if(r=e.stateNode,t=e.memoizedProps,r[ua]=e,(s=r.nodeValue!==t)&&(n=Ls,n!==null))switch(n.tag){case 3:Nv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Nv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ua]=e,e.stateNode=r}return _i(e),null;case 13:if(Fn(er),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xn&&Ps!==null&&e.mode&1&&!(e.flags&128))y5(),kf(),e.flags|=98560,s=!1;else if(s=Fv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[ua]=e}else kf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_i(e),s=!1}else Bo!==null&&(KE(Bo),Bo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||er.current&1?Br===0&&(Br=3):pI())),e.updateQueue!==null&&(e.flags|=4),_i(e),null);case 4:return Bf(),zE(n,e),n===null&&Ng(e.stateNode.containerInfo),_i(e),null;case 10:return Y2(e.type._context),_i(e),null;case 17:return as(e.type)&&J1(),_i(e),null;case 19:if(Fn(er),s=e.memoizedState,s===null)return _i(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)dm(s,!1);else{if(Br!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=n_(n),o!==null){for(e.flags|=128,dm(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return In(er,er.current&1|2),e.child}n=n.sibling}s.tail!==null&&yr()>Nf&&(e.flags|=128,r=!0,dm(s,!1),e.lanes=4194304)}else{if(!r)if(n=n_(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),dm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xn)return _i(e),null}else 2*yr()-s.renderingStartTime>Nf&&t!==1073741824&&(e.flags|=128,r=!0,dm(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yr(),e.sibling=null,t=er.current,In(er,r?t&1|2:t&1),e):(_i(e),null);case 22:case 23:return fI(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ms&1073741824&&(_i(e),e.subtreeFlags&6&&(e.flags|=8192)):_i(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function kX(n,e){switch(K2(e),e.tag){case 1:return as(e.type)&&J1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bf(),Fn(os),Fn(Li),nI(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return tI(e),null;case 13:if(Fn(er),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));kf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Fn(er),null;case 4:return Bf(),null;case 10:return Y2(e.type._context),null;case 22:case 23:return fI(),null;case 24:return null;default:return null}}var Hv=!1,Ei=!1,DX=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Jh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ur(n,e,r)}else t.current=null}function UE(n,e,t){try{t()}catch(r){ur(n,e,r)}}var e3=!1;function BX(n,e){if(bE=W1,n=i5(),W2(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(AE={focusedElem:n,selectionRange:t},W1=!1,rt=e;rt!==null;)if(e=rt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,rt=n;else for(;rt!==null;){e=rt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Lo(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(A){ur(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}return y=e3,e3=!1,y}function ng(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&UE(e,t,s)}i=i.next}while(i!==r)}}function CS(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function HE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function tH(n){var e=n.alternate;e!==null&&(n.alternate=null,tH(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ua],delete e[zg],delete e[EE],delete e[yX],delete e[vX])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nH(n){return n.tag===5||n.tag===3||n.tag===4}function t3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nH(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function GE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=X1));else if(r!==4&&(n=n.child,n!==null))for(GE(n,e,t),n=n.sibling;n!==null;)GE(n,e,t),n=n.sibling}function VE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(VE(n,e,t),n=n.sibling;n!==null;)VE(n,e,t),n=n.sibling}var si=null,ko=!1;function Hl(n,e,t){for(t=t.child;t!==null;)rH(n,e,t),t=t.sibling}function rH(n,e,t){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(yS,t)}catch{}switch(t.tag){case 5:Ei||Jh(t,e);case 6:var r=si,i=ko;si=null,Hl(n,e,t),si=r,ko=i,si!==null&&(ko?(n=si,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):si.removeChild(t.stateNode));break;case 18:si!==null&&(ko?(n=si,t=t.stateNode,n.nodeType===8?NA(n.parentNode,t):n.nodeType===1&&NA(n,t),Dg(n)):NA(si,t.stateNode));break;case 4:r=si,i=ko,si=t.stateNode.containerInfo,ko=!0,Hl(n,e,t),si=r,ko=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&UE(t,e,o),i=i.next}while(i!==r)}Hl(n,e,t);break;case 1:if(!Ei&&(Jh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ur(t,e,a)}Hl(n,e,t);break;case 21:Hl(n,e,t);break;case 22:t.mode&1?(Ei=(r=Ei)||t.memoizedState!==null,Hl(n,e,t),Ei=r):Hl(n,e,t);break;default:Hl(n,e,t)}}function n3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new DX),e.forEach(function(r){var i=$X.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Co(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:si=a.stateNode,ko=!1;break e;case 3:si=a.stateNode.containerInfo,ko=!0;break e;case 4:si=a.stateNode.containerInfo,ko=!0;break e}a=a.return}if(si===null)throw Error(Le(160));rH(s,o,i),si=null,ko=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ur(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iH(e,n),e=e.sibling}function iH(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Co(e,n),na(n),r&4){try{ng(3,n,n.return),CS(3,n)}catch(g){ur(n,n.return,g)}try{ng(5,n,n.return)}catch(g){ur(n,n.return,g)}}break;case 1:Co(e,n),na(n),r&512&&t!==null&&Jh(t,t.return);break;case 5:if(Co(e,n),na(n),r&512&&t!==null&&Jh(t,t.return),n.flags&32){var i=n.stateNode;try{Ig(i,"")}catch(g){ur(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CU(i,s),fE(a,o);var c=fE(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?IU(i,d):u==="dangerouslySetInnerHTML"?TU(i,d):u==="children"?Ig(i,d):L2(i,u,d,c)}switch(a){case"input":lE(i,s);break;case"textarea":MU(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?af(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?af(i,!!s.multiple,s.defaultValue,!0):af(i,!!s.multiple,s.multiple?[]:"",!1))}i[zg]=s}catch(g){ur(n,n.return,g)}}break;case 6:if(Co(e,n),na(n),r&4){if(n.stateNode===null)throw Error(Le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){ur(n,n.return,g)}}break;case 3:if(Co(e,n),na(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Dg(e.containerInfo)}catch(g){ur(n,n.return,g)}break;case 4:Co(e,n),na(n);break;case 13:Co(e,n),na(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dI=yr())),r&4&&n3(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Ei=(c=Ei)||u,Co(e,n),Ei=c):Co(e,n),na(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(rt=n,u=n.child;u!==null;){for(d=rt=u;rt!==null;){switch(p=rt,m=p.child,p.tag){case 0:case 11:case 14:case 15:ng(4,p,p.return);break;case 1:Jh(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){ur(r,t,g)}}break;case 5:Jh(p,p.return);break;case 22:if(p.memoizedState!==null){i3(d);continue}}m!==null?(m.return=p,rt=m):i3(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PU("display",o))}catch(g){ur(n,n.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ur(n,n.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Co(e,n),na(n),r&4&&n3(n);break;case 21:break;default:Co(e,n),na(n)}}function na(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(nH(t)){var r=t;break e}t=t.return}throw Error(Le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ig(i,""),r.flags&=-33);var s=t3(n);VE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t3(n);GE(n,a,o);break;default:throw Error(Le(161))}}catch(l){ur(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function OX(n,e,t){rt=n,sH(n)}function sH(n,e,t){for(var r=(n.mode&1)!==0;rt!==null;){var i=rt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ei;a=Hv;var c=Ei;if(Hv=o,(Ei=l)&&!c)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?s3(i):l!==null?(l.return=o,rt=l):s3(i);for(;s!==null;)rt=s,sH(s),s=s.sibling;rt=i,Hv=a,Ei=c}r3(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rt=s):r3(n)}}function r3(n){for(;rt!==null;){var e=rt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||CS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ei)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Lo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&UB(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}UB(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Dg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Ei||e.flags&512&&HE(e)}catch(p){ur(e,e.return,p)}}if(e===n){rt=null;break}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}}function i3(n){for(;rt!==null;){var e=rt;if(e===n){rt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,rt=t;break}rt=e.return}}function s3(n){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{CS(4,e)}catch(l){ur(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ur(e,i,l)}}var s=e.return;try{HE(e)}catch(l){ur(e,s,l)}break;case 5:var o=e.return;try{HE(e)}catch(l){ur(e,o,l)}}}catch(l){ur(e,e.return,l)}if(e===n){rt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,rt=a;break}rt=e.return}}var NX=Math.ceil,s_=Ml.ReactCurrentDispatcher,cI=Ml.ReactCurrentOwner,fo=Ml.ReactCurrentBatchConfig,sn=0,Yr=null,Er=null,li=0,Ms=0,qh=jc(0),Br=0,Wg=null,yd=0,MS=0,uI=0,rg=null,ts=null,dI=0,Nf=1/0,ja=null,o_=!1,$E=null,Sc=null,Gv=!1,cc=null,a_=0,ig=0,WE=null,u1=-1,d1=0;function Wi(){return sn&6?yr():u1!==-1?u1:u1=yr()}function wc(n){return n.mode&1?sn&2&&li!==0?li&-li:_X.transition!==null?(d1===0&&(d1=GU()),d1):(n=_n,n!==0||(n=window.event,n=n===void 0?16:JU(n.type)),n):1}function Go(n,e,t,r){if(50<ig)throw ig=0,WE=null,Error(Le(185));zy(n,t,r),(!(sn&2)||n!==Yr)&&(n===Yr&&(!(sn&2)&&(MS|=t),Br===4&&sc(n,li)),ls(n,r),t===1&&sn===0&&!(e.mode&1)&&(Nf=yr()+500,wS&&Kc()))}function ls(n,e){var t=n.callbackNode;_K(n,e);var r=$1(n,n===Yr?li:0);if(r===0)t!==null&&pB(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&pB(t),e===1)n.tag===0?xX(o3.bind(null,n)):p5(o3.bind(null,n)),mX(function(){!(sn&6)&&Kc()}),t=null;else{switch(VU(r)){case 1:t=N2;break;case 4:t=UU;break;case 16:t=V1;break;case 536870912:t=HU;break;default:t=V1}t=fH(t,oH.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function oH(n,e){if(u1=-1,d1=0,sn&6)throw Error(Le(327));var t=n.callbackNode;if(hf()&&n.callbackNode!==t)return null;var r=$1(n,n===Yr?li:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=l_(n,r);else{e=r;var i=sn;sn|=2;var s=lH();(Yr!==n||li!==e)&&(ja=null,Nf=yr()+500,td(n,e));do try{UX();break}catch(a){aH(n,a)}while(1);q2(),s_.current=s,sn=i,Er!==null?e=0:(Yr=null,li=0,e=Br)}if(e!==0){if(e===2&&(i=vE(n),i!==0&&(r=i,e=jE(n,i))),e===1)throw t=Wg,td(n,0),sc(n,r),ls(n,yr()),t;if(e===6)sc(n,r);else{if(i=n.current.alternate,!(r&30)&&!FX(i)&&(e=l_(n,r),e===2&&(s=vE(n),s!==0&&(r=s,e=jE(n,s))),e===1))throw t=Wg,td(n,0),sc(n,r),ls(n,yr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Le(345));case 2:Tu(n,ts,ja);break;case 3:if(sc(n,r),(r&130023424)===r&&(e=dI+500-yr(),10<e)){if($1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Wi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ME(Tu.bind(null,n,ts,ja),e);break}Tu(n,ts,ja);break;case 4:if(sc(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ho(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NX(r/1960))-r,10<r){n.timeoutHandle=ME(Tu.bind(null,n,ts,ja),r);break}Tu(n,ts,ja);break;case 5:Tu(n,ts,ja);break;default:throw Error(Le(329))}}}return ls(n,yr()),n.callbackNode===t?oH.bind(null,n):null}function jE(n,e){var t=rg;return n.current.memoizedState.isDehydrated&&(td(n,e).flags|=256),n=l_(n,e),n!==2&&(e=ts,ts=t,e!==null&&KE(e)),n}function KE(n){ts===null?ts=n:ts.push.apply(ts,n)}function FX(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Wo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sc(n,e){for(e&=~uI,e&=~MS,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ho(e),r=1<<t;n[t]=-1,e&=~r}}function o3(n){if(sn&6)throw Error(Le(327));hf();var e=$1(n,0);if(!(e&1))return ls(n,yr()),null;var t=l_(n,e);if(n.tag!==0&&t===2){var r=vE(n);r!==0&&(e=r,t=jE(n,r))}if(t===1)throw t=Wg,td(n,0),sc(n,e),ls(n,yr()),t;if(t===6)throw Error(Le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Tu(n,ts,ja),ls(n,yr()),null}function hI(n,e){var t=sn;sn|=1;try{return n(e)}finally{sn=t,sn===0&&(Nf=yr()+500,wS&&Kc())}}function vd(n){cc!==null&&cc.tag===0&&!(sn&6)&&hf();var e=sn;sn|=1;var t=fo.transition,r=_n;try{if(fo.transition=null,_n=1,n)return n()}finally{_n=r,fo.transition=t,sn=e,!(sn&6)&&Kc()}}function fI(){Ms=qh.current,Fn(qh)}function td(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,pX(t)),Er!==null)for(t=Er.return;t!==null;){var r=t;switch(K2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&J1();break;case 3:Bf(),Fn(os),Fn(Li),nI();break;case 5:tI(r);break;case 4:Bf();break;case 13:Fn(er);break;case 19:Fn(er);break;case 10:Y2(r.type._context);break;case 22:case 23:fI()}t=t.return}if(Yr=n,Er=n=bc(n.current,null),li=Ms=e,Br=0,Wg=null,uI=MS=yd=0,ts=rg=null,Vu!==null){for(e=0;e<Vu.length;e++)if(t=Vu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Vu=null}return n}function aH(n,e){do{var t=Er;try{if(q2(),a1.current=i_,r_){for(var r=ir.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}r_=!1}if(gd=0,Jr=kr=ir=null,tg=!1,Gg=0,cI.current=null,t===null||t.return===null){Br=1,Wg=e,Er=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=li,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=KB(o);if(m!==null){m.flags&=-257,XB(m,o,a,s,e),m.mode&1&&jB(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){jB(s,c,e),pI();break e}l=Error(Le(426))}}else if(Xn&&a.mode&1){var v=KB(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),XB(v,o,a,s,e),X2(Of(l,a));break e}}s=l=Of(l,a),Br!==4&&(Br=2),rg===null?rg=[s]:rg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=$5(s,l,e);zB(s,x);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sc===null||!Sc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=W5(s,a,e);zB(s,A);break e}}s=s.return}while(s!==null)}uH(t)}catch(T){e=T,Er===t&&t!==null&&(Er=t=t.return);continue}break}while(1)}function lH(){var n=s_.current;return s_.current=i_,n===null?i_:n}function pI(){(Br===0||Br===3||Br===2)&&(Br=4),Yr===null||!(yd&268435455)&&!(MS&268435455)||sc(Yr,li)}function l_(n,e){var t=sn;sn|=2;var r=lH();(Yr!==n||li!==e)&&(ja=null,td(n,e));do try{zX();break}catch(i){aH(n,i)}while(1);if(q2(),sn=t,s_.current=r,Er!==null)throw Error(Le(261));return Yr=null,li=0,Br}function zX(){for(;Er!==null;)cH(Er)}function UX(){for(;Er!==null&&!dK();)cH(Er)}function cH(n){var e=hH(n.alternate,n,Ms);n.memoizedProps=n.pendingProps,e===null?uH(n):Er=e,cI.current=null}function uH(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=kX(t,e),t!==null){t.flags&=32767,Er=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Br=6,Er=null;return}}else if(t=LX(t,e,Ms),t!==null){Er=t;return}if(e=e.sibling,e!==null){Er=e;return}Er=e=n}while(e!==null);Br===0&&(Br=5)}function Tu(n,e,t){var r=_n,i=fo.transition;try{fo.transition=null,_n=1,HX(n,e,t,r)}finally{fo.transition=i,_n=r}return null}function HX(n,e,t,r){do hf();while(cc!==null);if(sn&6)throw Error(Le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(SK(n,s),n===Yr&&(Er=Yr=null,li=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gv||(Gv=!0,fH(V1,function(){return hf(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=fo.transition,fo.transition=null;var o=_n;_n=1;var a=sn;sn|=4,cI.current=null,BX(n,t),iH(t,n),aX(AE),W1=!!bE,AE=bE=null,n.current=t,OX(t),hK(),sn=a,_n=o,fo.transition=s}else n.current=t;if(Gv&&(Gv=!1,cc=n,a_=i),s=n.pendingLanes,s===0&&(Sc=null),mK(t.stateNode),ls(n,yr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(o_)throw o_=!1,n=$E,$E=null,n;return a_&1&&n.tag!==0&&hf(),s=n.pendingLanes,s&1?n===WE?ig++:(ig=0,WE=n):ig=0,Kc(),null}function hf(){if(cc!==null){var n=VU(a_),e=fo.transition,t=_n;try{if(fo.transition=null,_n=16>n?16:n,cc===null)var r=!1;else{if(n=cc,cc=null,a_=0,sn&6)throw Error(Le(331));var i=sn;for(sn|=4,rt=n.current;rt!==null;){var s=rt,o=s.child;if(rt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(rt=c;rt!==null;){var u=rt;switch(u.tag){case 0:case 11:case 15:ng(8,u,s)}var d=u.child;if(d!==null)d.return=u,rt=d;else for(;rt!==null;){u=rt;var p=u.sibling,m=u.return;if(tH(u),u===c){rt=null;break}if(p!==null){p.return=m,rt=p;break}rt=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}rt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,rt=o;else e:for(;rt!==null;){if(s=rt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ng(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,rt=x;break e}rt=s.return}}var _=n.current;for(rt=_;rt!==null;){o=rt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,rt=w;else e:for(o=_;rt!==null;){if(a=rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:CS(9,a)}}catch(T){ur(a,a.return,T)}if(a===o){rt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,rt=A;break e}rt=a.return}}if(sn=i,Kc(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(yS,n)}catch{}r=!0}return r}finally{_n=t,fo.transition=e}}return!1}function a3(n,e,t){e=Of(t,e),e=$5(n,e,1),n=_c(n,e,1),e=Wi(),n!==null&&(zy(n,1,e),ls(n,e))}function ur(n,e,t){if(n.tag===3)a3(n,n,t);else for(;e!==null;){if(e.tag===3){a3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){n=Of(t,n),n=W5(e,n,1),e=_c(e,n,1),n=Wi(),e!==null&&(zy(e,1,n),ls(e,n));break}}e=e.return}}function GX(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Wi(),n.pingedLanes|=n.suspendedLanes&t,Yr===n&&(li&t)===t&&(Br===4||Br===3&&(li&130023424)===li&&500>yr()-dI?td(n,0):uI|=t),ls(n,e)}function dH(n,e){e===0&&(n.mode&1?(e=Lv,Lv<<=1,!(Lv&130023424)&&(Lv=4194304)):e=1);var t=Wi();n=fl(n,e),n!==null&&(zy(n,e,t),ls(n,t))}function VX(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dH(n,t)}function $X(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Le(314))}r!==null&&r.delete(e),dH(n,t)}var hH;hH=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||os.current)ss=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ss=!1,RX(n,e,t);ss=!!(n.flags&131072)}else ss=!1,Xn&&e.flags&1048576&&m5(e,Q1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;c1(n,e),n=e.pendingProps;var i=Lf(e,Li.current);df(e,t),i=iI(null,e,r,n,i,t);var s=sI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,as(r)?(s=!0,q1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z2(e),i.updater=bS,e.stateNode=i,i._reactInternals=e,kE(e,r,n,t),e=OE(null,e,r,!0,s,t)):(e.tag=0,Xn&&s&&j2(e),Gi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(c1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jX(r),n=Lo(r,n),i){case 0:e=BE(null,e,r,n,t);break e;case 1:e=YB(null,e,r,n,t);break e;case 11:e=JB(null,e,r,n,t);break e;case 14:e=qB(null,e,r,Lo(r.type,n),t);break e}throw Error(Le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),BE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),YB(n,e,r,i,t);case 3:e:{if(J5(e),n===null)throw Error(Le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,x5(n,e),t_(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Of(Error(Le(423)),e),e=QB(n,e,r,t,i);break e}else if(r!==i){i=Of(Error(Le(424)),e),e=QB(n,e,r,t,i);break e}else for(Ps=xc(e.stateNode.containerInfo.firstChild),Ls=e,Xn=!0,Bo=null,t=b5(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(kf(),r===i){e=pl(n,e,t);break e}Gi(n,e,r,t)}e=e.child}return e;case 5:return A5(e),n===null&&IE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,CE(r,i)?o=null:s!==null&&CE(r,s)&&(e.flags|=32),X5(n,e),Gi(n,e,o,t),e.child;case 6:return n===null&&IE(e),null;case 13:return q5(n,e,t);case 4:return eI(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Df(e,null,r,t):Gi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),JB(n,e,r,i,t);case 7:return Gi(n,e,e.pendingProps,t),e.child;case 8:return Gi(n,e,e.pendingProps.children,t),e.child;case 12:return Gi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,In(Z1,r._currentValue),r._currentValue=o,s!==null)if(Wo(s.value,o)){if(s.children===i.children&&!os.current){e=pl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=sl(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),RE(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),RE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,df(e,t),i=yo(i),r=r(i),e.flags|=1,Gi(n,e,r,t),e.child;case 14:return r=e.type,i=Lo(r,e.pendingProps),i=Lo(r.type,i),qB(n,e,r,i,t);case 15:return j5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lo(r,i),c1(n,e),e.tag=1,as(r)?(n=!0,q1(e)):n=!1,df(e,t),S5(e,r,i),kE(e,r,i,t),OE(null,e,r,!0,n,t);case 19:return Y5(n,e,t);case 22:return K5(n,e,t)}throw Error(Le(156,e.tag))};function fH(n,e){return zU(n,e)}function WX(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(n,e,t,r){return new WX(n,e,t,r)}function mI(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jX(n){if(typeof n=="function")return mI(n)?1:0;if(n!=null){if(n=n.$$typeof,n===D2)return 11;if(n===B2)return 14}return 2}function bc(n,e){var t=n.alternate;return t===null?(t=uo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function h1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")mI(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Uh:return nd(t.children,i,s,e);case k2:o=8,i|=8;break;case rE:return n=uo(12,t,e,i|2),n.elementType=rE,n.lanes=s,n;case iE:return n=uo(13,t,e,i),n.elementType=iE,n.lanes=s,n;case sE:return n=uo(19,t,e,i),n.elementType=sE,n.lanes=s,n;case wU:return ES(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _U:o=10;break e;case SU:o=9;break e;case D2:o=11;break e;case B2:o=14;break e;case Zl:o=16,r=null;break e}throw Error(Le(130,n==null?n:typeof n,""))}return e=uo(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function nd(n,e,t,r){return n=uo(7,n,r,e),n.lanes=t,n}function ES(n,e,t,r){return n=uo(22,n,r,e),n.elementType=wU,n.lanes=t,n.stateNode={isHidden:!1},n}function WA(n,e,t){return n=uo(6,n,null,e),n.lanes=t,n}function jA(n,e,t){return e=uo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function KX(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=MA(0),this.expirationTimes=MA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gI(n,e,t,r,i,s,o,a,l){return n=new KX(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=uo(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z2(s),n}function XX(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function pH(n){if(!n)return Bc;n=n._reactInternals;e:{if(Ld(n)!==n||n.tag!==1)throw Error(Le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(as(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(n.tag===1){var t=n.type;if(as(t))return f5(n,t,e)}return e}function mH(n,e,t,r,i,s,o,a,l){return n=gI(t,r,!0,n,i,s,o,a,l),n.context=pH(null),t=n.current,r=Wi(),i=wc(t),s=sl(r,i),s.callback=e??null,_c(t,s,i),n.current.lanes=i,zy(n,i,r),ls(n,r),n}function TS(n,e,t,r){var i=e.current,s=Wi(),o=wc(i);return t=pH(t),e.context===null?e.context=t:e.pendingContext=t,e=sl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=_c(i,e,o),n!==null&&(Go(n,i,o,s),o1(n,i,o)),o}function c_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function l3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function yI(n,e){l3(n,e),(n=n.alternate)&&l3(n,e)}function JX(){return null}var gH=typeof reportError=="function"?reportError:function(n){console.error(n)};function vI(n){this._internalRoot=n}PS.prototype.render=vI.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Le(409));TS(n,e,null,null)};PS.prototype.unmount=vI.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;vd(function(){TS(null,n,null,null)}),e[hl]=null}};function PS(n){this._internalRoot=n}PS.prototype.unstable_scheduleHydration=function(n){if(n){var e=jU();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ic.length&&e!==0&&e<ic[t].priority;t++);ic.splice(t,0,n),t===0&&XU(n)}};function xI(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function IS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function c3(){}function qX(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=c_(o);s.call(c)}}var o=mH(e,r,n,0,null,!1,!1,"",c3);return n._reactRootContainer=o,n[hl]=o.current,Ng(n.nodeType===8?n.parentNode:n),vd(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=c_(l);a.call(c)}}var l=gI(n,0,!1,null,null,!1,!1,"",c3);return n._reactRootContainer=l,n[hl]=l.current,Ng(n.nodeType===8?n.parentNode:n),vd(function(){TS(e,l,t,r)}),l}function RS(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=c_(o);a.call(l)}}TS(e,o,n,i)}else o=qX(t,e,n,i,r);return c_(o)}$U=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Fm(e.pendingLanes);t!==0&&(F2(e,t|1),ls(e,yr()),!(sn&6)&&(Nf=yr()+500,Kc()))}break;case 13:vd(function(){var r=fl(n,1);if(r!==null){var i=Wi();Go(r,n,1,i)}}),yI(n,1)}};z2=function(n){if(n.tag===13){var e=fl(n,134217728);if(e!==null){var t=Wi();Go(e,n,134217728,t)}yI(n,134217728)}};WU=function(n){if(n.tag===13){var e=wc(n),t=fl(n,e);if(t!==null){var r=Wi();Go(t,n,e,r)}yI(n,e)}};jU=function(){return _n};KU=function(n,e){var t=_n;try{return _n=n,e()}finally{_n=t}};mE=function(n,e,t){switch(e){case"input":if(lE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=SS(r);if(!i)throw Error(Le(90));AU(r),lE(r,i)}}}break;case"textarea":MU(n,t);break;case"select":e=t.value,e!=null&&af(n,!!t.multiple,e,!1)}};kU=hI;DU=vd;var YX={usingClientEntryPoint:!1,Events:[Hy,$h,SS,RU,LU,hI]},hm={findFiberByHostInstance:Gu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QX={bundleType:hm.bundleType,version:hm.version,rendererPackageName:hm.rendererPackageName,rendererConfig:hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ml.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=NU(n),n===null?null:n.stateNode},findFiberByHostInstance:hm.findFiberByHostInstance||JX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vv.isDisabled&&Vv.supportsFiber)try{yS=Vv.inject(QX),ga=Vv}catch{}}Hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YX;Hs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xI(e))throw Error(Le(200));return XX(n,e,null,t)};Hs.createRoot=function(n,e){if(!xI(n))throw Error(Le(299));var t=!1,r="",i=gH;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gI(n,1,!1,null,null,t,!1,r,i),n[hl]=e.current,Ng(n.nodeType===8?n.parentNode:n),new vI(e)};Hs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Le(188)):(n=Object.keys(n).join(","),Error(Le(268,n)));return n=NU(e),n=n===null?null:n.stateNode,n};Hs.flushSync=function(n){return vd(n)};Hs.hydrate=function(n,e,t){if(!IS(e))throw Error(Le(200));return RS(null,n,e,!0,t)};Hs.hydrateRoot=function(n,e,t){if(!xI(n))throw Error(Le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=gH;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=mH(e,null,n,1,t??null,i,!1,s,o),n[hl]=e.current,Ng(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new PS(e)};Hs.render=function(n,e,t){if(!IS(e))throw Error(Le(200));return RS(null,n,e,!1,t)};Hs.unmountComponentAtNode=function(n){if(!IS(n))throw Error(Le(40));return n._reactRootContainer?(vd(function(){RS(null,null,n,!1,function(){n._reactRootContainer=null,n[hl]=null})}),!0):!1};Hs.unstable_batchedUpdates=hI;Hs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!IS(t))throw Error(Le(200));if(n==null||n._reactInternals===void 0)throw Error(Le(38));return RS(n,e,t,!1,r)};Hs.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Hs})(J7);var yH,u3=If;yH=eE.createRoot=u3.createRoot,eE.hydrateRoot=u3.hydrateRoot;const vH="/money-can/assets/money-can-low-resolution-logo-color-on-transparent-background-08619e95.svg";/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jg(){return jg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jg.apply(this,arguments)}var uc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(uc||(uc={}));const d3="popstate";function ZX(n){n===void 0&&(n={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=kd(i.location.hash.substr(1));return XE("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:u_(s))}function r(i,s){eJ(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return nJ(e,t,r,n)}function Or(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eJ(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tJ(){return Math.random().toString(36).substr(2,8)}function h3(n,e){return{usr:n.state,key:n.key,idx:e}}function XE(n,e,t,r){return t===void 0&&(t=null),jg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?kd(e):e,{state:t,key:e&&e.key||r||tJ()})}function u_(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function nJ(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=uc.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(jg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=uc.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:x})}function p(v,x){a=uc.Push;let _=XE(g.location,v,x);t&&t(_,v),c=u()+1;let w=h3(_,c),A=g.createHref(_);try{o.pushState(w,"",A)}catch{i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function m(v,x){a=uc.Replace;let _=XE(g.location,v,x);t&&t(_,v),c=u();let w=h3(_,c),A=g.createHref(_);o.replaceState(w,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function y(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:u_(v);return Or(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let g={get action(){return a},get location(){return n(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d3,d),l=v,()=>{i.removeEventListener(d3,d),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let x=y(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(v){return o.go(v)}};return g}var f3;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(f3||(f3={}));function rJ(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?kd(e):e,i=SH(r.pathname||"/",t);if(i==null)return null;let s=xH(n);iJ(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fJ(s[a],gJ(i));return o}function xH(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Or(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ac([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Or(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),xH(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:dJ(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _H(s.path))i(s,o,l)}),e}function _H(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_H(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function iJ(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hJ(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const sJ=/^:\w+$/,oJ=3,aJ=2,lJ=1,cJ=10,uJ=-2,p3=n=>n==="*";function dJ(n,e){let t=n.split("/"),r=t.length;return t.some(p3)&&(r+=uJ),e&&(r+=aJ),t.filter(i=>!p3(i)).reduce((i,s)=>i+(sJ.test(s)?oJ:s===""?lJ:cJ),r)}function hJ(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function fJ(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=pJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ac([i,u.pathname]),pathnameBase:_J(Ac([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ac([i,u.pathnameBase]))}return s}function pJ(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=mJ(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[u]=yJ(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:n}}function mJ(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_I(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gJ(n){try{return decodeURI(n)}catch(e){return _I(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function yJ(n,e){try{return decodeURIComponent(n)}catch(t){return _I(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function SH(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _I(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vJ(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?kd(n):n;return{pathname:t?t.startsWith("/")?t:xJ(t,e):e,search:SJ(r),hash:wJ(i)}}function xJ(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function KA(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wH(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bH(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=kd(n):(i=jg({},n),Or(!i.pathname||!i.pathname.includes("?"),KA("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),KA("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),KA("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let d=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=vJ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ac=n=>n.join("/").replace(/\/\/+/g,"/"),_J=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SJ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wJ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bJ(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const AJ=["post","put","patch","delete"];[...AJ];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JE(){return JE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},JE.apply(this,arguments)}function CJ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const MJ=typeof Object.is=="function"?Object.is:CJ,{useState:EJ,useEffect:TJ,useLayoutEffect:PJ,useDebugValue:IJ}=Tg;function RJ(n,e,t){const r=e(),[{inst:i},s]=EJ({inst:{value:r,getSnapshot:e}});return PJ(()=>{i.value=r,i.getSnapshot=e,XA(i)&&s({inst:i})},[n,r,e]),TJ(()=>(XA(i)&&s({inst:i}),n(()=>{XA(i)&&s({inst:i})})),[n]),IJ(r),r}function XA(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!MJ(t,r)}catch{return!0}}function LJ(n,e,t){return e()}const kJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DJ=!kJ,BJ=DJ?LJ:RJ;"useSyncExternalStore"in Tg&&(n=>n.useSyncExternalStore)(Tg);const AH=D.createContext(null),SI=D.createContext(null),Vy=D.createContext(null),LS=D.createContext(null),hp=D.createContext({outlet:null,matches:[]}),CH=D.createContext(null);function OJ(n,e){let{relative:t}=e===void 0?{}:e;$y()||Or(!1);let{basename:r,navigator:i}=D.useContext(Vy),{hash:s,pathname:o,search:a}=wI(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ac([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $y(){return D.useContext(LS)!=null}function fp(){return $y()||Or(!1),D.useContext(LS).location}function NJ(){$y()||Or(!1);let{basename:n,navigator:e}=D.useContext(Vy),{matches:t}=D.useContext(hp),{pathname:r}=fp(),i=JSON.stringify(wH(t).map(a=>a.pathnameBase)),s=D.useRef(!1);return D.useEffect(()=>{s.current=!0}),D.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=bH(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:Ac([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,i,r])}function wI(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=D.useContext(hp),{pathname:i}=fp(),s=JSON.stringify(wH(r).map(o=>o.pathnameBase));return D.useMemo(()=>bH(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function FJ(n,e){$y()||Or(!1);let{navigator:t}=D.useContext(Vy),r=D.useContext(SI),{matches:i}=D.useContext(hp),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=fp(),c;if(e){var u;let g=typeof e=="string"?kd(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||Or(!1),c=g}else c=l;let d=c.pathname||"/",p=a==="/"?d:d.slice(a.length)||"/",m=rJ(n,{pathname:p}),y=GJ(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Ac([a,t.encodeLocation?t.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Ac([a,t.encodeLocation?t.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r||void 0);return e&&y?D.createElement(LS.Provider,{value:{location:JE({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:uc.Pop}},y):y}function zJ(){let n=jJ(),e=bJ(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,s)}class UJ extends D.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?D.createElement(hp.Provider,{value:this.props.routeContext},D.createElement(CH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HJ(n){let{routeContext:e,match:t,children:r}=n,i=D.useContext(AH);return i&&i.static&&i.staticContext&&t.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(hp.Provider,{value:e},r)}function GJ(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Or(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=t?o.route.errorElement||D.createElement(zJ,null):null,u=e.concat(r.slice(0,a+1)),d=()=>D.createElement(HJ,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return t&&(o.route.errorElement||a===0)?D.createElement(UJ,{location:t.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var m3;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(m3||(m3={}));var d_;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(d_||(d_={}));function VJ(n){let e=D.useContext(SI);return e||Or(!1),e}function $J(n){let e=D.useContext(hp);return e||Or(!1),e}function WJ(n){let e=$J(),t=e.matches[e.matches.length-1];return t.route.id||Or(!1),t.route.id}function jJ(){var n;let e=D.useContext(CH),t=VJ(d_.UseRouteError),r=WJ(d_.UseRouteError);return e||((n=t.errors)==null?void 0:n[r])}function ro(n){Or(!1)}function KJ(n){let{basename:e="/",children:t=null,location:r,navigationType:i=uc.Pop,navigator:s,static:o=!1}=n;$y()&&Or(!1);let a=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=kd(r));let{pathname:c="/",search:u="",hash:d="",state:p=null,key:m="default"}=r,y=D.useMemo(()=>{let g=SH(c,a);return g==null?null:{pathname:g,search:u,hash:d,state:p,key:m}},[a,c,u,d,p,m]);return y==null?null:D.createElement(Vy.Provider,{value:l},D.createElement(LS.Provider,{children:t,value:{location:y,navigationType:i}}))}function XJ(n){let{children:e,location:t}=n,r=D.useContext(AH),i=r&&!e?r.router.routes:qE(e);return FJ(i,t)}var g3;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(g3||(g3={}));new Promise(()=>{});function qE(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;if(r.type===D.Fragment){t.push.apply(t,qE(r.props.children,e));return}r.type!==ro&&Or(!1),!r.props.index||!r.props.children||Or(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=qE(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h_(){return h_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},h_.apply(this,arguments)}function MH(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function JJ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qJ(n,e){return n.button===0&&(!e||e==="_self")&&!JJ(n)}const YJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],QJ=["aria-current","caseSensitive","className","end","style","to","children"];function ZJ(n){let{basename:e,children:t,window:r}=n,i=D.useRef();i.current==null&&(i.current=ZX({window:r,v5Compat:!0}));let s=i.current,[o,a]=D.useState({action:s.action,location:s.location});return D.useLayoutEffect(()=>s.listen(a),[s]),D.createElement(KJ,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const eq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cs=D.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=MH(e,YJ),p,m=!1;if(eq&&typeof c=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(c)){p=c;let x=new URL(window.location.href),_=c.startsWith("//")?new URL(x.protocol+c):new URL(c);_.origin===x.origin?c=_.pathname+_.search+_.hash:m=!0}let y=OJ(c,{relative:i}),g=tq(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function v(x){r&&r(x),x.defaultPrevented||g(x)}return D.createElement("a",h_({},d,{href:p||y,onClick:m||s?r:v,ref:t,target:l}))}),EH=D.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,u=MH(e,QJ),d=wI(l,{relative:u.relative}),p=fp(),m=D.useContext(SI),{navigator:y}=D.useContext(Vy),g=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,v=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(v=v.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase());let _=v===g||!o&&v.startsWith(g)&&v.charAt(g.length)==="/",w=x!=null&&(x===g||!o&&x.startsWith(g)&&x.charAt(g.length)==="/"),A=_?r:void 0,T;typeof s=="function"?T=s({isActive:_,isPending:w}):T=[s,_?"active":null,w?"pending":null].filter(Boolean).join(" ");let P=typeof a=="function"?a({isActive:_,isPending:w}):a;return D.createElement(Cs,h_({},u,{"aria-current":A,className:T,ref:t,style:P,to:l}),typeof c=="function"?c({isActive:_,isPending:w}):c)});var y3;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(y3||(y3={}));var v3;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(v3||(v3={}));function tq(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=NJ(),l=fp(),c=wI(n,{relative:o});return D.useCallback(u=>{if(qJ(u,t)){u.preventDefault();let d=r!==void 0?r:u_(l)===u_(c);a(n,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,t,n,s,o])}function Zn({to:n,children:e,className:t}){return C(Cs,{className:t,to:n,children:C("div",{onClick:()=>{window.scrollTo(0,0)},children:e})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var YE=function(){return YE=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},YE.apply(this,arguments)};function nq(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}var ff="",sg=null,f1=null,TH=null;function bI(){ff="",sg!==null&&sg.disconnect(),f1!==null&&(window.clearTimeout(f1),f1=null)}function x3(n){var e=["BUTTON","INPUT","SELECT","TEXTAREA"],t=["A","AREA"];return e.includes(n.tagName)&&!n.hasAttribute("disabled")||t.includes(n.tagName)&&n.hasAttribute("href")}function _3(){var n=null;if(ff==="#")n=document.body;else{var e=ff.replace("#","");n=document.getElementById(e),n===null&&ff==="#top"&&(n=document.body)}if(n!==null){TH(n);var t=n.getAttribute("tabindex");return t===null&&!x3(n)&&n.setAttribute("tabindex",-1),n.focus({preventScroll:!0}),t===null&&!x3(n)&&(n.blur(),n.removeAttribute("tabindex")),bI(),!0}return!1}function rq(n){window.setTimeout(function(){_3()===!1&&(sg===null&&(sg=new MutationObserver(_3)),sg.observe(document,{attributes:!0,childList:!0,subtree:!0}),f1=window.setTimeout(function(){bI()},n||1e4))},0)}function PH(n){return ul.forwardRef(function(e,t){var r="";typeof e.to=="string"&&e.to.includes("#")?r="#"+e.to.split("#").slice(1).join("#"):typeof e.to=="object"&&typeof e.to.hash=="string"&&(r=e.to.hash);var i={};n===EH&&(i.isActive=function(a,l){return a&&a.isExact&&l.hash===r});function s(a){bI(),ff=e.elementId?"#"+e.elementId:r,e.onClick&&e.onClick(a),ff!==""&&!a.defaultPrevented&&a.button===0&&(!e.target||e.target==="_self")&&!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(TH=e.scroll||function(l){return e.smooth?l.scrollIntoView({behavior:"smooth"}):l.scrollIntoView()},rq(e.timeout))}var o=nq(e,["scroll","smooth","timeout","elementId"]);return ul.createElement(n,YE({},i,o,{onClick:s,ref:t}),e.children)})}var $v=PH(Cs);PH(EH);const iq=()=>C("footer",{className:"footer ",children:C("div",{className:"container",children:G("div",{className:"row d-flex align-items-start justify-content-between",children:[G("nav",{className:"footer__logo col d-flex align-items-center flex-column align-items-sm-start flex-sm-column align-items-md-start flex-md-column align-items-lg-start flex-lg-column",children:[C(Zn,{to:"/",children:C("img",{src:vH,alt:"logo",width:170})}),C(Zn,{to:"",children:" "}),C(Zn,{to:"",children:" "}),C(Zn,{to:"/cooperation",children:" "}),C("p",{children:"   "})]}),G("nav",{className:"col d-flex",children:[G("ul",{className:"d-none d-sm-none d-md-none d-lg-block",children:[C($v,{to:"#/about",className:"active",disabled:!0,children:C("li",{children:""})}),C($v,{to:"#/constructor",children:C("li",{children:""})}),C($v,{to:"/#newCollection",children:C("li",{children:" "})}),C($v,{to:"/#reviews",children:C("li",{children:""})})]}),G("ul",{children:[C(Zn,{to:"",className:"active",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})})]}),G("ul",{className:"d-none d-sm-none d-md-none d-lg-block",children:[C(Zn,{to:"/about",className:"active",children:C("li",{style:{width:42},children:" "})}),C(Zn,{to:"",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:""})})]}),G("ul",{children:[C(Zn,{to:"/contuct",className:"active",children:C("li",{children:""})}),C(Zn,{to:"",children:C("li",{children:"Email"})}),C(Zn,{to:"",children:C("li",{children:"Telegram"})}),C(Zn,{to:"",children:C("li",{children:"Whatsapp"})}),C(Zn,{to:"",children:C("li",{children:"Facebook"})})]})]}),C("nav",{className:"col",children:C("ul",{children:C(Zn,{to:"",children:C("li",{className:"text-center text-sm-center text-md-center text-lg-end",children:"9550 S Eastern Ave ste 253-A102 Las Vegas NV 89123"})})})})]})})}),IH="/money-can/assets/Cart 1-aea4eee6.svg",sq="/money-can/assets/toggleMenu-6a6da8d4.svg",oq="/money-can/assets/closeMenu-e0cb8782.svg",aq="/money-can/assets/whatsapp-7ed5b4a0.svg",lq="/money-can/assets/facebook-aef7990b.svg",cq="/money-can/assets/instagram-b00db969.svg",uq="/money-can/assets/messenger-968ab571.svg",dq="/money-can/assets/Vector-982b2291.svg",S3=[{id:"/catalog",title:""},{id:"/design",title:" "},{id:"/production",title:""},{id:"/fulfillment",title:""},{id:"/about",title:" "},{id:"/contact",title:""},{id:"/constructor",title:""}],hq=[{id:"1",icon:aq},{id:"2",icon:cq},{id:"3",icon:lq},{id:"4",icon:uq},{id:"5",icon:dq}],fq=()=>{const[n,e]=D.useState(""),[t,r]=D.useState(!1),i=fp();return D.useEffect(()=>{i.pathname==="/"?e(""):i.pathname==="/catalog"?e(""):i.pathname==="/constructor"?e(""):i.pathname==="/about"?e(" "):i.pathname==="/design"?e(" "):i.pathname==="/contact"?e(""):i.pathname==="/cart"?e(""):i.pathname==="/production"?e(""):i.pathname==="/cooperation"?e(" "):i.pathname==="/fulfillment"&&e("")},[i]),C("header",{className:"header",children:G("div",{className:"container d-flex align-items-center justify-content-between",children:[C("nav",{className:"header__brand__logo",children:C(Zn,{to:"/",onClick:()=>{e("")},children:C("img",{src:vH,width:"100",alt:""})})}),C("nav",{className:"d-flex align-items-center",children:C("ul",{className:"d-flex align-items-center  justify-content-between w-100 p-0 m-0",children:S3.map(s=>C("li",{children:C(Zn,{to:s.id,className:`${n===s.title?"links-lightBlue":""}`,onClick:()=>e(s.title),children:s.title})},s.id))})}),G("nav",{className:"header__cart",children:[C("img",{className:"toggle__menu",src:t?oq:sq,alt:"menu",onClick:()=>r(!t)}),C("div",{className:`${t?"toggleMenu":"hidden"}`,children:C("ul",{className:"d-flex align-items-center  justify-content-between w-100 p-0 m-0",children:S3.map(s=>C("li",{children:C(Zn,{to:s.id,className:`${n===s.title?"links-lightBlue":""}`,onClick:()=>{r(!t),e(s.title)},children:s.title})},s.id))})}),C(Zn,{to:"/cart",children:C("img",{src:IH,alt:"cart"})})]})]})})};var RH={},LH={},kS={},kH={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},t=e;n.default=t})(kH);var pq="Expected a function",w3=0/0,mq="[object Symbol]",gq=/^\s+|\s+$/g,yq=/^[-+]0x[0-9a-f]+$/i,vq=/^0b[01]+$/i,xq=/^0o[0-7]+$/i,_q=parseInt,Sq=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,wq=typeof self=="object"&&self&&self.Object===Object&&self,bq=Sq||wq||Function("return this")(),Aq=Object.prototype,Cq=Aq.toString,Mq=Math.max,Eq=Math.min,JA=function(){return bq.Date.now()};function Tq(n,e,t){var r,i,s,o,a,l,c=0,u=!1,d=!1,p=!0;if(typeof n!="function")throw new TypeError(pq);e=b3(e)||0,QE(t)&&(u=!!t.leading,d="maxWait"in t,s=d?Mq(b3(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(P){var L=r,M=i;return r=i=void 0,c=P,o=n.apply(M,L),o}function y(P){return c=P,a=setTimeout(x,e),u?m(P):o}function g(P){var L=P-l,M=P-c,R=e-L;return d?Eq(R,s-M):R}function v(P){var L=P-l,M=P-c;return l===void 0||L>=e||L<0||d&&M>=s}function x(){var P=JA();if(v(P))return _(P);a=setTimeout(x,g(P))}function _(P){return a=void 0,p&&r?m(P):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function A(){return a===void 0?o:_(JA())}function T(){var P=JA(),L=v(P);if(r=arguments,i=this,l=P,L){if(a===void 0)return y(l);if(d)return a=setTimeout(x,e),m(l)}return a===void 0&&(a=setTimeout(x,e)),o}return T.cancel=w,T.flush=A,T}function QE(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Pq(n){return!!n&&typeof n=="object"}function Iq(n){return typeof n=="symbol"||Pq(n)&&Cq.call(n)==mq}function b3(n){if(typeof n=="number")return n;if(Iq(n))return w3;if(QE(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=QE(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(gq,"");var t=vq.test(n);return t||xq.test(n)?_q(n.slice(2),t?2:8):yq.test(n)?w3:+n}var Rq=Tq,Ff={},Lq={get exports(){return Ff},set exports(n){Ff=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Lq);var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.checkSpecKeys=Je.checkNavigable=Je.changeSlide=Je.canUseDOM=Je.canGoNext=void 0;Je.clamp=DH;Je.swipeStart=Je.swipeMove=Je.swipeEnd=Je.slidesOnRight=Je.slidesOnLeft=Je.slideHandler=Je.siblingDirection=Je.safePreventDefault=Je.lazyStartIndex=Je.lazySlidesOnRight=Je.lazySlidesOnLeft=Je.lazyEndIndex=Je.keyHandler=Je.initializedState=Je.getWidth=Je.getTrackLeft=Je.getTrackCSS=Je.getTrackAnimateCSS=Je.getTotalSlides=Je.getSwipeDirection=Je.getSlideCount=Je.getRequiredLazySlides=Je.getPreClones=Je.getPostClones=Je.getOnDemandLazySlides=Je.getNavigableIndexes=Je.getHeight=Je.extractObject=void 0;var kq=Dq(D);function Dq(n){return n&&n.__esModule?n:{default:n}}function A3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(t),!0).forEach(function(r){Bq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Bq(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DH(n,e,t){return Math.max(e,Math.min(n,t))}var rd=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()};Je.safePreventDefault=rd;var AI=function(e){for(var t=[],r=CI(e),i=MI(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};Je.getOnDemandLazySlides=AI;var Oq=function(e){for(var t=[],r=CI(e),i=MI(e),s=r;s<i;s++)t.push(s);return t};Je.getRequiredLazySlides=Oq;var CI=function(e){return e.currentSlide-BH(e)};Je.lazyStartIndex=CI;var MI=function(e){return e.currentSlide+OH(e)};Je.lazyEndIndex=MI;var BH=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};Je.lazySlidesOnLeft=BH;var OH=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};Je.lazySlidesOnRight=OH;var f_=function(e){return e&&e.offsetWidth||0};Je.getWidth=f_;var EI=function(e){return e&&e.offsetHeight||0};Je.getHeight=EI;var TI=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"};Je.getSwipeDirection=TI;var PI=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};Je.canGoNext=PI;var Nq=function(e,t){var r={};return t.forEach(function(i){return r[i]=e[i]}),r};Je.extractObject=Nq;var Fq=function(e){var t=kq.default.Children.count(e.children),r=e.listRef,i=Math.ceil(f_(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(f_(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&EI(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=AI(jn(jn({},e),{},{currentSlide:d,lazyLoadedList:p}));p=p.concat(m);var y={slideCount:t,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:c,listHeight:u,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};Je.initializedState=Fq;var zq=function(e){var t=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,u=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(t&&r)return{};var g=o,v,x,_,w={},A={},T=s?o:DH(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?g=o+a:o>=a&&(g=o-a),l&&y.indexOf(g)<0&&(y=y.concat(g)),w={animating:!0,currentSlide:g,lazyLoadedList:y,targetSlide:g},A={animating:!1,targetSlide:g}}else v=g,g<0?(v=g+a,s?a%d!==0&&(v=a-a%d):v=0):!PI(e)&&g>c?g=v=c:u&&g>=a?(g=s?a:a-1,v=s?0:a-1):g>=a&&(v=g-a,s?a%d!==0&&(v=0):v=a-p),!s&&g+p>=a&&(v=a-p),x=Xg(jn(jn({},e),{},{slideIndex:g})),_=Xg(jn(jn({},e),{},{slideIndex:v})),s||(x===_&&(g=v),x=_),l&&(y=y.concat(AI(jn(jn({},e),{},{currentSlide:g})))),m?(w={animating:!0,currentSlide:v,trackStyle:II(jn(jn({},e),{},{left:x})),lazyLoadedList:y,targetSlide:T},A={animating:!1,currentSlide:v,trackStyle:Kg(jn(jn({},e),{},{left:_})),swipeLeft:null,targetSlide:T}):w={currentSlide:v,trackStyle:Kg(jn(jn({},e),{},{left:_})),lazyLoadedList:y,targetSlide:T};return{state:w,nextState:A}};Je.slideHandler=zq;var Uq=function(e,t){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,d=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(o=u%l!==0,r=o?0:(u-d)%l,t.message==="previous")s=r===0?l:c-r,a=d-s,m&&!y&&(i=d-s,a=i===-1?u-1:i),y||(a=p-l);else if(t.message==="next")s=r===0?l:r,a=d+s,m&&!y&&(a=(d+l)%u+r),y||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,y){var g=UH(jn(jn({},e),{},{targetSlide:a}));a>t.currentSlide&&g==="left"?a=a-u:a<t.currentSlide&&g==="right"&&(a=a+u)}}else t.message==="index"&&(a=Number(t.index));return a};Je.changeSlide=Uq;var Hq=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};Je.keyHandler=Hq;var Gq=function(e,t,r){return e.target.tagName==="IMG"&&rd(e),!t||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Je.swipeStart=Gq;var Vq=function(e,t){var r=t.scrolling,i=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,d=t.edgeDragged,p=t.onEdge,m=t.swiped,y=t.swiping,g=t.slideCount,v=t.slidesToScroll,x=t.infinite,_=t.touchObject,w=t.swipeEvent,A=t.listHeight,T=t.listWidth;if(!r){if(i)return rd(e);s&&o&&a&&rd(e);var P,L={},M=Xg(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var R=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!y&&R>10)return{scrolling:!0};a&&(_.swipeLength=R);var k=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(k=_.curY>_.startY?1:-1);var V=Math.ceil(g/v),U=TI(t.touchObject,a),F=_.swipeLength;return x||(c===0&&(U==="right"||U==="down")||c+1>=V&&(U==="left"||U==="up")||!PI(t)&&(U==="left"||U==="up"))&&(F=_.swipeLength*u,d===!1&&p&&(p(U),L.edgeDragged=!0)),!m&&w&&(w(U),L.swiped=!0),s?P=M+F*(A/T)*k:l?P=M-F*k:P=M+F*k,a&&(P=M+F*k),L=jn(jn({},L),{},{touchObject:_,swipeLeft:P,trackStyle:Kg(jn(jn({},t),{},{left:P}))}),Math.abs(_.curX-_.startX)<Math.abs(_.curY-_.startY)*.8||_.swipeLength>10&&(L.swiping=!0,rd(e)),L}};Je.swipeMove=Vq;var $q=function(e,t){var r=t.dragging,i=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,d=t.scrolling,p=t.onSwipe,m=t.targetSlide,y=t.currentSlide,g=t.infinite;if(!r)return i&&rd(e),{};var v=l?c/a:o/a,x=TI(s,l),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return _;if(s.swipeLength>v){rd(e),p&&p(x);var w,A,T=g?y:m;switch(x){case"left":case"up":A=T+eT(t),w=u?ZE(t,A):A,_.currentDirection=0;break;case"right":case"down":A=T-eT(t),w=u?ZE(t,A):A,_.currentDirection=1;break;default:w=T}_.triggerSlideHandler=w}else{var P=Xg(t);_.trackStyle=II(jn(jn({},t),{},{left:P}))}return _};Je.swipeEnd=$q;var NH=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<t;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};Je.getNavigableIndexes=NH;var ZE=function(e,t){var r=NH(e),i=0;if(t>r[r.length-1])t=r[r.length-1];else for(var s in r){if(t<r[s]){t=i;break}i=r[s]}return t};Je.checkNavigable=ZE;var eT=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+EI(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-t+f_(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};Je.getSlideCount=eT;var DS=function(e,t){return t.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};Je.checkSpecKeys=DS;var Kg=function(e){DS(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:t=zH(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=jn(jn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};Je.getTrackCSS=Kg;var II=function(e){DS(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=Kg(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};Je.getTrackAnimateCSS=II;var Xg=function(e){if(e.unslick)return 0;DS(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,d=e.variableWidth,p=e.slideHeight,m=e.fade,y=e.vertical,g=0,v,x,_=0;if(m||e.slideCount===1)return 0;var w=0;if(i?(w=-og(e),o%l!==0&&t+l>o&&(w=-(t>o?a-(t-o):o%l)),s&&(w+=parseInt(a/2))):(o%l!==0&&t+l>o&&(w=a-o%l),s&&(w=parseInt(a/2))),g=w*c,_=w*p,y?v=t*p*-1+_:v=t*c*-1+g,d===!0){var A,T=r&&r.node;if(A=t+og(e),x=T&&T.childNodes[A],v=x?x.offsetLeft*-1:0,s===!0){A=i?t+og(e):t,x=T&&T.children[A],v=0;for(var P=0;P<A;P++)v-=T&&T.children[P]&&T.children[P].offsetWidth;v-=parseInt(e.centerPadding),v+=x&&(u-x.offsetWidth)/2}}return v};Je.getTrackLeft=Xg;var og=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};Je.getPreClones=og;var FH=function(e){return e.unslick||!e.infinite?0:e.slideCount};Je.getPostClones=FH;var zH=function(e){return e.slideCount===1?1:og(e)+e.slideCount+FH(e)};Je.getTotalSlides=zH;var UH=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+HH(e)?"left":"right":e.targetSlide<e.currentSlide-GH(e)?"right":"left"};Je.siblingDirection=UH;var HH=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),i&&t%2===0&&(o+=1),o}return i?0:t-1};Je.slidesOnRight=HH;var GH=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&t%2===0&&(o+=1),o}return i?t-1:0};Je.slidesOnLeft=GH;var Wq=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};Je.canUseDOM=Wq;var BS={};function tT(n){return tT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tT(n)}Object.defineProperty(BS,"__esModule",{value:!0});BS.Track=void 0;var tc=VH(D),qA=VH(Ff),YA=Je;function VH(n){return n&&n.__esModule?n:{default:n}}function nT(){return nT=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nT.apply(this,arguments)}function jq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function C3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Kq(n,e,t){return e&&C3(n.prototype,e),t&&C3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Xq(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&rT(n,e)}function rT(n,e){return rT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rT(n,e)}function Jq(n){var e=Yq();return function(){var r=p_(n),i;if(e){var s=p_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return qq(this,i)}}function qq(n,e){if(e&&(tT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iT(n)}function iT(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Yq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p_(n){return p_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p_(n)}function M3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Zi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(t),!0).forEach(function(r){sT(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sT(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var QA=function(e){var t,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":i,"slick-current":l}},Qq=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},ZA=function(e,t){return e.key||t},Zq=function(e){var t,r=[],i=[],s=[],o=tc.default.Children.count(e.children),a=(0,YA.lazyStartIndex)(e),l=(0,YA.lazyEndIndex)(e);return tc.default.Children.forEach(e.children,function(c,u){var d,p={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?d=c:d=tc.default.createElement("div",null);var m=Qq(Zi(Zi({},e),{},{index:u})),y=d.props.className||"",g=QA(Zi(Zi({},e),{},{index:u}));if(r.push(tc.default.cloneElement(d,{key:"original"+ZA(d,u),"data-index":u,className:(0,qA.default)(g,y),tabIndex:"-1","aria-hidden":!g["slick-active"],style:Zi(Zi({outline:"none"},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var v=o-u;v<=(0,YA.getPreClones)(e)&&o!==e.slidesToShow&&(t=-v,t>=a&&(d=c),g=QA(Zi(Zi({},e),{},{index:t})),i.push(tc.default.cloneElement(d,{key:"precloned"+ZA(d,t),"data-index":t,tabIndex:"-1",className:(0,qA.default)(g,y),"aria-hidden":!g["slick-active"],style:Zi(Zi({},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}}))),o!==e.slidesToShow&&(t=o+u,t<l&&(d=c),g=QA(Zi(Zi({},e),{},{index:t})),s.push(tc.default.cloneElement(d,{key:"postcloned"+ZA(d,t),"data-index":t,tabIndex:"-1",className:(0,qA.default)(g,y),"aria-hidden":!g["slick-active"],style:Zi(Zi({},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},eY=function(n){Xq(t,n);var e=Jq(t);function t(){var r;jq(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),sT(iT(r),"node",null),sT(iT(r),"handleRef",function(a){r.node=a}),r}return Kq(t,[{key:"render",value:function(){var i=Zq(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return tc.default.createElement("div",nT({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),t}(tc.default.PureComponent);BS.Track=eY;var OS={};function oT(n){return oT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oT(n)}Object.defineProperty(OS,"__esModule",{value:!0});OS.Dots=void 0;var Wv=$H(D),tY=$H(Ff),E3=Je;function $H(n){return n&&n.__esModule?n:{default:n}}function T3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(t),!0).forEach(function(r){rY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function iY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function P3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function sY(n,e,t){return e&&P3(n.prototype,e),t&&P3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function oY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&aT(n,e)}function aT(n,e){return aT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aT(n,e)}function aY(n){var e=uY();return function(){var r=m_(n),i;if(e){var s=m_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lY(this,i)}}function lY(n,e){if(e&&(oT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(n)}function cY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m_(n){return m_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m_(n)}var dY=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t},hY=function(n){oY(t,n);var e=aY(t);function t(){return iY(this,t),e.apply(this,arguments)}return sY(t,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,u=i.slidesToShow,d=i.slideCount,p=i.currentSlide,m=dY({slideCount:d,slidesToScroll:c,slidesToShow:u,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},g=[],v=0;v<m;v++){var x=(v+1)*c-1,_=l?x:(0,E3.clamp)(x,0,d-1),w=_-(c-1),A=l?w:(0,E3.clamp)(w,0,d-1),T=(0,tY.default)({"slick-active":l?p>=A&&p<=_:p===A}),P={message:"dots",index:v,slidesToScroll:c,currentSlide:p},L=this.clickHandler.bind(this,P);g=g.concat(Wv.default.createElement("li",{key:v,className:T},Wv.default.cloneElement(this.props.customPaging(v),{onClick:L})))}return Wv.default.cloneElement(this.props.appendDots(g),nY({className:this.props.dotsClass},y))}}]),t}(Wv.default.PureComponent);OS.Dots=hY;var zf={};function lT(n){return lT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lT(n)}Object.defineProperty(zf,"__esModule",{value:!0});zf.PrevArrow=zf.NextArrow=void 0;var pf=jH(D),WH=jH(Ff),fY=Je;function jH(n){return n&&n.__esModule?n:{default:n}}function g_(){return g_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},g_.apply(this,arguments)}function I3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function y_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(t),!0).forEach(function(r){pY(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function R3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XH(n,e,t){return e&&R3(n.prototype,e),t&&R3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function JH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cT(n,e)}function cT(n,e){return cT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cT(n,e)}function qH(n){var e=yY();return function(){var r=v_(n),i;if(e){var s=v_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return mY(this,i)}}function mY(n,e){if(e&&(lT(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gY(n)}function gY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function yY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v_(n){return v_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v_(n)}var vY=function(n){JH(t,n);var e=qH(t);function t(){return KH(this,t),e.apply(this,arguments)}return XH(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,WH.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=pf.default.cloneElement(this.props.prevArrow,y_(y_({},o),a)):l=pf.default.createElement("button",g_({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(pf.default.PureComponent);zf.PrevArrow=vY;var xY=function(n){JH(t,n);var e=qH(t);function t(){return KH(this,t),e.apply(this,arguments)}return XH(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,fY.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,WH.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=pf.default.cloneElement(this.props.nextArrow,y_(y_({},o),a)):l=pf.default.createElement("button",g_({key:"1",type:"button"},o)," ","Next"),l}}]),t}(pf.default.PureComponent);zf.NextArrow=xY;var YH=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),uT=typeof window<"u"&&typeof document<"u"&&window.document===document,x_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_Y=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),SY=2;function wY(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){_Y(s)}function a(){var l=Date.now();if(t){if(l-i<SY)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var bY=20,AY=["top","right","bottom","left","width","height","size","weight"],CY=typeof MutationObserver<"u",MY=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wY(this.refresh.bind(this),bY)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!uT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),CY?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!uT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=AY.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),QH=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Uf=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||x_},ZH=NS(0,0,0,0);function __(n){return parseFloat(n)||0}function L3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+__(s)},0)}function EY(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=__(o)}return t}function TY(n){var e=n.getBBox();return NS(0,0,e.width,e.height)}function PY(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return ZH;var r=Uf(n).getComputedStyle(n),i=EY(r),s=i.left+i.right,o=i.top+i.bottom,a=__(r.width),l=__(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=L3(r,"left","right")+s),Math.round(l+o)!==t&&(l-=L3(r,"top","bottom")+o)),!RY(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return NS(i.left,i.top,a,l)}var IY=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Uf(n).SVGGraphicsElement}:function(n){return n instanceof Uf(n).SVGElement&&typeof n.getBBox=="function"}}();function RY(n){return n===Uf(n).document.documentElement}function LY(n){return uT?IY(n)?TY(n):PY(n):ZH}function kY(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return QH(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function NS(n,e,t,r){return{x:n,y:e,width:t,height:r}}var DY=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=NS(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=LY(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),BY=function(){function n(e,t){var r=kY(t);QH(this,{target:e,contentRect:r})}return n}(),OY=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new YH,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new DY(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Uf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new BY(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),eG=typeof WeakMap<"u"?new WeakMap:new YH,tG=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=MY.getInstance(),r=new OY(e,t,this);eG.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){tG.prototype[n]=function(){var e;return(e=eG.get(this))[n].apply(e,arguments)}});var NY=function(){return typeof x_.ResizeObserver<"u"?x_.ResizeObserver:tG}();const FY=Object.freeze(Object.defineProperty({__proto__:null,default:NY},Symbol.toStringTag,{value:"Module"})),zY=C7(FY);Object.defineProperty(kS,"__esModule",{value:!0});kS.InnerSlider=void 0;var Fi=Wy(D),UY=Wy(kH),HY=Wy(Rq),GY=Wy(Ff),Qn=Je,VY=BS,$Y=OS,k3=zf,WY=Wy(zY);function Wy(n){return n&&n.__esModule?n:{default:n}}function S_(n){return S_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_(n)}function w_(){return w_=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w_.apply(this,arguments)}function jY(n,e){if(n==null)return{};var t=KY(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function KY(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function D3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(t),!0).forEach(function(r){$t(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function JY(n,e,t){return e&&B3(n.prototype,e),t&&B3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function qY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dT(n,e)}function dT(n,e){return dT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},dT(n,e)}function YY(n){var e=ZY();return function(){var r=b_(n),i;if(e){var s=b_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return QY(this,i)}}function QY(n,e){if(e&&(S_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(n)}function Vt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b_(n){return b_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b_(n)}function $t(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var eQ=function(n){qY(t,n);var e=YY(t);function t(r){var i;XY(this,t),i=e.call(this,r),$t(Vt(i),"listRefHandler",function(o){return i.list=o}),$t(Vt(i),"trackRefHandler",function(o){return i.track=o}),$t(Vt(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Qn.getHeight)(o)+"px"}}),$t(Vt(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Qn.getOnDemandLazySlides)(vt(vt({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=vt({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new WY.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),$t(Vt(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),$t(Vt(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Qn.getOnDemandLazySlides)(vt(vt({},i.props),i.state));a.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=vt(vt({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=Fi.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Fi.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),$t(Vt(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,HY.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),$t(Vt(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=Boolean(i.track&&i.track.node);if(a){var l=vt(vt({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),$t(Vt(i),"updateState",function(o,a,l){var c=(0,Qn.initializedState)(o);o=vt(vt(vt({},o),c),{},{slideIndex:c.currentSlide});var u=(0,Qn.getTrackLeft)(o);o=vt(vt({},o),{},{left:u});var d=(0,Qn.getTrackCSS)(o);(a||Fi.default.Children.count(i.props.children)!==Fi.default.Children.count(o.children))&&(c.trackStyle=d),i.setState(c,l)}),$t(Vt(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,Qn.getPreClones)(vt(vt(vt({},i.props),i.state),{},{slideCount:i.props.children.length})),u=(0,Qn.getPostClones)(vt(vt(vt({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(L){l.push(L.props.style.width),o+=L.props.style.width});for(var d=0;d<c;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var p=0;p<u;p++)o+=l[p];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var g="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:y}}var v=Fi.default.Children.count(i.props.children),x=vt(vt(vt({},i.props),i.state),{},{slideCount:v}),_=(0,Qn.getPreClones)(x)+(0,Qn.getPostClones)(x)+v,w=100/i.props.slidesToShow*_,A=100/_,T=-A*((0,Qn.getPreClones)(x)+i.state.currentSlide)*w/100;i.props.centerMode&&(T+=(100-A*w/100)/2);var P={width:w+"%",left:T+"%"};return{slideWidth:A+"%",trackStyle:P}}),$t(Vt(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var u=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var d=c.onclick;c.onclick=function(){d(),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=u,c.onerror=function(){u(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),$t(Vt(i),"progressiveLazyLoad",function(){for(var o=[],a=vt(vt({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Qn.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,Qn.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),$t(Vt(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,u=l.beforeChange,d=l.onLazyLoad,p=l.speed,m=l.afterChange,y=i.state.currentSlide,g=(0,Qn.slideHandler)(vt(vt(vt({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),v=g.state,x=g.nextState;if(v){u&&u(y,v.currentSlide);var _=v.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});d&&_.length>0&&d(_),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(y),delete i.animationEndCallback),i.setState(v,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),x&&(i.animationEndCallback=setTimeout(function(){var w=x.animating,A=jY(x,["animating"]);i.setState(A,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),m&&m(v.currentSlide),delete i.animationEndCallback})},p))})}}),$t(Vt(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=vt(vt({},i.props),i.state),c=(0,Qn.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var u=i.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),$t(Vt(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),$t(Vt(i),"keyHandler",function(o){var a=(0,Qn.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),$t(Vt(i),"selectHandler",function(o){i.changeSlide(o)}),$t(Vt(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),$t(Vt(i),"enableBodyScroll",function(){window.ontouchmove=null}),$t(Vt(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Qn.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),$t(Vt(i),"swipeMove",function(o){var a=(0,Qn.swipeMove)(o,vt(vt(vt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),$t(Vt(i),"swipeEnd",function(o){var a=(0,Qn.swipeEnd)(o,vt(vt(vt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),$t(Vt(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),$t(Vt(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),$t(Vt(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),$t(Vt(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),$t(Vt(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Qn.canGoNext)(vt(vt({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),$t(Vt(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),$t(Vt(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),$t(Vt(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),$t(Vt(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),$t(Vt(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),$t(Vt(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),$t(Vt(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),$t(Vt(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),$t(Vt(i),"render",function(){var o=(0,GY.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=vt(vt({},i.props),i.state),l=(0,Qn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=vt(vt({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var u;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,Qn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;d=vt(vt({},d),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),u=Fi.default.createElement($Y.Dots,d)}var m,y,g=(0,Qn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=i.changeSlide,i.props.arrows&&(m=Fi.default.createElement(k3.PrevArrow,g),y=Fi.default.createElement(k3.NextArrow,g));var v=null;i.props.vertical&&(v={height:i.state.listHeight});var x=null;i.props.vertical===!1?i.props.centerMode===!0&&(x={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(x={padding:i.props.centerPadding+" 0px"});var _=vt(vt({},v),x),w=i.props.touchMove,A={className:"slick-list",style:_,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},T={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(A={className:"slick-list"},T={className:o}),Fi.default.createElement("div",T,i.props.unslick?"":m,Fi.default.createElement("div",w_({ref:i.listRefHandler},A),Fi.default.createElement(VY.Track,w_({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":u)}),i.list=null,i.track=null,i.state=vt(vt({},UY.default),{},{currentSlide:i.props.initialSlide,slideCount:Fi.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=vt(vt({},i.state),s),i}return JY(t,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(S_(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Fi.default.Children.count(this.props.children)!==Fi.default.Children.count(i.children)}}]),t}(Fi.default.Component);kS.InnerSlider=eQ;var tQ=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},nQ=tQ,rQ=nQ,iQ=function(n){var e=/[height|width]$/;return e.test(n)},O3=function(n){var e="",t=Object.keys(n);return t.forEach(function(r,i){var s=n[r];r=rQ(r),iQ(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<t.length-1&&(e+=" and ")}),e},sQ=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,r){e+=O3(t),r<n.length-1&&(e+=", ")}),e):O3(n)},oQ=sQ,nG={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(D);function t(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;n.default=i})(nG);var eC,N3;function aQ(){if(N3)return eC;N3=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},eC=n,eC}var tC,F3;function rG(){if(F3)return tC;F3=1;function n(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function t(r){return typeof r=="function"}return tC={isFunction:t,isArray:e,each:n},tC}var nC,z3;function lQ(){if(z3)return nC;z3=1;var n=aQ(),e=rG().each;function t(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(r){var i=new n(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},nC=t,nC}var rC,U3;function cQ(){if(U3)return rC;U3=1;var n=lQ(),e=rG(),t=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,u=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,u)),r(a)&&(a={match:a}),i(a)||(a=[a]),t(a,function(d){r(d)&&(d={match:d}),c[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},rC=s,rC}var iC,H3;function uQ(){if(H3)return iC;H3=1;var n=cQ();return iC=new n,iC}(function(n){function e(M){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},e(M)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(D),r=kS,i=a(oQ),s=a(nG),o=Je;function a(M){return M&&M.__esModule?M:{default:M}}function l(){return l=Object.assign||function(M){for(var R=1;R<arguments.length;R++){var k=arguments[R];for(var V in k)Object.prototype.hasOwnProperty.call(k,V)&&(M[V]=k[V])}return M},l.apply(this,arguments)}function c(M,R){var k=Object.keys(M);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(M);R&&(V=V.filter(function(U){return Object.getOwnPropertyDescriptor(M,U).enumerable})),k.push.apply(k,V)}return k}function u(M){for(var R=1;R<arguments.length;R++){var k=arguments[R]!=null?arguments[R]:{};R%2?c(Object(k),!0).forEach(function(V){T(M,V,k[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(k)):c(Object(k)).forEach(function(V){Object.defineProperty(M,V,Object.getOwnPropertyDescriptor(k,V))})}return M}function d(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function p(M,R){for(var k=0;k<R.length;k++){var V=R[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,V.key,V)}}function m(M,R,k){return R&&p(M.prototype,R),k&&p(M,k),Object.defineProperty(M,"prototype",{writable:!1}),M}function y(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),R&&g(M,R)}function g(M,R){return g=Object.setPrototypeOf||function(V,U){return V.__proto__=U,V},g(M,R)}function v(M){var R=w();return function(){var V=A(M),U;if(R){var F=A(this).constructor;U=Reflect.construct(V,arguments,F)}else U=V.apply(this,arguments);return x(this,U)}}function x(M,R){if(R&&(e(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(M)}function _(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(M){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},A(M)}function T(M,R,k){return R in M?Object.defineProperty(M,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):M[R]=k,M}var P=(0,o.canUseDOM)()&&uQ(),L=function(M){y(k,M);var R=v(k);function k(V){var U;return d(this,k),U=R.call(this,V),T(_(U),"innerSliderRefHandler",function(F){return U.innerSlider=F}),T(_(U),"slickPrev",function(){return U.innerSlider.slickPrev()}),T(_(U),"slickNext",function(){return U.innerSlider.slickNext()}),T(_(U),"slickGoTo",function(F){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return U.innerSlider.slickGoTo(F,J)}),T(_(U),"slickPause",function(){return U.innerSlider.pause("paused")}),T(_(U),"slickPlay",function(){return U.innerSlider.autoPlay("play")}),U.state={breakpoint:null},U._responsiveMediaHandlers=[],U}return m(k,[{key:"media",value:function(U,F){P.register(U,F),this._responsiveMediaHandlers.push({query:U,handler:F})}},{key:"componentDidMount",value:function(){var U=this;if(this.props.responsive){var F=this.props.responsive.map(function(q){return q.breakpoint});F.sort(function(q,se){return q-se}),F.forEach(function(q,se){var ue;se===0?ue=(0,i.default)({minWidth:0,maxWidth:q}):ue=(0,i.default)({minWidth:F[se-1]+1,maxWidth:q}),(0,o.canUseDOM)()&&U.media(ue,function(){U.setState({breakpoint:q})})});var J=(0,i.default)({minWidth:F.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(J,function(){U.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(U){P.unregister(U.query,U.handler)})}},{key:"render",value:function(){var U=this,F,J;this.state.breakpoint?(J=this.props.responsive.filter(function(de){return de.breakpoint===U.state.breakpoint}),F=J[0].settings==="unslick"?"unslick":u(u(u({},s.default),this.props),J[0].settings)):F=u(u({},s.default),this.props),F.centerMode&&(F.slidesToScroll>1,F.slidesToScroll=1),F.fade&&(F.slidesToShow>1,F.slidesToScroll>1,F.slidesToShow=1,F.slidesToScroll=1);var q=t.default.Children.toArray(this.props.children);q=q.filter(function(de){return typeof de=="string"?!!de.trim():!!de}),F.variableWidth&&(F.rows>1||F.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),F.variableWidth=!1);for(var se=[],ue=null,H=0;H<q.length;H+=F.rows*F.slidesPerRow){for(var j=[],O=H;O<H+F.rows*F.slidesPerRow;O+=F.slidesPerRow){for(var oe=[],z=O;z<O+F.slidesPerRow&&(F.variableWidth&&q[z].props.style&&(ue=q[z].props.style.width),!(z>=q.length));z+=1)oe.push(t.default.cloneElement(q[z],{key:100*H+10*O+z,tabIndex:-1,style:{width:"".concat(100/F.slidesPerRow,"%"),display:"inline-block"}}));j.push(t.default.createElement("div",{key:10*H+O},oe))}F.variableWidth?se.push(t.default.createElement("div",{key:H,style:{width:ue}},j)):se.push(t.default.createElement("div",{key:H},j))}if(F==="unslick"){var Q="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:Q},q)}else se.length<=F.slidesToShow&&(F.unslick=!0);return t.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},F),se)}}]),k}(t.default.Component);n.default=L})(LH);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(LH);function t(i){return i&&i.__esModule?i:{default:i}}var r=e.default;n.default=r})(RH);const jy=mS(RH),dh="/money-can/assets/3dSlider-25244144.png",dQ=()=>C("div",{className:"about-block-bg",id:"about",children:G(jy,{className:"slider",...{dots:!1,infinite:!0,autoplay:!0,speed:500,slidesToShow:1,slidesToScroll:1},children:[C("div",{children:C("img",{className:"w-30",src:dh,alt:""})}),C("div",{children:C("img",{className:"w-30",src:dh,alt:""})}),C("div",{children:C("img",{className:"w-30",src:dh,alt:""})}),C("div",{children:C("img",{className:"w-30",src:dh,alt:""})}),C("div",{children:C("img",{className:"w-30",src:dh,alt:""})}),C("div",{children:C("img",{className:"w-30",src:dh,alt:""})})]})}),En=({children:n,...e})=>C(Cs,{...e,className:"button d-flex align-items-center justify-content-center",href:"",children:n}),hQ=()=>C("section",{className:"constructor-block mb-5",id:"constructor",children:G("div",{className:" container d-flex align-items-center justify-content-around flex-column ",children:[G("p",{className:"py-5 w-100 w-sm-100 w-md-100 w-lg-50 text-center",children:["   ",C("strong",{children:"3D "}),",       ,   .   ,         ."]}),C(En,{className:"button--outline",children:"  "})]})}),fQ="/money-can/assets/contact-us-Img-8b5c5a23.svg",Dd=()=>G("section",{className:"contuctUs",children:[G("div",{className:"container",children:[C("h2",{children:"  "}),G("form",{action:"",className:"d-flex align-items-center flex-column justify-content-center align-items-sm-center flex-sm-column justify-content-sm-center align-items-md-center flex-md-column justify-md-content-center align-items-lg-end flex-lg-row justify-content-lg-between",children:[G("div",{className:" d-flex flex-column ",children:[C("label",{htmlFor:"",children:""}),C("input",{type:"text",placeholder:" "})]}),G("div",{className:"d-flex flex-column  my-4 my-sm-4 my-md-0 my-lg-0",children:[C("label",{htmlFor:"",children:" "}),C("input",{type:"text",placeholder:"+ 996"})]}),C(En,{children:""})]}),G("p",{children:['   " ",  ,      ',C("a",{href:"",children:C("strong",{children:"   "})}),"",C("a",{href:"",children:C("strong",{children:"    "})})]})]}),C("img",{className:"contuctUsBgImg",src:fQ,alt:""})]}),pQ="/money-can/assets/pexels-photo-4620624-fe5a6626.jpeg",mQ="/money-can/assets/pexels-photo-4622215-a0c81758.webp",gQ="/money-can/assets/ 4-98731bac.png",yQ="/money-can/assets/pexels-mirto-kon-4492631 (1)-ba89ea75.jpg",vQ=()=>G("section",{className:"deportment-cards container",children:[C("div",{className:"grid department-card-disign",children:G("figure",{className:"effect-zoe",children:[C("img",{className:"w-100 h-100",src:pQ,alt:""}),G("figcaption",{children:[C("h2",{children:" "}),C("p",{className:"icon-links",children:C(En,{to:"/design",children:"  "})}),C("p",{className:"description",children:"    ,    ,          ,    ,          ,    ,     "})]})]})}),C("div",{className:"grid department-card-production",children:G("figure",{className:"effect-zoe",children:[C("img",{className:"w-100 h-100",src:mQ,alt:""}),G("figcaption",{children:[C("h2",{children:""}),C("p",{className:"icon-links",children:C(En,{to:"/production",children:"  "})}),C("p",{className:"description",children:"    ,    ,     "})]})]})}),C("div",{className:"grid department-card-fulfilment",children:G("figure",{className:"effect-zoe",children:[C("img",{className:"w-100 h-100",src:gQ,alt:""}),G("figcaption",{children:[C("h2",{children:""}),C("p",{className:"icon-links",children:C(En,{to:"/fulfillment",children:"  "})}),C("p",{className:"description",children:"    ,    ,     "})]})]})}),C("div",{className:"grid department-card-catalog",children:G("figure",{className:"effect-zoe",children:[C("img",{className:"w-100 h-100",src:yQ,alt:""}),G("figcaption",{children:[C("h2",{children:""}),C("p",{className:"icon-links",children:C(En,{to:"/catalog",children:"  "})}),C("p",{className:"description",children:"    ,    ,     "})]})]})})]}),xQ="/money-can/assets/qualitySvg-56a75e54.svg",_Q="/money-can/assets/speedSvg-6cac7f42.svg",SQ="/money-can/assets/resposibility-2cf22a29.svg",wQ=()=>C("section",{className:"important-to-us-bg",children:G("div",{className:"container d-flex flex-column justify-content-between align-items-center py-5",children:[C("h2",{children:"   "}),G("div",{className:"important-to-us-cards row d-flex justify-content-between flex-column flex-sm-column flex-md-column flex-lg-row pt-5",children:[G("div",{className:"col  d-flex justify-content-between flex-column align-items-center",children:[C("img",{src:xQ,alt:""}),C("h4",{className:"important-to-us-text py-3",children:""}),C("p",{children:"          "})]}),G("div",{className:"col d-flex justify-content-between flex-column align-items-center",children:[C("img",{src:_Q,alt:""}),C("h4",{className:"important-to-us-text py-3",children:""}),C("p",{children:"    Moneycan    300-      "})]}),G("div",{className:"col d-flex justify-content-between flex-column align-items-center",children:[C("img",{src:SQ,alt:""}),C("h4",{className:"important-to-us-text py-3",children:""}),C("p",{children:"     .       -   MoneyCan"})]})]})]})}),sC="/money-can/assets/newCol2-53f8e0f0.svg",oC="/money-can/assets/newCol1-7447790f.svg",bQ=()=>G("div",{id:"newCollection",className:"new-collection container",children:[C("h2",{children:" "}),G(jy,{className:"slider",...{dots:!0,infinite:!0,speed:500,slidesToShow:2,slidesToScroll:2,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:1}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]},children:[C("div",{children:C("img",{src:sC,alt:""})}),C("div",{children:C("img",{src:oC,alt:""})}),C("div",{children:C("img",{src:sC,alt:""})}),C("div",{children:C("img",{src:oC,alt:""})}),C("div",{children:C("img",{src:sC,alt:""})}),C("div",{children:C("img",{src:oC,alt:""})})]}),C("div",{className:"newCollection-btn",children:C(En,{to:"/catalog",children:"  "})})]}),hh="/money-can/assets/revStars-26d6260d.svg",AQ=()=>C("section",{className:"reviews",id:"reviews",children:G("div",{className:"container",children:[C("h2",{children:""}),C("div",{className:"reviews__block",children:G(jy,{className:"",...{dots:!1,infinite:!0,autoplay:!1,speed:500,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},children:[G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]}),G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]}),G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]}),G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]}),G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]}),G("div",{className:"reviews__card",children:[C("h4",{children:"Very Good Design Services"}),C("p",{children:'"Used for many years. Never have any problem in my computer."'}),C("img",{src:hh,alt:""}),C("p",{children:"by Ugur D."})]})]})})]})}),CQ=()=>G("div",{children:[C(dQ,{}),C(hQ,{}),C(wQ,{}),C(vQ,{}),C(bQ,{}),C(AQ,{}),C(Dd,{})]}),MQ="/money-can/assets/constrEllipse-495d77ea.svg",EQ="/money-can/assets/plus-7e05cf21.svg",TQ="/money-can/assets/minus-03823a8e.svg",iG="/money-can/assets/cart-plus 1-99902d61.svg",Pu="/money-can/assets/pexels-anubhaw-anand-3756030-7140e23f.jpg";/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const FS="150",Iu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ru={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sG=0,hT=1,oG=2,PQ=3,aG=0,zS=1,ag=2,Wu=3,Aa=0,cs=1,zo=2,IQ=2,ol=0,id=1,fT=2,pT=3,mT=4,lG=5,Fu=100,cG=101,uG=102,gT=103,yT=104,dG=200,hG=201,fG=202,pG=203,RI=204,LI=205,mG=206,gG=207,yG=208,vG=209,xG=210,_G=0,SG=1,wG=2,A_=3,bG=4,AG=5,CG=6,MG=7,Ky=0,EG=1,TG=2,Vo=0,PG=1,IG=2,RG=3,kI=4,LG=5,US=300,Oc=301,Nc=302,Hf=303,Jg=304,pp=306,Ca=1e3,Dr=1001,Gf=1002,dr=1003,qg=1004,RQ=1004,mf=1005,LQ=1005,tr=1006,HS=1007,kQ=1007,Ma=1008,DQ=1008,ml=1009,kG=1010,DG=1011,DI=1012,BG=1013,dc=1014,el=1015,Vf=1016,OG=1017,NG=1018,sd=1020,FG=1021,ns=1023,zG=1024,UG=1025,Cc=1026,xd=1027,HG=1028,GG=1029,VG=1030,$G=1031,WG=1033,p1=33776,m1=33777,g1=33778,y1=33779,vT=35840,xT=35841,_T=35842,ST=35843,jG=36196,wT=37492,bT=37496,AT=37808,CT=37809,MT=37810,ET=37811,TT=37812,PT=37813,IT=37814,RT=37815,LT=37816,kT=37817,DT=37818,BT=37819,OT=37820,NT=37821,v1=36492,KG=36283,FT=36284,zT=36285,UT=36286,XG=2200,JG=2201,qG=2202,$f=2300,_d=2301,x1=2302,ju=2400,Ku=2401,Yg=2402,GS=2500,BI=2501,BQ=0,YG=1,OI=2,gl=3e3,zt=3001,QG=3200,ZG=3201,El=0,eV=1,OQ="",Do="srgb",Wf="srgb-linear",NI="display-p3",NQ=0,_1=7680,FQ=7681,zQ=7682,UQ=7683,HQ=34055,GQ=34056,VQ=5386,$Q=512,WQ=513,jQ=514,KQ=515,XQ=516,JQ=517,qQ=518,tV=519,Qg=35044,YQ=35048,QQ=35040,ZQ=35045,eZ=35049,tZ=35041,nZ=35046,rZ=35050,iZ=35042,sZ="100",HT="300 es",C_=1035;class Ra{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let G3=1234567;const od=Math.PI/180,Zg=180/Math.PI;function ks(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Si[n&255]+Si[n>>8&255]+Si[n>>16&255]+Si[n>>24&255]+"-"+Si[e&255]+Si[e>>8&255]+"-"+Si[e>>16&15|64]+Si[e>>24&255]+"-"+Si[t&63|128]+Si[t>>8&255]+"-"+Si[t>>16&255]+Si[t>>24&255]+Si[r&255]+Si[r>>8&255]+Si[r>>16&255]+Si[r>>24&255]).toLowerCase()}function vr(n,e,t){return Math.max(e,Math.min(t,n))}function FI(n,e){return(n%e+e)%e}function oZ(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function aZ(n,e,t){return n!==e?(t-n)/(e-n):0}function lg(n,e,t){return(1-t)*n+t*e}function lZ(n,e,t,r){return lg(n,e,1-Math.exp(-t*r))}function cZ(n,e=1){return e-Math.abs(FI(n,e*2)-e)}function uZ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function dZ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function hZ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fZ(n,e){return n+Math.random()*(e-n)}function pZ(n){return n*(.5-Math.random())}function mZ(n){n!==void 0&&(G3=n);let e=G3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gZ(n){return n*od}function yZ(n){return n*Zg}function GT(n){return(n&n-1)===0&&n!==0}function nV(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function rV(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function vZ(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function tl(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Mn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Ts={DEG2RAD:od,RAD2DEG:Zg,generateUUID:ks,clamp:vr,euclideanModulo:FI,mapLinear:oZ,inverseLerp:aZ,lerp:lg,damp:lZ,pingpong:cZ,smoothstep:uZ,smootherstep:dZ,randInt:hZ,randFloat:fZ,randFloatSpread:pZ,seededRandom:mZ,degToRad:gZ,radToDeg:yZ,isPowerOfTwo:GT,ceilPowerOfTwo:nV,floorPowerOfTwo:rV,setQuaternionFromProperEuler:vZ,normalize:Mn,denormalize:tl};class be{constructor(e=0,t=0){be.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qr{constructor(){qr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],m=r[5],y=r[8],g=i[0],v=i[3],x=i[6],_=i[1],w=i[4],A=i[7],T=i[2],P=i[5],L=i[8];return s[0]=o*g+a*_+l*T,s[3]=o*v+a*w+l*P,s[6]=o*x+a*A+l*L,s[1]=c*g+u*_+d*T,s[4]=c*v+u*w+d*P,s[7]=c*x+u*A+d*L,s[2]=p*g+m*_+y*T,s[5]=p*v+m*w+y*P,s[8]=p*x+m*A+y*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=t*d+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=d*g,e[1]=(i*c-u*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(u*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-c*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(aC.makeScale(e,t)),this}rotate(e){return this.premultiply(aC.makeRotation(-e)),this}translate(e,t){return this.premultiply(aC.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const aC=new qr;function iV(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xZ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yh(n,e){return new xZ[n](e)}function ey(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}class xr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(d!==g||l!==p||c!==m||u!==y){let v=1-a;const x=l*p+c*m+u*y+d*g,_=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const T=Math.sqrt(w),P=Math.atan2(T,x*_);v=Math.sin(v*P)/T,a=Math.sin(a*P)/T}const A=a*_;if(l=l*v+p*A,c=c*v+m*A,u=u*v+y*A,d=d*v+g*A,v===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=T,c*=T,u*=T,d*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+u*d+l*m-c*p,e[t+1]=l*y+u*p+c*d-a*m,e[t+2]=c*y+u*m+a*p-l*d,e[t+3]=u*y-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"YXZ":this._x=p*u*d+c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"ZXY":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d-p*m*y;break;case"ZYX":this._x=p*u*d-c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d+p*m*y;break;case"YZX":this._x=p*u*d+c*m*y,this._y=c*m*d+p*u*y,this._z=c*u*y-p*m*d,this._w=c*u*d-p*m*y;break;case"XZY":this._x=p*u*d-c*m*y,this._y=c*m*d-p*u*y,this._z=c*u*y+p*m*d,this._w=c*u*d+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,r=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(V3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(V3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return lC.copy(this).projectOnVector(e),this.sub(lC)}reflect(e){return this.sub(lC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(vr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lC=new N,V3=new xr;function gf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function cC(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const _Z=new qr().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),SZ=new qr().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),hc=new N;function wZ(n){return n.convertSRGBToLinear(),hc.set(n.r,n.g,n.b).applyMatrix3(SZ),n.setRGB(hc.x,hc.y,hc.z)}function bZ(n){return hc.set(n.r,n.g,n.b).applyMatrix3(_Z),n.setRGB(hc.x,hc.y,hc.z).convertLinearToSRGB()}const AZ={[Wf]:n=>n,[Do]:n=>n.convertSRGBToLinear(),[NI]:wZ},CZ={[Wf]:n=>n,[Do]:n=>n.convertLinearToSRGB(),[NI]:bZ},bi={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Wf},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=AZ[e],i=CZ[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let fh;class zI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{fh===void 0&&(fh=ey("canvas")),fh.width=e.width,fh.height=e.height;const r=fh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=fh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ey("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(gf(t[r]/255)*255):t[r]=gf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Xu{constructor(e=null){this.isSource=!0,this.uuid=ks(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(uC(i[o].image)):s.push(uC(i[o]))}else s=uC(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function uC(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?zI.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MZ=0;class Rn extends Ra{constructor(e=Rn.DEFAULT_IMAGE,t=Rn.DEFAULT_MAPPING,r=Dr,i=Dr,s=tr,o=Ma,a=ns,l=ml,c=Rn.DEFAULT_ANISOTROPY,u=gl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MZ++}),this.uuid=ks(),this.name="",this.source=new Xu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new be(0,0),this.repeat=new be(1,1),this.center=new be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==US)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ca:e.x=e.x-Math.floor(e.x);break;case Dr:e.x=e.x<0?0:1;break;case Gf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ca:e.y=e.y-Math.floor(e.y);break;case Dr:e.y=e.y<0?0:1;break;case Gf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=US;Rn.DEFAULT_ANISOTROPY=1;class rn{constructor(e=0,t=0,r=0,i=1){rn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],y=l[9],g=l[2],v=l[6],x=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-g)<.01&&Math.abs(y-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+g)<.1&&Math.abs(y+v)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(m+1)/2,T=(x+1)/2,P=(u+p)/4,L=(d+g)/4,M=(y+v)/4;return w>A&&w>T?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=P/r,s=L/r):A>T?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=P/i,s=M/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=L/s,i=M/s),this.set(r,i,s,t),this}let _=Math.sqrt((v-y)*(v-y)+(d-g)*(d-g)+(p-u)*(p-u));return Math.abs(_)<.001&&(_=1),this.x=(v-y)/_,this.y=(d-g)/_,this.z=(p-u)/_,this.w=Math.acos((c+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class jo extends Ra{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new rn(0,0,e,t),this.scissorTest=!1,this.viewport=new rn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Rn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:tr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Xu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class VS extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=Dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class EZ extends jo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new VS(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class UI extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=dr,this.minFilter=dr,this.wrapR=Dr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TZ extends jo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new UI(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class PZ extends jo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Xc{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],p=e[l+2];u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=vu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)vu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(vu)}else r.boundingBox===null&&r.computeBoundingBox(),dC.copy(r.boundingBox),dC.applyMatrix4(e.matrixWorld),this.union(dC);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,vu),vu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fm),jv.subVectors(this.max,fm),ph.subVectors(e.a,fm),mh.subVectors(e.b,fm),gh.subVectors(e.c,fm),Gl.subVectors(mh,ph),Vl.subVectors(gh,mh),xu.subVectors(ph,gh);let t=[0,-Gl.z,Gl.y,0,-Vl.z,Vl.y,0,-xu.z,xu.y,Gl.z,0,-Gl.x,Vl.z,0,-Vl.x,xu.z,0,-xu.x,-Gl.y,Gl.x,0,-Vl.y,Vl.x,0,-xu.y,xu.x,0];return!hC(t,ph,mh,gh,jv)||(t=[1,0,0,0,1,0,0,0,1],!hC(t,ph,mh,gh,jv))?!1:(Kv.crossVectors(Gl,Vl),t=[Kv.x,Kv.y,Kv.z],hC(t,ph,mh,gh,jv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fa=[new N,new N,new N,new N,new N,new N,new N,new N],vu=new N,dC=new Xc,ph=new N,mh=new N,gh=new N,Gl=new N,Vl=new N,xu=new N,fm=new N,jv=new N,Kv=new N,_u=new N;function hC(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){_u.fromArray(n,s);const a=i.x*Math.abs(_u.x)+i.y*Math.abs(_u.y)+i.z*Math.abs(_u.z),l=e.dot(_u),c=t.dot(_u),u=r.dot(_u);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const IZ=new Xc,pm=new N,fC=new N;class Jc{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):IZ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;pm.subVectors(e,this.center);const t=pm.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(pm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(pm.copy(e.center).add(fC)),this.expandByPoint(pm.copy(e.center).sub(fC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const za=new N,pC=new N,Xv=new N,$l=new N,mC=new N,Jv=new N,gC=new N;class Xy{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,za)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=za.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(za.copy(this.origin).addScaledVector(this.direction,t),za.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){pC.copy(e).add(t).multiplyScalar(.5),Xv.copy(t).sub(e).normalize(),$l.copy(this.origin).sub(pC);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Xv),a=$l.dot(this.direction),l=-$l.dot(Xv),c=$l.lengthSq(),u=Math.abs(1-o*o);let d,p,m,y;if(u>0)if(d=o*l-a,p=o*a-l,y=s*u,d>=0)if(p>=-y)if(p<=y){const g=1/u;d*=g,p*=g,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-y?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=y?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(pC).addScaledVector(Xv,p),m}intersectSphere(e,t){za.subVectors(e.center,this.origin);const r=za.dot(this.direction),i=za.dot(za)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,za)!==null}intersectTriangle(e,t,r,i,s){mC.subVectors(t,e),Jv.subVectors(r,e),gC.crossVectors(mC,Jv);let o=this.direction.dot(gC),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;$l.subVectors(this.origin,e);const l=a*this.direction.dot(Jv.crossVectors($l,Jv));if(l<0)return null;const c=a*this.direction.dot(mC.cross($l));if(c<0||l+c>o)return null;const u=-a*$l.dot(gC);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class tt{constructor(){tt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,d,p,m,y,g,v){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=p,x[3]=m,x[7]=y,x[11]=g,x[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new tt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/yh.setFromMatrixColumn(e,0).length(),s=1/yh.setFromMatrixColumn(e,1).length(),o=1/yh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,y=a*u,g=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+y*c,t[5]=p-g*c,t[9]=-a*l,t[2]=g-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,y=c*u,g=c*d;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,y=c*u,g=c*d;t[0]=p-g*a,t[4]=-o*d,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*u,t[9]=g-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,y=a*u,g=a*d;t[0]=l*u,t[4]=y*c-m,t[8]=p*c+g,t[1]=l*d,t[5]=g*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*u,t[4]=g-p*d,t[8]=y*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+y,t[10]=p-g*d}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,g=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+g,t[5]=o*u,t[9]=m*d-y,t[2]=y*d-m,t[6]=a*u,t[10]=g*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RZ,e,LZ)}lookAt(e,t,r){const i=this.elements;return bs.subVectors(e,t),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),Wl.crossVectors(r,bs),Wl.lengthSq()===0&&(Math.abs(r.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),Wl.crossVectors(r,bs)),Wl.normalize(),qv.crossVectors(bs,Wl),i[0]=Wl.x,i[4]=qv.x,i[8]=bs.x,i[1]=Wl.y,i[5]=qv.y,i[9]=bs.y,i[2]=Wl.z,i[6]=qv.z,i[10]=bs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],m=r[13],y=r[2],g=r[6],v=r[10],x=r[14],_=r[3],w=r[7],A=r[11],T=r[15],P=i[0],L=i[4],M=i[8],R=i[12],k=i[1],V=i[5],U=i[9],F=i[13],J=i[2],q=i[6],se=i[10],ue=i[14],H=i[3],j=i[7],O=i[11],oe=i[15];return s[0]=o*P+a*k+l*J+c*H,s[4]=o*L+a*V+l*q+c*j,s[8]=o*M+a*U+l*se+c*O,s[12]=o*R+a*F+l*ue+c*oe,s[1]=u*P+d*k+p*J+m*H,s[5]=u*L+d*V+p*q+m*j,s[9]=u*M+d*U+p*se+m*O,s[13]=u*R+d*F+p*ue+m*oe,s[2]=y*P+g*k+v*J+x*H,s[6]=y*L+g*V+v*q+x*j,s[10]=y*M+g*U+v*se+x*O,s[14]=y*R+g*F+v*ue+x*oe,s[3]=_*P+w*k+A*J+T*H,s[7]=_*L+w*V+A*q+T*j,s[11]=_*M+w*U+A*se+T*O,s[15]=_*R+w*F+A*ue+T*oe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],y=e[3],g=e[7],v=e[11],x=e[15];return y*(+s*l*d-i*c*d-s*a*p+r*c*p+i*a*m-r*l*m)+g*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+v*(+t*c*d-t*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-t*l*d+t*a*p+i*o*d-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],y=e[12],g=e[13],v=e[14],x=e[15],_=d*v*c-g*p*c+g*l*m-a*v*m-d*l*x+a*p*x,w=y*p*c-u*v*c-y*l*m+o*v*m+u*l*x-o*p*x,A=u*g*c-y*d*c+y*a*m-o*g*m-u*a*x+o*d*x,T=y*d*l-u*g*l-y*a*p+o*g*p+u*a*v-o*d*v,P=t*_+r*w+i*A+s*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=_*L,e[1]=(g*p*s-d*v*s-g*i*m+r*v*m+d*i*x-r*p*x)*L,e[2]=(a*v*s-g*l*s+g*i*c-r*v*c-a*i*x+r*l*x)*L,e[3]=(d*l*s-a*p*s-d*i*c+r*p*c+a*i*m-r*l*m)*L,e[4]=w*L,e[5]=(u*v*s-y*p*s+y*i*m-t*v*m-u*i*x+t*p*x)*L,e[6]=(y*l*s-o*v*s-y*i*c+t*v*c+o*i*x-t*l*x)*L,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*L,e[8]=A*L,e[9]=(y*d*s-u*g*s-y*r*m+t*g*m+u*r*x-t*d*x)*L,e[10]=(o*g*s-y*a*s+y*r*c-t*g*c-o*r*x+t*a*x)*L,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*m-t*a*m)*L,e[12]=T*L,e[13]=(u*g*i-y*d*i+y*r*p-t*g*p-u*r*v+t*d*v)*L,e[14]=(y*a*i-o*g*i-y*r*l+t*g*l+o*r*v-t*a*v)*L,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*p+t*a*p)*L,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,y=s*d,g=o*u,v=o*d,x=a*d,_=l*c,w=l*u,A=l*d,T=r.x,P=r.y,L=r.z;return i[0]=(1-(g+x))*T,i[1]=(m+A)*T,i[2]=(y-w)*T,i[3]=0,i[4]=(m-A)*P,i[5]=(1-(p+x))*P,i[6]=(v+_)*P,i[7]=0,i[8]=(y+w)*L,i[9]=(v-_)*L,i[10]=(1-(p+g))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=yh.set(i[0],i[1],i[2]).length();const o=yh.set(i[4],i[5],i[6]).length(),a=yh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Mo.copy(this);const c=1/s,u=1/o,d=1/a;return Mo.elements[0]*=c,Mo.elements[1]*=c,Mo.elements[2]*=c,Mo.elements[4]*=u,Mo.elements[5]*=u,Mo.elements[6]*=u,Mo.elements[8]*=d,Mo.elements[9]*=d,Mo.elements[10]*=d,t.setFromRotationMatrix(Mo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const yh=new N,Mo=new tt,RZ=new N(0,0,0),LZ=new N(1,1,1),Wl=new N,qv=new N,bs=new N,$3=new tt,W3=new xr;class ho{constructor(e=0,t=0,r=0,i=ho.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(vr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-vr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(vr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-vr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(vr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-vr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return $3.makeRotationFromQuaternion(e),this.setFromRotationMatrix($3,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return W3.setFromEuler(this),this.setFromQuaternion(W3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ho.DEFAULT_ORDER="XYZ";class ad{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kZ=0;const j3=new N,vh=new xr,Ua=new tt,Yv=new N,mm=new N,DZ=new N,BZ=new xr,K3=new N(1,0,0),X3=new N(0,1,0),J3=new N(0,0,1),OZ={type:"added"},q3={type:"removed"};class Kt extends Ra{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kZ++}),this.uuid=ks(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kt.DEFAULT_UP.clone();const e=new N,t=new ho,r=new xr,i=new N(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tt},normalMatrix:{value:new qr}}),this.matrix=new tt,this.matrixWorld=new tt,this.matrixAutoUpdate=Kt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ad,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return vh.setFromAxisAngle(e,t),this.quaternion.multiply(vh),this}rotateOnWorldAxis(e,t){return vh.setFromAxisAngle(e,t),this.quaternion.premultiply(vh),this}rotateX(e){return this.rotateOnAxis(K3,e)}rotateY(e){return this.rotateOnAxis(X3,e)}rotateZ(e){return this.rotateOnAxis(J3,e)}translateOnAxis(e,t){return j3.copy(e).applyQuaternion(this.quaternion),this.position.add(j3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(K3,e)}translateY(e){return this.translateOnAxis(X3,e)}translateZ(e){return this.translateOnAxis(J3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ua.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Yv.copy(e):Yv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),mm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ua.lookAt(mm,Yv,this.up):Ua.lookAt(Yv,mm,this.up),this.quaternion.setFromRotationMatrix(Ua),i&&(Ua.extractRotation(i.matrixWorld),vh.setFromRotationMatrix(Ua),this.quaternion.premultiply(vh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(OZ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(q3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(q3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ua.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ua.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ua),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mm,e,DZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(mm,BZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Kt.DEFAULT_UP=new N(0,1,0);Kt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eo=new N,Ha=new N,yC=new N,Ga=new N,xh=new N,_h=new N,Y3=new N,vC=new N,xC=new N,_C=new N;class lo{constructor(e=new N,t=new N,r=new N){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Eo.subVectors(e,t),i.cross(Eo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Eo.subVectors(i,t),Ha.subVectors(r,t),yC.subVectors(e,t);const o=Eo.dot(Eo),a=Eo.dot(Ha),l=Eo.dot(yC),c=Ha.dot(Ha),u=Ha.dot(yC),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ga),Ga.x>=0&&Ga.y>=0&&Ga.x+Ga.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ga),l.set(0,0),l.addScaledVector(s,Ga.x),l.addScaledVector(o,Ga.y),l.addScaledVector(a,Ga.z),l}static isFrontFacing(e,t,r,i){return Eo.subVectors(r,t),Ha.subVectors(e,t),Eo.cross(Ha).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Eo.subVectors(this.c,this.b),Ha.subVectors(this.a,this.b),Eo.cross(Ha).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return lo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return lo.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return lo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;xh.subVectors(i,r),_h.subVectors(s,r),vC.subVectors(e,r);const l=xh.dot(vC),c=_h.dot(vC);if(l<=0&&c<=0)return t.copy(r);xC.subVectors(e,i);const u=xh.dot(xC),d=_h.dot(xC);if(u>=0&&d<=u)return t.copy(i);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(xh,o);_C.subVectors(e,s);const m=xh.dot(_C),y=_h.dot(_C);if(y>=0&&m<=y)return t.copy(s);const g=m*c-l*y;if(g<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(_h,a);const v=u*y-m*d;if(v<=0&&d-u>=0&&m-y>=0)return Y3.subVectors(s,i),a=(d-u)/(d-u+(m-y)),t.copy(i).addScaledVector(Y3,a);const x=1/(v+g+p);return o=g*x,a=p*x,t.copy(r).addScaledVector(xh,o).addScaledVector(_h,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let NZ=0;class Ir extends Ra{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NZ++}),this.uuid=ks(),this.name="",this.type="Material",this.blending=id,this.side=Aa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=RI,this.blendDst=LI,this.blendEquation=Fu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=A_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tV,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_1,this.stencilZFail=_1,this.stencilZPass=_1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==id&&(r.blending=this.blending),this.side!==Aa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const sV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},To={h:0,s:0,l:0},Qv={h:0,s:0,l:0};function SC(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ue{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Do){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=bi.workingColorSpace){return this.r=e,this.g=t,this.b=r,bi.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=bi.workingColorSpace){if(e=FI(e,1),t=vr(t,0,1),r=vr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=SC(o,s,e+1/3),this.g=SC(o,s,e),this.b=SC(o,s,e-1/3)}return bi.toWorkingColorSpace(this,i),this}setStyle(e,t=Do){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,bi.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,bi.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,bi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,bi.toWorkingColorSpace(this,t),this;console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Do){const r=sV[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gf(e.r),this.g=gf(e.g),this.b=gf(e.b),this}copyLinearToSRGB(e){return this.r=cC(e.r),this.g=cC(e.g),this.b=cC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Do){return bi.fromWorkingColorSpace(wi.copy(this),e),vr(wi.r*255,0,255)<<16^vr(wi.g*255,0,255)<<8^vr(wi.b*255,0,255)<<0}getHexString(e=Do){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bi.workingColorSpace){bi.fromWorkingColorSpace(wi.copy(this),t);const r=wi.r,i=wi.g,s=wi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=bi.workingColorSpace){return bi.fromWorkingColorSpace(wi.copy(this),t),e.r=wi.r,e.g=wi.g,e.b=wi.b,e}getStyle(e=Do){bi.fromWorkingColorSpace(wi.copy(this),e);const t=wi.r,r=wi.g,i=wi.b;return e!==Do?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${t*255|0},${r*255|0},${i*255|0})`}offsetHSL(e,t,r){return this.getHSL(To),To.h+=e,To.s+=t,To.l+=r,this.setHSL(To.h,To.s,To.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(To),e.getHSL(Qv);const r=lg(To.h,Qv.h,t),i=lg(To.s,Qv.s,t),s=lg(To.l,Qv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const wi=new Ue;Ue.NAMES=sV;class Is extends Ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wr=new N,Zv=new be;class fn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Qg,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Zv.fromBufferAttribute(this,t),Zv.applyMatrix3(e),this.setXY(t,Zv.x,Zv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyMatrix3(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyMatrix4(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyNormalMatrix(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.transformDirection(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=tl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Mn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=tl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Mn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=tl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Mn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=tl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Mn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array),i=Mn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array),i=Mn(i,this.array),s=Mn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Qg&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class FZ extends fn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class zZ extends fn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class UZ extends fn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class HZ extends fn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class $S extends fn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class GZ extends fn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class HI extends fn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class VZ extends fn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Qe extends fn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class $Z extends fn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let WZ=0;const to=new tt,wC=new Kt,Sh=new N,As=new Xc,gm=new Xc,Kr=new N;class St extends Ra{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:WZ++}),this.uuid=ks(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iV(e)?HI:$S)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new qr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return to.makeRotationFromQuaternion(e),this.applyMatrix4(to),this}rotateX(e){return to.makeRotationX(e),this.applyMatrix4(to),this}rotateY(e){return to.makeRotationY(e),this.applyMatrix4(to),this}rotateZ(e){return to.makeRotationZ(e),this.applyMatrix4(to),this}translate(e,t,r){return to.makeTranslation(e,t,r),this.applyMatrix4(to),this}scale(e,t,r){return to.makeScale(e,t,r),this.applyMatrix4(to),this}lookAt(e){return wC.lookAt(e),wC.updateMatrix(),this.applyMatrix4(wC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sh).negate(),this.translate(Sh.x,Sh.y,Sh.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Xc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];As.setFromBufferAttribute(s),this.morphTargetsRelative?(Kr.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Kr),Kr.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Kr)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const r=this.boundingSphere.center;if(As.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];gm.setFromBufferAttribute(a),this.morphTargetsRelative?(Kr.addVectors(As.min,gm.min),As.expandByPoint(Kr),Kr.addVectors(As.max,gm.max),As.expandByPoint(Kr)):(As.expandByPoint(gm.min),As.expandByPoint(gm.max))}As.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Kr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Kr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Kr.fromBufferAttribute(a,c),l&&(Sh.fromBufferAttribute(e,c),Kr.add(Sh)),i=Math.max(i,r.distanceToSquared(Kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new fn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let k=0;k<a;k++)c[k]=new N,u[k]=new N;const d=new N,p=new N,m=new N,y=new be,g=new be,v=new be,x=new N,_=new N;function w(k,V,U){d.fromArray(i,k*3),p.fromArray(i,V*3),m.fromArray(i,U*3),y.fromArray(o,k*2),g.fromArray(o,V*2),v.fromArray(o,U*2),p.sub(d),m.sub(d),g.sub(y),v.sub(y);const F=1/(g.x*v.y-v.x*g.y);isFinite(F)&&(x.copy(p).multiplyScalar(v.y).addScaledVector(m,-g.y).multiplyScalar(F),_.copy(m).multiplyScalar(g.x).addScaledVector(p,-v.x).multiplyScalar(F),c[k].add(x),c[V].add(x),c[U].add(x),u[k].add(_),u[V].add(_),u[U].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let k=0,V=A.length;k<V;++k){const U=A[k],F=U.start,J=U.count;for(let q=F,se=F+J;q<se;q+=3)w(r[q+0],r[q+1],r[q+2])}const T=new N,P=new N,L=new N,M=new N;function R(k){L.fromArray(s,k*3),M.copy(L);const V=c[k];T.copy(V),T.sub(L.multiplyScalar(L.dot(V))).normalize(),P.crossVectors(M,V);const F=P.dot(u[k])<0?-1:1;l[k*4]=T.x,l[k*4+1]=T.y,l[k*4+2]=T.z,l[k*4+3]=F}for(let k=0,V=A.length;k<V;++k){const U=A[k],F=U.start,J=U.count;for(let q=F,se=F+J;q<se;q+=3)R(r[q+0]),R(r[q+1]),R(r[q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new fn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new N,s=new N,o=new N,a=new N,l=new N,c=new N,u=new N,d=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Kr.fromBufferAttribute(e,t),Kr.normalize(),e.setXYZ(t,Kr.x,Kr.y,Kr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let g=0,v=l.length;g<v;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*u;for(let x=0;x<u;x++)p[y++]=c[m++]}return new fn(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new St,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Q3=new tt,ra=new Xy,ex=new Jc,Z3=new N,ym=new N,vm=new N,xm=new N,bC=new N,tx=new N,nx=new be,rx=new be,ix=new be,AC=new N,sx=new N;class Pr extends Kt{constructor(e=new St,t=new Is){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){tx.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(bC.fromBufferAttribute(d,e),o?tx.addScaledVector(bC,u):tx.addScaledVector(bC.sub(t),u))}t.add(tx)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),ex.copy(r.boundingSphere),ex.applyMatrix4(s),ra.copy(e.ray).recast(e.near),ex.containsPoint(ra.origin)===!1&&(ra.intersectSphere(ex,Z3)===null||ra.origin.distanceToSquared(Z3)>(e.far-e.near)**2))||(Q3.copy(s).invert(),ra.copy(e.ray).applyMatrix4(Q3),r.boundingBox!==null&&ra.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,d=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,y=d.length;m<y;m++){const g=d[m],v=i[g.materialIndex],x=Math.max(g.start,p.start),_=Math.min(a.count,Math.min(g.start+g.count,p.start+p.count));for(let w=x,A=_;w<A;w+=3){const T=a.getX(w),P=a.getX(w+1),L=a.getX(w+2);o=ox(this,v,e,ra,c,u,T,P,L),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let g=m,v=y;g<v;g+=3){const x=a.getX(g),_=a.getX(g+1),w=a.getX(g+2);o=ox(this,i,e,ra,c,u,x,_,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,y=d.length;m<y;m++){const g=d[m],v=i[g.materialIndex],x=Math.max(g.start,p.start),_=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let w=x,A=_;w<A;w+=3){const T=w,P=w+1,L=w+2;o=ox(this,v,e,ra,c,u,T,P,L),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=g.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let g=m,v=y;g<v;g+=3){const x=g,_=g+1,w=g+2;o=ox(this,i,e,ra,c,u,x,_,w),o&&(o.faceIndex=Math.floor(g/3),t.push(o))}}}}function jZ(n,e,t,r,i,s,o,a){let l;if(e.side===cs?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Aa,a),l===null)return null;sx.copy(a),sx.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(sx);return c<t.near||c>t.far?null:{distance:c,point:sx.clone(),object:n}}function ox(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,ym),n.getVertexPosition(a,vm),n.getVertexPosition(l,xm);const c=jZ(n,e,t,r,ym,vm,xm,AC);if(c){i&&(nx.fromBufferAttribute(i,o),rx.fromBufferAttribute(i,a),ix.fromBufferAttribute(i,l),c.uv=lo.getUV(AC,ym,vm,xm,nx,rx,ix,new be)),s&&(nx.fromBufferAttribute(s,o),rx.fromBufferAttribute(s,a),ix.fromBufferAttribute(s,l),c.uv2=lo.getUV(AC,ym,vm,xm,nx,rx,ix,new be));const u={a:o,b:a,c:l,normal:new N,materialIndex:0};lo.getNormal(ym,vm,xm,u.normal),c.face=u}return c}class qc extends St{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Qe(c,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(d,2));function y(g,v,x,_,w,A,T,P,L,M,R){const k=A/L,V=T/M,U=A/2,F=T/2,J=P/2,q=L+1,se=M+1;let ue=0,H=0;const j=new N;for(let O=0;O<se;O++){const oe=O*V-F;for(let z=0;z<q;z++){const Q=z*k-U;j[g]=Q*_,j[v]=oe*w,j[x]=J,c.push(j.x,j.y,j.z),j[g]=0,j[v]=0,j[x]=P>0?1:-1,u.push(j.x,j.y,j.z),d.push(z/L),d.push(1-O/M),ue+=1}}for(let O=0;O<M;O++)for(let oe=0;oe<L;oe++){const z=p+oe+q*O,Q=p+oe+q*(O+1),de=p+(oe+1)+q*(O+1),Z=p+(oe+1)+q*O;l.push(z,Q,Z),l.push(Q,de,Z),H+=6}a.addGroup(m,H,R),m+=H,p+=ue}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ui(n){const e={};for(let t=0;t<n.length;t++){const r=jf(n[t]);for(const i in r)e[i]=r[i]}return e}function KZ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function oV(n){return n.getRenderTarget()===null&&n.outputEncoding===zt?Do:Wf}const aV={clone:jf,merge:Ui};var XZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,JZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ea extends Ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XZ,this.fragmentShader=JZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jf(e.uniforms),this.uniformsGroups=KZ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Jy extends Kt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new tt,this.projectionMatrix=new tt,this.projectionMatrixInverse=new tt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class bn extends Jy{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Zg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(od*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Zg*2*Math.atan(Math.tan(od*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(od*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const wh=-90,bh=1;class GI extends Kt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new bn(wh,bh,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new bn(wh,bh,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new bn(wh,bh,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new bn(wh,bh,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new bn(wh,bh,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new bn(wh,bh,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Vo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class qy extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Oc,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class VI extends jo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new qy(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:tr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qc(5,5,5),s=new Ea({name:"CubemapFromEquirect",uniforms:jf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:cs,blending:ol});s.uniforms.tEquirect.value=t;const o=new Pr(i,s),a=t.minFilter;return t.minFilter===Ma&&(t.minFilter=tr),new GI(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const CC=new N,qZ=new N,YZ=new qr;class nc{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=CC.subVectors(r,t).cross(qZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(CC),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||YZ.getNormalMatrix(e),i=this.coplanarPoint(CC).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ah=new Jc,ax=new N;class WS{constructor(e=new nc,t=new nc,r=new nc,i=new nc,s=new nc,o=new nc){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],m=r[9],y=r[10],g=r[11],v=r[12],x=r[13],_=r[14],w=r[15];return t[0].setComponents(a-i,d-l,g-p,w-v).normalize(),t[1].setComponents(a+i,d+l,g+p,w+v).normalize(),t[2].setComponents(a+s,d+c,g+m,w+x).normalize(),t[3].setComponents(a-s,d-c,g-m,w-x).normalize(),t[4].setComponents(a-o,d-u,g-y,w-_).normalize(),t[5].setComponents(a+o,d+u,g+y,w+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Ah.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ah)}intersectsSprite(e){return Ah.center.set(0,0,0),Ah.radius=.7071067811865476,Ah.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ah)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(ax.x=i.normal.x>0?e.max.x:e.min.x,ax.y=i.normal.y>0?e.max.y:e.min.y,ax.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ax)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lV(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function QZ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,p),c.onUploadCallback();let y;if(d instanceof Float32Array)y=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(d instanceof Int16Array)y=5122;else if(d instanceof Uint32Array)y=5125;else if(d instanceof Int32Array)y=5124;else if(d instanceof Int8Array)y=5120;else if(d instanceof Uint8Array)y=5121;else if(d instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class mp extends St{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=t/l,m=[],y=[],g=[],v=[];for(let x=0;x<u;x++){const _=x*p-o;for(let w=0;w<c;w++){const A=w*d-s;y.push(A,-_,0),g.push(0,0,1),v.push(w/a),v.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const w=_+c*x,A=_+c*(x+1),T=_+1+c*(x+1),P=_+1+c*x;m.push(w,A,P),m.push(A,T,P)}this.setIndex(m),this.setAttribute("position",new Qe(y,3)),this.setAttribute("normal",new Qe(g,3)),this.setAttribute("uv",new Qe(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mp(e.width,e.height,e.widthSegments,e.heightSegments)}}var ZZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,eee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tee=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,nee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ree=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,see="vec3 transformed = vec3( position );",oee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aee=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,lee=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,cee=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,uee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,dee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fee=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pee=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,mee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,yee=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,vee=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,xee=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_ee=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,See=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wee=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,bee=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Aee=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Cee="gl_FragColor = linearToOutputTexel( gl_FragColor );",Mee=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Eee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tee=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Pee=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Iee=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ree=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Lee=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,kee=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Dee=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Bee=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Oee=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Nee=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Fee=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zee=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Uee=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Hee=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Gee=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Vee=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$ee=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Wee=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jee=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Kee=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Xee=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Jee=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,qee=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Yee=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Qee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Zee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ete=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,tte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,nte=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rte=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ite=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ste=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ote=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ate=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lte=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cte=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ute=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,dte=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,hte=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,fte=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,pte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gte=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yte=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,vte=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,xte=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,_te=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Ste=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wte=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,bte=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Ate=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Cte=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Mte=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ete=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Tte=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Pte=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ite=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Rte=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Lte=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,kte=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Dte=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Bte=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Ote=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Nte=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Fte=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zte=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ute=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Hte=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Gte=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Vte=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		
		vec2 lodFudge = pow( 1.95, lod ) / fullSize;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec2 fullSize = vec2( textureSize( sampler, 0 ) );
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,$te=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Wte=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,jte=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Kte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Xte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Jte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,qte=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Yte=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Qte=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Zte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ene=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rne=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ine=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,sne=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,one=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ane=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lne=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cne=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,une=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dne=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hne=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fne=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pne=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mne=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gne=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yne=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vne=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xne=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ne=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bne=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ane=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cne=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ene=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tne=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Pne=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ine=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ot={alphamap_fragment:ZZ,alphamap_pars_fragment:eee,alphatest_fragment:tee,alphatest_pars_fragment:nee,aomap_fragment:ree,aomap_pars_fragment:iee,begin_vertex:see,beginnormal_vertex:oee,bsdfs:aee,iridescence_fragment:lee,bumpmap_pars_fragment:cee,clipping_planes_fragment:uee,clipping_planes_pars_fragment:dee,clipping_planes_pars_vertex:hee,clipping_planes_vertex:fee,color_fragment:pee,color_pars_fragment:mee,color_pars_vertex:gee,color_vertex:yee,common:vee,cube_uv_reflection_fragment:xee,defaultnormal_vertex:_ee,displacementmap_pars_vertex:See,displacementmap_vertex:wee,emissivemap_fragment:bee,emissivemap_pars_fragment:Aee,encodings_fragment:Cee,encodings_pars_fragment:Mee,envmap_fragment:Eee,envmap_common_pars_fragment:Tee,envmap_pars_fragment:Pee,envmap_pars_vertex:Iee,envmap_physical_pars_fragment:Gee,envmap_vertex:Ree,fog_vertex:Lee,fog_pars_vertex:kee,fog_fragment:Dee,fog_pars_fragment:Bee,gradientmap_pars_fragment:Oee,lightmap_fragment:Nee,lightmap_pars_fragment:Fee,lights_lambert_fragment:zee,lights_lambert_pars_fragment:Uee,lights_pars_begin:Hee,lights_toon_fragment:Vee,lights_toon_pars_fragment:$ee,lights_phong_fragment:Wee,lights_phong_pars_fragment:jee,lights_physical_fragment:Kee,lights_physical_pars_fragment:Xee,lights_fragment_begin:Jee,lights_fragment_maps:qee,lights_fragment_end:Yee,logdepthbuf_fragment:Qee,logdepthbuf_pars_fragment:Zee,logdepthbuf_pars_vertex:ete,logdepthbuf_vertex:tte,map_fragment:nte,map_pars_fragment:rte,map_particle_fragment:ite,map_particle_pars_fragment:ste,metalnessmap_fragment:ote,metalnessmap_pars_fragment:ate,morphcolor_vertex:lte,morphnormal_vertex:cte,morphtarget_pars_vertex:ute,morphtarget_vertex:dte,normal_fragment_begin:hte,normal_fragment_maps:fte,normal_pars_fragment:pte,normal_pars_vertex:mte,normal_vertex:gte,normalmap_pars_fragment:yte,clearcoat_normal_fragment_begin:vte,clearcoat_normal_fragment_maps:xte,clearcoat_pars_fragment:_te,iridescence_pars_fragment:Ste,output_fragment:wte,packing:bte,premultiplied_alpha_fragment:Ate,project_vertex:Cte,dithering_fragment:Mte,dithering_pars_fragment:Ete,roughnessmap_fragment:Tte,roughnessmap_pars_fragment:Pte,shadowmap_pars_fragment:Ite,shadowmap_pars_vertex:Rte,shadowmap_vertex:Lte,shadowmask_pars_fragment:kte,skinbase_vertex:Dte,skinning_pars_vertex:Bte,skinning_vertex:Ote,skinnormal_vertex:Nte,specularmap_fragment:Fte,specularmap_pars_fragment:zte,tonemapping_fragment:Ute,tonemapping_pars_fragment:Hte,transmission_fragment:Gte,transmission_pars_fragment:Vte,uv_pars_fragment:$te,uv_pars_vertex:Wte,uv_vertex:jte,uv2_pars_fragment:Kte,uv2_pars_vertex:Xte,uv2_vertex:Jte,worldpos_vertex:qte,background_vert:Yte,background_frag:Qte,backgroundCube_vert:Zte,backgroundCube_frag:ene,cube_vert:tne,cube_frag:nne,depth_vert:rne,depth_frag:ine,distanceRGBA_vert:sne,distanceRGBA_frag:one,equirect_vert:ane,equirect_frag:lne,linedashed_vert:cne,linedashed_frag:une,meshbasic_vert:dne,meshbasic_frag:hne,meshlambert_vert:fne,meshlambert_frag:pne,meshmatcap_vert:mne,meshmatcap_frag:gne,meshnormal_vert:yne,meshnormal_frag:vne,meshphong_vert:xne,meshphong_frag:_ne,meshphysical_vert:Sne,meshphysical_frag:wne,meshtoon_vert:bne,meshtoon_frag:Ane,points_vert:Cne,points_frag:Mne,shadow_vert:Ene,shadow_frag:Tne,sprite_vert:Pne,sprite_frag:Ine},$e={common:{diffuse:{value:new Ue(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new qr},uv2Transform:{value:new qr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new be(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ue(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ue(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qr}},sprite:{diffuse:{value:new Ue(16777215)},opacity:{value:1},center:{value:new be(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qr}}},Oo={basic:{uniforms:Ui([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:Ui([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ue(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:Ui([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Ue(0)},specular:{value:new Ue(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:Ui([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new Ue(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:Ui([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new Ue(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:Ui([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:Ui([$e.points,$e.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:Ui([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:Ui([$e.common,$e.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:Ui([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:Ui([$e.sprite,$e.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new qr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:Ui([$e.common,$e.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:Ui([$e.lights,$e.fog,{color:{value:new Ue(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};Oo.physical={uniforms:Ui([Oo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new be(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ue(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ue(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ue(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const lx={r:0,b:0,g:0};function Rne(n,e,t,r,i,s,o){const a=new Ue(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function y(v,x){let _=!1,w=x.isScene===!0?x.background:null;w&&w.isTexture&&(w=(x.backgroundBlurriness>0?t:e).get(w));const A=n.xr,T=A.getSession&&A.getSession();T&&T.environmentBlendMode==="additive"&&(w=null),w===null?g(a,l):w&&w.isColor&&(g(w,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===pp)?(u===void 0&&(u=new Pr(new qc(1,1,1),new Ea({name:"BackgroundCubeMaterial",uniforms:jf(Oo.backgroundCube.uniforms),vertexShader:Oo.backgroundCube.vertexShader,fragmentShader:Oo.backgroundCube.fragmentShader,side:cs,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(P,L,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=w.encoding!==zt,(d!==w||p!==w.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=w,p=w.version,m=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Pr(new mp(2,2),new Ea({name:"BackgroundMaterial",uniforms:jf(Oo.background.uniforms),vertexShader:Oo.background.vertexShader,fragmentShader:Oo.background.fragmentShader,side:Aa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=w.encoding!==zt,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||p!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=w,p=w.version,m=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function g(v,x){v.getRGB(lx,oV(n)),r.buffers.color.setClear(lx.r,lx.g,lx.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(v,x=1){a.set(v),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:y}}function Lne(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function d(J,q,se,ue,H){let j=!1;if(o){const O=g(ue,se,q);c!==O&&(c=O,m(c.object)),j=x(J,ue,se,H),j&&_(J,ue,se,H)}else{const O=q.wireframe===!0;(c.geometry!==ue.id||c.program!==se.id||c.wireframe!==O)&&(c.geometry=ue.id,c.program=se.id,c.wireframe=O,j=!0)}H!==null&&t.update(H,34963),(j||u)&&(u=!1,M(J,q,se,ue),H!==null&&n.bindBuffer(34963,t.get(H).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(J){return r.isWebGL2?n.bindVertexArray(J):s.bindVertexArrayOES(J)}function y(J){return r.isWebGL2?n.deleteVertexArray(J):s.deleteVertexArrayOES(J)}function g(J,q,se){const ue=se.wireframe===!0;let H=a[J.id];H===void 0&&(H={},a[J.id]=H);let j=H[q.id];j===void 0&&(j={},H[q.id]=j);let O=j[ue];return O===void 0&&(O=v(p()),j[ue]=O),O}function v(J){const q=[],se=[],ue=[];for(let H=0;H<i;H++)q[H]=0,se[H]=0,ue[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:se,attributeDivisors:ue,object:J,attributes:{},index:null}}function x(J,q,se,ue){const H=c.attributes,j=q.attributes;let O=0;const oe=se.getAttributes();for(const z in oe)if(oe[z].location>=0){const de=H[z];let Z=j[z];if(Z===void 0&&(z==="instanceMatrix"&&J.instanceMatrix&&(Z=J.instanceMatrix),z==="instanceColor"&&J.instanceColor&&(Z=J.instanceColor)),de===void 0||de.attribute!==Z||Z&&de.data!==Z.data)return!0;O++}return c.attributesNum!==O||c.index!==ue}function _(J,q,se,ue){const H={},j=q.attributes;let O=0;const oe=se.getAttributes();for(const z in oe)if(oe[z].location>=0){let de=j[z];de===void 0&&(z==="instanceMatrix"&&J.instanceMatrix&&(de=J.instanceMatrix),z==="instanceColor"&&J.instanceColor&&(de=J.instanceColor));const Z={};Z.attribute=de,de&&de.data&&(Z.data=de.data),H[z]=Z,O++}c.attributes=H,c.attributesNum=O,c.index=ue}function w(){const J=c.newAttributes;for(let q=0,se=J.length;q<se;q++)J[q]=0}function A(J){T(J,0)}function T(J,q){const se=c.newAttributes,ue=c.enabledAttributes,H=c.attributeDivisors;se[J]=1,ue[J]===0&&(n.enableVertexAttribArray(J),ue[J]=1),H[J]!==q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](J,q),H[J]=q)}function P(){const J=c.newAttributes,q=c.enabledAttributes;for(let se=0,ue=q.length;se<ue;se++)q[se]!==J[se]&&(n.disableVertexAttribArray(se),q[se]=0)}function L(J,q,se,ue,H,j){r.isWebGL2===!0&&(se===5124||se===5125)?n.vertexAttribIPointer(J,q,se,H,j):n.vertexAttribPointer(J,q,se,ue,H,j)}function M(J,q,se,ue){if(r.isWebGL2===!1&&(J.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const H=ue.attributes,j=se.getAttributes(),O=q.defaultAttributeValues;for(const oe in j){const z=j[oe];if(z.location>=0){let Q=H[oe];if(Q===void 0&&(oe==="instanceMatrix"&&J.instanceMatrix&&(Q=J.instanceMatrix),oe==="instanceColor"&&J.instanceColor&&(Q=J.instanceColor)),Q!==void 0){const de=Q.normalized,Z=Q.itemSize,Ae=t.get(Q);if(Ae===void 0)continue;const Te=Ae.buffer,Be=Ae.type,Ve=Ae.bytesPerElement;if(Q.isInterleavedBufferAttribute){const Re=Q.data,Pe=Re.stride,pe=Q.offset;if(Re.isInstancedInterleavedBuffer){for(let ge=0;ge<z.locationSize;ge++)T(z.location+ge,Re.meshPerAttribute);J.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let ge=0;ge<z.locationSize;ge++)A(z.location+ge);n.bindBuffer(34962,Te);for(let ge=0;ge<z.locationSize;ge++)L(z.location+ge,Z/z.locationSize,Be,de,Pe*Ve,(pe+Z/z.locationSize*ge)*Ve)}else{if(Q.isInstancedBufferAttribute){for(let Re=0;Re<z.locationSize;Re++)T(z.location+Re,Q.meshPerAttribute);J.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let Re=0;Re<z.locationSize;Re++)A(z.location+Re);n.bindBuffer(34962,Te);for(let Re=0;Re<z.locationSize;Re++)L(z.location+Re,Z/z.locationSize,Be,de,Z*Ve,Z/z.locationSize*Re*Ve)}}else if(O!==void 0){const de=O[oe];if(de!==void 0)switch(de.length){case 2:n.vertexAttrib2fv(z.location,de);break;case 3:n.vertexAttrib3fv(z.location,de);break;case 4:n.vertexAttrib4fv(z.location,de);break;default:n.vertexAttrib1fv(z.location,de)}}}}P()}function R(){U();for(const J in a){const q=a[J];for(const se in q){const ue=q[se];for(const H in ue)y(ue[H].object),delete ue[H];delete q[se]}delete a[J]}}function k(J){if(a[J.id]===void 0)return;const q=a[J.id];for(const se in q){const ue=q[se];for(const H in ue)y(ue[H].object),delete ue[H];delete q[se]}delete a[J.id]}function V(J){for(const q in a){const se=a[q];if(se[J.id]===void 0)continue;const ue=se[J.id];for(const H in ue)y(ue[H].object),delete ue[H];delete se[J.id]}}function U(){F(),u=!0,c!==l&&(c=l,m(c.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:U,resetDefaultState:F,dispose:R,releaseStatesOfGeometry:k,releaseStatesOfProgram:V,initAttributes:w,enableAttribute:A,disableUnusedAttributes:P}}function kne(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Dne(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),v=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),w=p>0,A=o||e.has("OES_texture_float"),T=w&&A,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:T,maxSamples:P}}function Bne(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new nc,a=new qr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||r!==0||i;return i=p,r=d.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=u(d,p,0)},this.setState=function(d,p,m){const y=d.clippingPlanes,g=d.clipIntersection,v=d.clipShadows,x=n.get(d);if(!i||y===null||y.length===0||s&&!v)s?u(null):c();else{const _=s?0:r,w=_*4;let A=x.clippingState||null;l.value=A,A=u(y,p,w,m);for(let T=0;T!==w;++T)A[T]=t[T];x.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,m,y){const g=d!==null?d.length:0;let v=null;if(g!==0){if(v=l.value,y!==!0||v===null){const x=m+g*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(v===null||v.length<x)&&(v=new Float32Array(x));for(let w=0,A=m;w!==g;++w,A+=4)o.copy(d[w]).applyMatrix4(_,a),o.normal.toArray(v,A),v[A+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function One(n){let e=new WeakMap;function t(o,a){return a===Hf?o.mapping=Oc:a===Jg&&(o.mapping=Nc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Hf||a===Jg)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new VI(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class po extends Jy{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Qh=4,eO=[.125,.215,.35,.446,.526,.582],zu=20,MC=new po,tO=new Ue;let EC=null;const Lu=(1+Math.sqrt(5))/2,Ch=1/Lu,nO=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Lu,Ch),new N(0,Lu,-Ch),new N(Ch,0,Lu),new N(-Ch,0,Lu),new N(Lu,Ch,0),new N(-Lu,Ch,0)];class VT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){EC=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=iO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(EC),e.scissorTest=!1,cx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Oc||e.mapping===Nc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),EC=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:tr,minFilter:tr,generateMipmaps:!1,type:Vf,format:ns,encoding:gl,depthBuffer:!1},i=rO(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rO(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Nne(s)),this._blurMaterial=Fne(s,e,t)}return i}_compileMaterial(e){const t=new Pr(this._lodPlanes[0],e);this._renderer.compile(t,MC)}_sceneToCubeUV(e,t,r,i){const a=new bn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(tO),u.toneMapping=Vo,u.autoClear=!1;const m=new Is({name:"PMREM.Background",side:cs,depthWrite:!1,depthTest:!1}),y=new Pr(new qc,m);let g=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,g=!0):(m.color.copy(tO),g=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const w=this._cubeSize;cx(i,_*w,x>2?w:0,w,w),u.setRenderTarget(i),g&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Oc||e.mapping===Nc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=sO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=iO());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Pr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;cx(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,MC)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=nO[(i-1)%nO.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Pr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*zu-1),g=s/y,v=isFinite(s)?1+Math.floor(u*g):zu;v>zu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${zu}`);const x=[];let _=0;for(let L=0;L<zu;++L){const M=L/g,R=Math.exp(-M*M/2);x.push(R),L===0?_+=R:L<v&&(_+=2*R)}for(let L=0;L<x.length;L++)x[L]=x[L]/_;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-r;const A=this._sizeLods[i],T=3*A*(i>w-Qh?i-w+Qh:0),P=4*(this._cubeSize-A);cx(t,T,P,3*A,2*A),l.setRenderTarget(t),l.render(d,MC)}}function Nne(n){const e=[],t=[],r=[];let i=n;const s=n-Qh+1+eO.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Qh?l=eO[o-n+Qh-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,y=6,g=3,v=2,x=1,_=new Float32Array(g*y*m),w=new Float32Array(v*y*m),A=new Float32Array(x*y*m);for(let P=0;P<m;P++){const L=P%3*2/3-1,M=P>2?0:-1,R=[L,M,0,L+2/3,M,0,L+2/3,M+1,0,L,M,0,L+2/3,M+1,0,L,M+1,0];_.set(R,g*y*P),w.set(p,v*y*P);const k=[P,P,P,P,P,P];A.set(k,x*y*P)}const T=new St;T.setAttribute("position",new fn(_,g)),T.setAttribute("uv",new fn(w,v)),T.setAttribute("faceIndex",new fn(A,x)),e.push(T),i>Qh&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function rO(n,e,t){const r=new jo(n,e,t);return r.texture.mapping=pp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cx(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Fne(n,e,t){const r=new Float32Array(zu),i=new N(0,1,0);return new Ea({name:"SphericalGaussianBlur",defines:{n:zu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:$I(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function iO(){return new Ea({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:$I(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function sO(){return new Ea({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:$I(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ol,depthTest:!1,depthWrite:!1})}function $I(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zne(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Hf||l===Jg,u=l===Oc||l===Nc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new VT(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new VT(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Une(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Hne(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const y in p)e.update(p[y],34962);const m=d.morphAttributes;for(const y in m){const g=m[y];for(let v=0,x=g.length;v<x;v++)e.update(g[v],34962)}}function c(d){const p=[],m=d.index,y=d.attributes.position;let g=0;if(m!==null){const _=m.array;g=m.version;for(let w=0,A=_.length;w<A;w+=3){const T=_[w+0],P=_[w+1],L=_[w+2];p.push(T,P,P,L,L,T)}}else{const _=y.array;g=y.version;for(let w=0,A=_.length/3-1;w<A;w+=3){const T=w+0,P=w+1,L=w+2;p.push(T,P,P,L,L,T)}}const v=new(iV(p)?HI:$S)(p,1);v.version=g;const x=s.get(d);x&&e.remove(x),s.set(d,v)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Gne(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,y){if(y===0)return;let g,v;if(i)g=n,v="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function Vne(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function $ne(n,e){return n[0]-e[0]}function Wne(n,e){return Math.abs(e[1])-Math.abs(n[1])}function jne(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new rn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=y!==void 0?y.length:0;let v=s.get(u);if(v===void 0||v.count!==g){let q=function(){F.dispose(),s.delete(u),u.removeEventListener("dispose",q)};var m=q;v!==void 0&&v.texture.dispose();const w=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let R=0;w===!0&&(R=1),A===!0&&(R=2),T===!0&&(R=3);let k=u.attributes.position.count*R,V=1;k>e.maxTextureSize&&(V=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const U=new Float32Array(k*V*4*g),F=new VS(U,k,V,g);F.type=el,F.needsUpdate=!0;const J=R*4;for(let se=0;se<g;se++){const ue=P[se],H=L[se],j=M[se],O=k*V*4*se;for(let oe=0;oe<ue.count;oe++){const z=oe*J;w===!0&&(o.fromBufferAttribute(ue,oe),U[O+z+0]=o.x,U[O+z+1]=o.y,U[O+z+2]=o.z,U[O+z+3]=0),A===!0&&(o.fromBufferAttribute(H,oe),U[O+z+4]=o.x,U[O+z+5]=o.y,U[O+z+6]=o.z,U[O+z+7]=0),T===!0&&(o.fromBufferAttribute(j,oe),U[O+z+8]=o.x,U[O+z+9]=o.y,U[O+z+10]=o.z,U[O+z+11]=j.itemSize===4?o.w:1)}}v={count:g,texture:F,size:new be(k,V)},s.set(u,v),u.addEventListener("dispose",q)}let x=0;for(let w=0;w<p.length;w++)x+=p[w];const _=u.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const y=p===void 0?0:p.length;let g=r[u.id];if(g===void 0||g.length!==y){g=[];for(let A=0;A<y;A++)g[A]=[A,0];r[u.id]=g}for(let A=0;A<y;A++){const T=g[A];T[0]=A,T[1]=p[A]}g.sort(Wne);for(let A=0;A<8;A++)A<y&&g[A][1]?(a[A][0]=g[A][0],a[A][1]=g[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort($ne);const v=u.morphAttributes.position,x=u.morphAttributes.normal;let _=0;for(let A=0;A<8;A++){const T=a[A],P=T[0],L=T[1];P!==Number.MAX_SAFE_INTEGER&&L?(v&&u.getAttribute("morphTarget"+A)!==v[P]&&u.setAttribute("morphTarget"+A,v[P]),x&&u.getAttribute("morphNormal"+A)!==x[P]&&u.setAttribute("morphNormal"+A,x[P]),i[A]=L,_+=L):(v&&u.hasAttribute("morphTarget"+A)===!0&&u.deleteAttribute("morphTarget"+A),x&&u.hasAttribute("morphNormal"+A)===!0&&u.deleteAttribute("morphNormal"+A),i[A]=0)}const w=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Kne(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const cV=new Rn,uV=new VS,dV=new UI,hV=new qy,oO=[],aO=[],lO=new Float32Array(16),cO=new Float32Array(9),uO=new Float32Array(4);function gp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=oO[i];if(s===void 0&&(s=new Float32Array(i),oO[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function zr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ur(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function jS(n,e){let t=aO[e];t===void 0&&(t=new Int32Array(e),aO[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Xne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Jne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zr(t,e))return;n.uniform2fv(this.addr,e),Ur(t,e)}}function qne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(zr(t,e))return;n.uniform3fv(this.addr,e),Ur(t,e)}}function Yne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zr(t,e))return;n.uniform4fv(this.addr,e),Ur(t,e)}}function Qne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ur(t,e)}else{if(zr(t,r))return;uO.set(r),n.uniformMatrix2fv(this.addr,!1,uO),Ur(t,r)}}function Zne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ur(t,e)}else{if(zr(t,r))return;cO.set(r),n.uniformMatrix3fv(this.addr,!1,cO),Ur(t,r)}}function ere(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(zr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ur(t,e)}else{if(zr(t,r))return;lO.set(r),n.uniformMatrix4fv(this.addr,!1,lO),Ur(t,r)}}function tre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function nre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zr(t,e))return;n.uniform2iv(this.addr,e),Ur(t,e)}}function rre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zr(t,e))return;n.uniform3iv(this.addr,e),Ur(t,e)}}function ire(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zr(t,e))return;n.uniform4iv(this.addr,e),Ur(t,e)}}function sre(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ore(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(zr(t,e))return;n.uniform2uiv(this.addr,e),Ur(t,e)}}function are(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(zr(t,e))return;n.uniform3uiv(this.addr,e),Ur(t,e)}}function lre(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(zr(t,e))return;n.uniform4uiv(this.addr,e),Ur(t,e)}}function cre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||cV,i)}function ure(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||dV,i)}function dre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||hV,i)}function hre(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||uV,i)}function fre(n){switch(n){case 5126:return Xne;case 35664:return Jne;case 35665:return qne;case 35666:return Yne;case 35674:return Qne;case 35675:return Zne;case 35676:return ere;case 5124:case 35670:return tre;case 35667:case 35671:return nre;case 35668:case 35672:return rre;case 35669:case 35673:return ire;case 5125:return sre;case 36294:return ore;case 36295:return are;case 36296:return lre;case 35678:case 36198:case 36298:case 36306:case 35682:return cre;case 35679:case 36299:case 36307:return ure;case 35680:case 36300:case 36308:case 36293:return dre;case 36289:case 36303:case 36311:case 36292:return hre}}function pre(n,e){n.uniform1fv(this.addr,e)}function mre(n,e){const t=gp(e,this.size,2);n.uniform2fv(this.addr,t)}function gre(n,e){const t=gp(e,this.size,3);n.uniform3fv(this.addr,t)}function yre(n,e){const t=gp(e,this.size,4);n.uniform4fv(this.addr,t)}function vre(n,e){const t=gp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function xre(n,e){const t=gp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _re(n,e){const t=gp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Sre(n,e){n.uniform1iv(this.addr,e)}function wre(n,e){n.uniform2iv(this.addr,e)}function bre(n,e){n.uniform3iv(this.addr,e)}function Are(n,e){n.uniform4iv(this.addr,e)}function Cre(n,e){n.uniform1uiv(this.addr,e)}function Mre(n,e){n.uniform2uiv(this.addr,e)}function Ere(n,e){n.uniform3uiv(this.addr,e)}function Tre(n,e){n.uniform4uiv(this.addr,e)}function Pre(n,e,t){const r=this.cache,i=e.length,s=jS(t,i);zr(r,s)||(n.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||cV,s[o])}function Ire(n,e,t){const r=this.cache,i=e.length,s=jS(t,i);zr(r,s)||(n.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||dV,s[o])}function Rre(n,e,t){const r=this.cache,i=e.length,s=jS(t,i);zr(r,s)||(n.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||hV,s[o])}function Lre(n,e,t){const r=this.cache,i=e.length,s=jS(t,i);zr(r,s)||(n.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||uV,s[o])}function kre(n){switch(n){case 5126:return pre;case 35664:return mre;case 35665:return gre;case 35666:return yre;case 35674:return vre;case 35675:return xre;case 35676:return _re;case 5124:case 35670:return Sre;case 35667:case 35671:return wre;case 35668:case 35672:return bre;case 35669:case 35673:return Are;case 5125:return Cre;case 36294:return Mre;case 36295:return Ere;case 36296:return Tre;case 35678:case 36198:case 36298:case 36306:case 35682:return Pre;case 35679:case 36299:case 36307:return Ire;case 35680:case 36300:case 36308:case 36293:return Rre;case 36289:case 36303:case 36311:case 36292:return Lre}}class Dre{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=fre(t.type)}}class Bre{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=kre(t.type)}}class Ore{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const TC=/(\w+)(\])?(\[|\.)?/g;function dO(n,e){n.seq.push(e),n.map[e.id]=e}function Nre(n,e,t){const r=n.name,i=r.length;for(TC.lastIndex=0;;){const s=TC.exec(r),o=TC.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){dO(t,c===void 0?new Dre(a,n,e):new Bre(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new Ore(a),dO(t,d)),t=d}}}class S1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Nre(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function hO(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Fre=0;function zre(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Ure(n){switch(n){case gl:return["Linear","( value )"];case zt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function fO(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+zre(n.getShaderSource(e),o)}else return i}function Hre(n,e){const t=Ure(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Gre(n,e){let t;switch(e){case PG:t="Linear";break;case IG:t="Reinhard";break;case RG:t="OptimizedCineon";break;case kI:t="ACESFilmic";break;case LG:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Vre(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Um).join(`
`)}function $re(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Wre(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Um(n){return n!==""}function pO(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function mO(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const jre=/^[ \t]*#include +<([\w\d./]+)>/gm;function $T(n){return n.replace(jre,Kre)}function Kre(n,e){const t=Ot[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return $T(t)}const Xre=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function gO(n){return n.replace(Xre,Jre)}function Jre(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function yO(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function qre(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===zS?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ag?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Wu&&(e="SHADOWMAP_TYPE_VSM"),e}function Yre(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Oc:case Nc:e="ENVMAP_TYPE_CUBE";break;case pp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Qre(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Nc:e="ENVMAP_MODE_REFRACTION";break}return e}function Zre(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ky:e="ENVMAP_BLENDING_MULTIPLY";break;case EG:e="ENVMAP_BLENDING_MIX";break;case TG:e="ENVMAP_BLENDING_ADD";break}return e}function eie(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function tie(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=qre(t),c=Yre(t),u=Qre(t),d=Zre(t),p=eie(t),m=t.isWebGL2?"":Vre(t),y=$re(s),g=i.createProgram();let v,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[y].filter(Um).join(`
`),v.length>0&&(v+=`
`),x=[m,y].filter(Um).join(`
`),x.length>0&&(x+=`
`)):(v=[yO(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Um).join(`
`),x=[m,yO(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Vo?"#define TONE_MAPPING":"",t.toneMapping!==Vo?Ot.tonemapping_pars_fragment:"",t.toneMapping!==Vo?Gre("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ot.encodings_pars_fragment,Hre("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Um).join(`
`)),o=$T(o),o=pO(o,t),o=mO(o,t),a=$T(a),a=pO(a,t),a=mO(a,t),o=gO(o),a=gO(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["#define varying in",t.glslVersion===HT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===HT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=_+v+o,A=_+x+a,T=hO(i,35633,w),P=hO(i,35632,A);if(i.attachShader(g,T),i.attachShader(g,P),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(g).trim(),k=i.getShaderInfoLog(T).trim(),V=i.getShaderInfoLog(P).trim();let U=!0,F=!0;if(i.getProgramParameter(g,35714)===!1){U=!1;const J=fO(i,T,"vertex"),q=fO(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+R+`
`+J+`
`+q)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(k===""||V==="")&&(F=!1);F&&(this.diagnostics={runnable:U,programLog:R,vertexShader:{log:k,prefix:v},fragmentShader:{log:V,prefix:x}})}i.deleteShader(T),i.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new S1(i,g)),L};let M;return this.getAttributes=function(){return M===void 0&&(M=Wre(i,g)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=Fre++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=P,this}let nie=0;class rie{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new iie(e),t.set(e,r)),r}}class iie{constructor(e){this.id=nie++,this.code=e,this.usedTimes=0}}function sie(n,e,t,r,i,s,o){const a=new ad,l=new rie,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(M,R,k,V,U){const F=V.fog,J=U.geometry,q=M.isMeshStandardMaterial?V.environment:null,se=(M.isMeshStandardMaterial?t:e).get(M.envMap||q),ue=se&&se.mapping===pp?se.image.height:null,H=y[M.type];M.precision!==null&&(m=i.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const j=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,O=j!==void 0?j.length:0;let oe=0;J.morphAttributes.position!==void 0&&(oe=1),J.morphAttributes.normal!==void 0&&(oe=2),J.morphAttributes.color!==void 0&&(oe=3);let z,Q,de,Z;if(H){const Pe=Oo[H];z=Pe.vertexShader,Q=Pe.fragmentShader}else z=M.vertexShader,Q=M.fragmentShader,l.update(M),de=l.getVertexShaderID(M),Z=l.getFragmentShaderID(M);const Ae=n.getRenderTarget(),Te=M.alphaTest>0,Be=M.clearcoat>0,Ve=M.iridescence>0;return{isWebGL2:u,shaderID:H,shaderName:M.type,vertexShader:z,fragmentShader:Q,defines:M.defines,customVertexShaderID:de,customFragmentShaderID:Z,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:m,instancing:U.isInstancedMesh===!0,instancingColor:U.isInstancedMesh===!0&&U.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Ae===null?n.outputEncoding:Ae.isXRRenderTarget===!0?Ae.texture.encoding:gl,map:!!M.map,matcap:!!M.matcap,envMap:!!se,envMapMode:se&&se.mapping,envMapCubeUVHeight:ue,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===eV,tangentSpaceNormalMap:M.normalMapType===El,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===zt,clearcoat:Be,clearcoatMap:Be&&!!M.clearcoatMap,clearcoatRoughnessMap:Be&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:Be&&!!M.clearcoatNormalMap,iridescence:Ve,iridescenceMap:Ve&&!!M.iridescenceMap,iridescenceThicknessMap:Ve&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===id,alphaMap:!!M.alphaMap,alphaTest:Te,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!J.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!F,useFog:M.fog===!0,fogExp2:F&&F.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:U.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:oe,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:Vo,useLegacyLights:n.useLegacyLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===zo,flipSided:M.side===cs,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function v(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const k in M.defines)R.push(k),R.push(M.defines[k]);return M.isRawShaderMaterial===!1&&(x(R,M),_(R,M),R.push(n.outputEncoding)),R.push(M.customProgramCacheKey),R.join()}function x(M,R){M.push(R.precision),M.push(R.outputEncoding),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.combine),M.push(R.vertexUvs),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function _(M,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),M.push(a.mask)}function w(M){const R=y[M.type];let k;if(R){const V=Oo[R];k=aV.clone(V.uniforms)}else k=M.uniforms;return k}function A(M,R){let k;for(let V=0,U=c.length;V<U;V++){const F=c[V];if(F.cacheKey===R){k=F,++k.usedTimes;break}}return k===void 0&&(k=new tie(n,R,M,s),c.push(k)),k}function T(M){if(--M.usedTimes===0){const R=c.indexOf(M);c[R]=c[c.length-1],c.pop(),M.destroy()}}function P(M){l.remove(M)}function L(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:w,acquireProgram:A,releaseProgram:T,releaseShaderCache:P,programs:c,dispose:L}}function oie(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function aie(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function xO(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,m,y,g,v){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:p,material:m,groupOrder:y,renderOrder:d.renderOrder,z:g,group:v},n[e]=x):(x.id=d.id,x.object=d,x.geometry=p,x.material=m,x.groupOrder=y,x.renderOrder=d.renderOrder,x.z=g,x.group=v),e++,x}function a(d,p,m,y,g,v){const x=o(d,p,m,y,g,v);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(d,p,m,y,g,v){const x=o(d,p,m,y,g,v);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,p){t.length>1&&t.sort(d||aie),r.length>1&&r.sort(p||vO),i.length>1&&i.sort(p||vO)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function lie(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new xO,n.set(r,[o])):i>=s.length?(o=new xO,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function cie(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Ue};break;case"SpotLight":t={position:new N,direction:new N,color:new Ue,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Ue,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Ue,groundColor:new Ue};break;case"RectAreaLight":t={color:new Ue,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function uie(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let die=0;function hie(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function fie(n,e){const t=new cie,r=uie(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new N);const s=new N,o=new tt,a=new tt;function l(u,d){let p=0,m=0,y=0;for(let V=0;V<9;V++)i.probe[V].set(0,0,0);let g=0,v=0,x=0,_=0,w=0,A=0,T=0,P=0,L=0,M=0;u.sort(hie);const R=d===!0?Math.PI:1;for(let V=0,U=u.length;V<U;V++){const F=u[V],J=F.color,q=F.intensity,se=F.distance,ue=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)p+=J.r*q*R,m+=J.g*q*R,y+=J.b*q*R;else if(F.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(F.sh.coefficients[H],q);else if(F.isDirectionalLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity*R),F.castShadow){const j=F.shadow,O=r.get(F);O.shadowBias=j.bias,O.shadowNormalBias=j.normalBias,O.shadowRadius=j.radius,O.shadowMapSize=j.mapSize,i.directionalShadow[g]=O,i.directionalShadowMap[g]=ue,i.directionalShadowMatrix[g]=F.shadow.matrix,A++}i.directional[g]=H,g++}else if(F.isSpotLight){const H=t.get(F);H.position.setFromMatrixPosition(F.matrixWorld),H.color.copy(J).multiplyScalar(q*R),H.distance=se,H.coneCos=Math.cos(F.angle),H.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),H.decay=F.decay,i.spot[x]=H;const j=F.shadow;if(F.map&&(i.spotLightMap[L]=F.map,L++,j.updateMatrices(F),F.castShadow&&M++),i.spotLightMatrix[x]=j.matrix,F.castShadow){const O=r.get(F);O.shadowBias=j.bias,O.shadowNormalBias=j.normalBias,O.shadowRadius=j.radius,O.shadowMapSize=j.mapSize,i.spotShadow[x]=O,i.spotShadowMap[x]=ue,P++}x++}else if(F.isRectAreaLight){const H=t.get(F);H.color.copy(J).multiplyScalar(q),H.halfWidth.set(F.width*.5,0,0),H.halfHeight.set(0,F.height*.5,0),i.rectArea[_]=H,_++}else if(F.isPointLight){const H=t.get(F);if(H.color.copy(F.color).multiplyScalar(F.intensity*R),H.distance=F.distance,H.decay=F.decay,F.castShadow){const j=F.shadow,O=r.get(F);O.shadowBias=j.bias,O.shadowNormalBias=j.normalBias,O.shadowRadius=j.radius,O.shadowMapSize=j.mapSize,O.shadowCameraNear=j.camera.near,O.shadowCameraFar=j.camera.far,i.pointShadow[v]=O,i.pointShadowMap[v]=ue,i.pointShadowMatrix[v]=F.shadow.matrix,T++}i.point[v]=H,v++}else if(F.isHemisphereLight){const H=t.get(F);H.skyColor.copy(F.color).multiplyScalar(q*R),H.groundColor.copy(F.groundColor).multiplyScalar(q*R),i.hemi[w]=H,w++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const k=i.hash;(k.directionalLength!==g||k.pointLength!==v||k.spotLength!==x||k.rectAreaLength!==_||k.hemiLength!==w||k.numDirectionalShadows!==A||k.numPointShadows!==T||k.numSpotShadows!==P||k.numSpotMaps!==L)&&(i.directional.length=g,i.spot.length=x,i.rectArea.length=_,i.point.length=v,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=P+L-M,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=M,k.directionalLength=g,k.pointLength=v,k.spotLength=x,k.rectAreaLength=_,k.hemiLength=w,k.numDirectionalShadows=A,k.numPointShadows=T,k.numSpotShadows=P,k.numSpotMaps=L,i.version=die++)}function c(u,d){let p=0,m=0,y=0,g=0,v=0;const x=d.matrixWorldInverse;for(let _=0,w=u.length;_<w;_++){const A=u[_];if(A.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(x),p++}else if(A.isSpotLight){const T=i.spot[y];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(x),T.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(x),y++}else if(A.isRectAreaLight){const T=i.rectArea[g];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(x),a.identity(),o.copy(A.matrixWorld),o.premultiply(x),a.extractRotation(o),T.halfWidth.set(A.width*.5,0,0),T.halfHeight.set(0,A.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),g++}else if(A.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(x),m++}else if(A.isHemisphereLight){const T=i.hemi[v];T.direction.setFromMatrixPosition(A.matrixWorld),T.direction.transformDirection(x),v++}}}return{setup:l,setupView:c,state:i}}function _O(n,e){const t=new fie(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function pie(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new _O(n,e),t.set(s,[l])):o>=a.length?(l=new _O(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class WI extends Ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=QG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jI extends Ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mie=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gie=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yie(n,e,t){let r=new WS;const i=new be,s=new be,o=new rn,a=new WI({depthPacking:ZG}),l=new jI,c={},u=t.maxTextureSize,d={[Aa]:cs,[cs]:Aa,[zo]:zo},p=new Ea({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new be},radius:{value:4}},vertexShader:mie,fragmentShader:gie}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new St;y.setAttribute("position",new fn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Pr(y,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zS,this.render=function(A,T,P){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||A.length===0)return;const L=n.getRenderTarget(),M=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),k=n.state;k.setBlending(ol),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let V=0,U=A.length;V<U;V++){const F=A[V],J=F.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const q=J.getFrameExtents();if(i.multiply(q),s.copy(J.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/q.x),i.x=s.x*q.x,J.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/q.y),i.y=s.y*q.y,J.mapSize.y=s.y)),J.map===null){const ue=this.type!==Wu?{minFilter:dr,magFilter:dr}:{};J.map=new jo(i.x,i.y,ue),J.map.texture.name=F.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const se=J.getViewportCount();for(let ue=0;ue<se;ue++){const H=J.getViewport(ue);o.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),k.viewport(o),J.updateMatrices(F,ue),r=J.getFrustum(),w(T,P,J.camera,F,this.type)}J.isPointLightShadow!==!0&&this.type===Wu&&x(J,P),J.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(L,M,R)};function x(A,T){const P=e.update(g);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new jo(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(T,null,P,p,g,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(T,null,P,m,g,null)}function _(A,T,P,L,M,R){let k=null;const V=P.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(V!==void 0)k=V;else if(k=P.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const U=k.uuid,F=T.uuid;let J=c[U];J===void 0&&(J={},c[U]=J);let q=J[F];q===void 0&&(q=k.clone(),J[F]=q),k=q}return k.visible=T.visible,k.wireframe=T.wireframe,R===Wu?k.side=T.shadowSide!==null?T.shadowSide:T.side:k.side=T.shadowSide!==null?T.shadowSide:d[T.side],k.alphaMap=T.alphaMap,k.alphaTest=T.alphaTest,k.map=T.map,k.clipShadows=T.clipShadows,k.clippingPlanes=T.clippingPlanes,k.clipIntersection=T.clipIntersection,k.displacementMap=T.displacementMap,k.displacementScale=T.displacementScale,k.displacementBias=T.displacementBias,k.wireframeLinewidth=T.wireframeLinewidth,k.linewidth=T.linewidth,P.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(P.matrixWorld),k.nearDistance=L,k.farDistance=M),k}function w(A,T,P,L,M){if(A.visible===!1)return;if(A.layers.test(T.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&M===Wu)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,A.matrixWorld);const V=e.update(A),U=A.material;if(Array.isArray(U)){const F=V.groups;for(let J=0,q=F.length;J<q;J++){const se=F[J],ue=U[se.materialIndex];if(ue&&ue.visible){const H=_(A,ue,L,P.near,P.far,M);n.renderBufferDirect(P,null,V,H,A,se)}}}else if(U.visible){const F=_(A,U,L,P.near,P.far,M);n.renderBufferDirect(P,null,V,F,A,null)}}const k=A.children;for(let V=0,U=k.length;V<U;V++)w(k[V],T,P,L,M)}}function vie(n,e,t){const r=t.isWebGL2;function i(){let te=!1;const ve=new rn;let Ee=null;const Ke=new rn(0,0,0,0);return{setMask:function(st){Ee!==st&&!te&&(n.colorMask(st,st,st,st),Ee=st)},setLocked:function(st){te=st},setClear:function(st,Xt,qn,Rr,Bi){Bi===!0&&(st*=Rr,Xt*=Rr,qn*=Rr),ve.set(st,Xt,qn,Rr),Ke.equals(ve)===!1&&(n.clearColor(st,Xt,qn,Rr),Ke.copy(ve))},reset:function(){te=!1,Ee=null,Ke.set(-1,0,0,0)}}}function s(){let te=!1,ve=null,Ee=null,Ke=null;return{setTest:function(st){st?Te(2929):Be(2929)},setMask:function(st){ve!==st&&!te&&(n.depthMask(st),ve=st)},setFunc:function(st){if(Ee!==st){switch(st){case _G:n.depthFunc(512);break;case SG:n.depthFunc(519);break;case wG:n.depthFunc(513);break;case A_:n.depthFunc(515);break;case bG:n.depthFunc(514);break;case AG:n.depthFunc(518);break;case CG:n.depthFunc(516);break;case MG:n.depthFunc(517);break;default:n.depthFunc(515)}Ee=st}},setLocked:function(st){te=st},setClear:function(st){Ke!==st&&(n.clearDepth(st),Ke=st)},reset:function(){te=!1,ve=null,Ee=null,Ke=null}}}function o(){let te=!1,ve=null,Ee=null,Ke=null,st=null,Xt=null,qn=null,Rr=null,Bi=null;return{setTest:function(Tn){te||(Tn?Te(2960):Be(2960))},setMask:function(Tn){ve!==Tn&&!te&&(n.stencilMask(Tn),ve=Tn)},setFunc:function(Tn,ei,or){(Ee!==Tn||Ke!==ei||st!==or)&&(n.stencilFunc(Tn,ei,or),Ee=Tn,Ke=ei,st=or)},setOp:function(Tn,ei,or){(Xt!==Tn||qn!==ei||Rr!==or)&&(n.stencilOp(Tn,ei,or),Xt=Tn,qn=ei,Rr=or)},setLocked:function(Tn){te=Tn},setClear:function(Tn){Bi!==Tn&&(n.clearStencil(Tn),Bi=Tn)},reset:function(){te=!1,ve=null,Ee=null,Ke=null,st=null,Xt=null,qn=null,Rr=null,Bi=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},m={},y=new WeakMap,g=[],v=null,x=!1,_=null,w=null,A=null,T=null,P=null,L=null,M=null,R=!1,k=null,V=null,U=null,F=null,J=null;const q=n.getParameter(35661);let se=!1,ue=0;const H=n.getParameter(7938);H.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(H)[1]),se=ue>=1):H.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),se=ue>=2);let j=null,O={};const oe=n.getParameter(3088),z=n.getParameter(2978),Q=new rn().fromArray(oe),de=new rn().fromArray(z);function Z(te,ve,Ee){const Ke=new Uint8Array(4),st=n.createTexture();n.bindTexture(te,st),n.texParameteri(te,10241,9728),n.texParameteri(te,10240,9728);for(let Xt=0;Xt<Ee;Xt++)n.texImage2D(ve+Xt,0,6408,1,1,0,6408,5121,Ke);return st}const Ae={};Ae[3553]=Z(3553,3553,1),Ae[34067]=Z(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Te(2929),l.setFunc(A_),ke(!1),Ge(hT),Te(2884),Ce(ol);function Te(te){p[te]!==!0&&(n.enable(te),p[te]=!0)}function Be(te){p[te]!==!1&&(n.disable(te),p[te]=!1)}function Ve(te,ve){return m[te]!==ve?(n.bindFramebuffer(te,ve),m[te]=ve,r&&(te===36009&&(m[36160]=ve),te===36160&&(m[36009]=ve)),!0):!1}function Re(te,ve){let Ee=g,Ke=!1;if(te)if(Ee=y.get(ve),Ee===void 0&&(Ee=[],y.set(ve,Ee)),te.isWebGLMultipleRenderTargets){const st=te.texture;if(Ee.length!==st.length||Ee[0]!==36064){for(let Xt=0,qn=st.length;Xt<qn;Xt++)Ee[Xt]=36064+Xt;Ee.length=st.length,Ke=!0}}else Ee[0]!==36064&&(Ee[0]=36064,Ke=!0);else Ee[0]!==1029&&(Ee[0]=1029,Ke=!0);Ke&&(t.isWebGL2?n.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function Pe(te){return v!==te?(n.useProgram(te),v=te,!0):!1}const pe={[Fu]:32774,[cG]:32778,[uG]:32779};if(r)pe[gT]=32775,pe[yT]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(pe[gT]=te.MIN_EXT,pe[yT]=te.MAX_EXT)}const ge={[dG]:0,[hG]:1,[fG]:768,[RI]:770,[xG]:776,[yG]:774,[mG]:772,[pG]:769,[LI]:771,[vG]:775,[gG]:773};function Ce(te,ve,Ee,Ke,st,Xt,qn,Rr){if(te===ol){x===!0&&(Be(3042),x=!1);return}if(x===!1&&(Te(3042),x=!0),te!==lG){if(te!==_||Rr!==R){if((w!==Fu||P!==Fu)&&(n.blendEquation(32774),w=Fu,P=Fu),Rr)switch(te){case id:n.blendFuncSeparate(1,771,1,771);break;case fT:n.blendFunc(1,1);break;case pT:n.blendFuncSeparate(0,769,0,1);break;case mT:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case id:n.blendFuncSeparate(770,771,1,771);break;case fT:n.blendFunc(770,1);break;case pT:n.blendFuncSeparate(0,769,0,1);break;case mT:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}A=null,T=null,L=null,M=null,_=te,R=Rr}return}st=st||ve,Xt=Xt||Ee,qn=qn||Ke,(ve!==w||st!==P)&&(n.blendEquationSeparate(pe[ve],pe[st]),w=ve,P=st),(Ee!==A||Ke!==T||Xt!==L||qn!==M)&&(n.blendFuncSeparate(ge[Ee],ge[Ke],ge[Xt],ge[qn]),A=Ee,T=Ke,L=Xt,M=qn),_=te,R=!1}function We(te,ve){te.side===zo?Be(2884):Te(2884);let Ee=te.side===cs;ve&&(Ee=!Ee),ke(Ee),te.blending===id&&te.transparent===!1?Ce(ol):Ce(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const Ke=te.stencilWrite;c.setTest(Ke),Ke&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),et(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Te(32926):Be(32926)}function ke(te){k!==te&&(te?n.frontFace(2304):n.frontFace(2305),k=te)}function Ge(te){te!==sG?(Te(2884),te!==V&&(te===hT?n.cullFace(1029):te===oG?n.cullFace(1028):n.cullFace(1032))):Be(2884),V=te}function Ye(te){te!==U&&(se&&n.lineWidth(te),U=te)}function et(te,ve,Ee){te?(Te(32823),(F!==ve||J!==Ee)&&(n.polygonOffset(ve,Ee),F=ve,J=Ee)):Be(32823)}function gt(te){te?Te(3089):Be(3089)}function Mt(te){te===void 0&&(te=33984+q-1),j!==te&&(n.activeTexture(te),j=te)}function K(te,ve,Ee){Ee===void 0&&(j===null?Ee=33984+q-1:Ee=j);let Ke=O[Ee];Ke===void 0&&(Ke={type:void 0,texture:void 0},O[Ee]=Ke),(Ke.type!==te||Ke.texture!==ve)&&(j!==Ee&&(n.activeTexture(Ee),j=Ee),n.bindTexture(te,ve||Ae[te]),Ke.type=te,Ke.texture=ve)}function B(){const te=O[j];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function fe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function He(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ot(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function je(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function we(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ct(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function _e(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ie(te){Q.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),Q.copy(te))}function Fe(te){de.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),de.copy(te))}function at(te,ve){let Ee=d.get(ve);Ee===void 0&&(Ee=new WeakMap,d.set(ve,Ee));let Ke=Ee.get(te);Ke===void 0&&(Ke=n.getUniformBlockIndex(ve,te.name),Ee.set(te,Ke))}function Lt(te,ve){const Ke=d.get(ve).get(te);u.get(ve)!==Ke&&(n.uniformBlockBinding(ve,Ke,te.__bindingPointIndex),u.set(ve,Ke))}function An(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},j=null,O={},m={},y=new WeakMap,g=[],v=null,x=!1,_=null,w=null,A=null,T=null,P=null,L=null,M=null,R=!1,k=null,V=null,U=null,F=null,J=null,Q.set(0,0,n.canvas.width,n.canvas.height),de.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Te,disable:Be,bindFramebuffer:Ve,drawBuffers:Re,useProgram:Pe,setBlending:Ce,setMaterial:We,setFlipSided:ke,setCullFace:Ge,setLineWidth:Ye,setPolygonOffset:et,setScissorTest:gt,activeTexture:Mt,bindTexture:K,unbindTexture:B,compressedTexImage2D:fe,compressedTexImage3D:De,texImage2D:Y,texImage3D:_e,updateUBOMapping:at,uniformBlockBinding:Lt,texStorage2D:we,texStorage3D:ct,texSubImage2D:Ne,texSubImage3D:He,compressedTexSubImage2D:ot,compressedTexSubImage3D:je,scissor:Ie,viewport:Fe,reset:An}}function xie(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(K,B){return x?new OffscreenCanvas(K,B):ey("canvas")}function w(K,B,fe,De){let Ne=1;if((K.width>De||K.height>De)&&(Ne=De/Math.max(K.width,K.height)),Ne<1||B===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const He=B?rV:Math.floor,ot=He(Ne*K.width),je=He(Ne*K.height);g===void 0&&(g=_(ot,je));const we=fe?_(ot,je):g;return we.width=ot,we.height=je,we.getContext("2d").drawImage(K,0,0,ot,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+ot+"x"+je+")."),we}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function A(K){return GT(K.width)&&GT(K.height)}function T(K){return a?!1:K.wrapS!==Dr||K.wrapT!==Dr||K.minFilter!==dr&&K.minFilter!==tr}function P(K,B){return K.generateMipmaps&&B&&K.minFilter!==dr&&K.minFilter!==tr}function L(K){n.generateMipmap(K)}function M(K,B,fe,De,Ne=!1){if(a===!1)return B;if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let He=B;return B===6403&&(fe===5126&&(He=33326),fe===5131&&(He=33325),fe===5121&&(He=33321)),B===33319&&(fe===5126&&(He=33328),fe===5131&&(He=33327),fe===5121&&(He=33323)),B===6408&&(fe===5126&&(He=34836),fe===5131&&(He=34842),fe===5121&&(He=De===zt&&Ne===!1?35907:32856),fe===32819&&(He=32854),fe===32820&&(He=32855)),(He===33325||He===33326||He===33327||He===33328||He===34842||He===34836)&&e.get("EXT_color_buffer_float"),He}function R(K,B,fe){return P(K,fe)===!0||K.isFramebufferTexture&&K.minFilter!==dr&&K.minFilter!==tr?Math.log2(Math.max(B.width,B.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?B.mipmaps.length:1}function k(K){return K===dr||K===qg||K===mf?9728:9729}function V(K){const B=K.target;B.removeEventListener("dispose",V),F(B),B.isVideoTexture&&y.delete(B)}function U(K){const B=K.target;B.removeEventListener("dispose",U),q(B)}function F(K){const B=r.get(K);if(B.__webglInit===void 0)return;const fe=K.source,De=v.get(fe);if(De){const Ne=De[B.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&J(K),Object.keys(De).length===0&&v.delete(fe)}r.remove(K)}function J(K){const B=r.get(K);n.deleteTexture(B.__webglTexture);const fe=K.source,De=v.get(fe);delete De[B.__cacheKey],o.memory.textures--}function q(K){const B=K.texture,fe=r.get(K),De=r.get(B);if(De.__webglTexture!==void 0&&(n.deleteTexture(De.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++)n.deleteFramebuffer(fe.__webglFramebuffer[Ne]),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer[Ne]);else{if(n.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&n.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Ne=0;Ne<fe.__webglColorRenderbuffer.length;Ne++)fe.__webglColorRenderbuffer[Ne]&&n.deleteRenderbuffer(fe.__webglColorRenderbuffer[Ne]);fe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Ne=0,He=B.length;Ne<He;Ne++){const ot=r.get(B[Ne]);ot.__webglTexture&&(n.deleteTexture(ot.__webglTexture),o.memory.textures--),r.remove(B[Ne])}r.remove(B),r.remove(K)}let se=0;function ue(){se=0}function H(){const K=se;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),se+=1,K}function j(K){const B=[];return B.push(K.wrapS),B.push(K.wrapT),B.push(K.wrapR||0),B.push(K.magFilter),B.push(K.minFilter),B.push(K.anisotropy),B.push(K.internalFormat),B.push(K.format),B.push(K.type),B.push(K.generateMipmaps),B.push(K.premultiplyAlpha),B.push(K.flipY),B.push(K.unpackAlignment),B.push(K.encoding),B.join()}function O(K,B){const fe=r.get(K);if(K.isVideoTexture&&gt(K),K.isRenderTargetTexture===!1&&K.version>0&&fe.__version!==K.version){const De=K.image;if(De===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(fe,K,B);return}}t.bindTexture(3553,fe.__webglTexture,33984+B)}function oe(K,B){const fe=r.get(K);if(K.version>0&&fe.__version!==K.version){Be(fe,K,B);return}t.bindTexture(35866,fe.__webglTexture,33984+B)}function z(K,B){const fe=r.get(K);if(K.version>0&&fe.__version!==K.version){Be(fe,K,B);return}t.bindTexture(32879,fe.__webglTexture,33984+B)}function Q(K,B){const fe=r.get(K);if(K.version>0&&fe.__version!==K.version){Ve(fe,K,B);return}t.bindTexture(34067,fe.__webglTexture,33984+B)}const de={[Ca]:10497,[Dr]:33071,[Gf]:33648},Z={[dr]:9728,[qg]:9984,[mf]:9986,[tr]:9729,[HS]:9985,[Ma]:9987};function Ae(K,B,fe){if(fe?(n.texParameteri(K,10242,de[B.wrapS]),n.texParameteri(K,10243,de[B.wrapT]),(K===32879||K===35866)&&n.texParameteri(K,32882,de[B.wrapR]),n.texParameteri(K,10240,Z[B.magFilter]),n.texParameteri(K,10241,Z[B.minFilter])):(n.texParameteri(K,10242,33071),n.texParameteri(K,10243,33071),(K===32879||K===35866)&&n.texParameteri(K,32882,33071),(B.wrapS!==Dr||B.wrapT!==Dr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(K,10240,k(B.magFilter)),n.texParameteri(K,10241,k(B.minFilter)),B.minFilter!==dr&&B.minFilter!==tr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const De=e.get("EXT_texture_filter_anisotropic");if(B.magFilter===dr||B.minFilter!==mf&&B.minFilter!==Ma||B.type===el&&e.has("OES_texture_float_linear")===!1||a===!1&&B.type===Vf&&e.has("OES_texture_half_float_linear")===!1)return;(B.anisotropy>1||r.get(B).__currentAnisotropy)&&(n.texParameterf(K,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy)}}function Te(K,B){let fe=!1;K.__webglInit===void 0&&(K.__webglInit=!0,B.addEventListener("dispose",V));const De=B.source;let Ne=v.get(De);Ne===void 0&&(Ne={},v.set(De,Ne));const He=j(B);if(He!==K.__cacheKey){Ne[He]===void 0&&(Ne[He]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Ne[He].usedTimes++;const ot=Ne[K.__cacheKey];ot!==void 0&&(Ne[K.__cacheKey].usedTimes--,ot.usedTimes===0&&J(B)),K.__cacheKey=He,K.__webglTexture=Ne[He].texture}return fe}function Be(K,B,fe){let De=3553;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(De=35866),B.isData3DTexture&&(De=32879);const Ne=Te(K,B),He=B.source;t.bindTexture(De,K.__webglTexture,33984+fe);const ot=r.get(He);if(He.version!==ot.__version||Ne===!0){t.activeTexture(33984+fe),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const je=T(B)&&A(B.image)===!1;let we=w(B.image,je,!1,u);we=Mt(B,we);const ct=A(we)||a,Y=s.convert(B.format,B.encoding);let _e=s.convert(B.type),Ie=M(B.internalFormat,Y,_e,B.encoding,B.isVideoTexture);Ae(De,B,ct);let Fe;const at=B.mipmaps,Lt=a&&B.isVideoTexture!==!0,An=ot.__version===void 0||Ne===!0,te=R(B,we,ct);if(B.isDepthTexture)Ie=6402,a?B.type===el?Ie=36012:B.type===dc?Ie=33190:B.type===sd?Ie=35056:Ie=33189:B.type===el&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),B.format===Cc&&Ie===6402&&B.type!==DI&&B.type!==dc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),B.type=dc,_e=s.convert(B.type)),B.format===xd&&Ie===6402&&(Ie=34041,B.type!==sd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),B.type=sd,_e=s.convert(B.type))),An&&(Lt?t.texStorage2D(3553,1,Ie,we.width,we.height):t.texImage2D(3553,0,Ie,we.width,we.height,0,Y,_e,null));else if(B.isDataTexture)if(at.length>0&&ct){Lt&&An&&t.texStorage2D(3553,te,Ie,at[0].width,at[0].height);for(let ve=0,Ee=at.length;ve<Ee;ve++)Fe=at[ve],Lt?t.texSubImage2D(3553,ve,0,0,Fe.width,Fe.height,Y,_e,Fe.data):t.texImage2D(3553,ve,Ie,Fe.width,Fe.height,0,Y,_e,Fe.data);B.generateMipmaps=!1}else Lt?(An&&t.texStorage2D(3553,te,Ie,we.width,we.height),t.texSubImage2D(3553,0,0,0,we.width,we.height,Y,_e,we.data)):t.texImage2D(3553,0,Ie,we.width,we.height,0,Y,_e,we.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){Lt&&An&&t.texStorage3D(35866,te,Ie,at[0].width,at[0].height,we.depth);for(let ve=0,Ee=at.length;ve<Ee;ve++)Fe=at[ve],B.format!==ns?Y!==null?Lt?t.compressedTexSubImage3D(35866,ve,0,0,0,Fe.width,Fe.height,we.depth,Y,Fe.data,0,0):t.compressedTexImage3D(35866,ve,Ie,Fe.width,Fe.height,we.depth,0,Fe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage3D(35866,ve,0,0,0,Fe.width,Fe.height,we.depth,Y,_e,Fe.data):t.texImage3D(35866,ve,Ie,Fe.width,Fe.height,we.depth,0,Y,_e,Fe.data)}else{Lt&&An&&t.texStorage2D(3553,te,Ie,at[0].width,at[0].height);for(let ve=0,Ee=at.length;ve<Ee;ve++)Fe=at[ve],B.format!==ns?Y!==null?Lt?t.compressedTexSubImage2D(3553,ve,0,0,Fe.width,Fe.height,Y,Fe.data):t.compressedTexImage2D(3553,ve,Ie,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?t.texSubImage2D(3553,ve,0,0,Fe.width,Fe.height,Y,_e,Fe.data):t.texImage2D(3553,ve,Ie,Fe.width,Fe.height,0,Y,_e,Fe.data)}else if(B.isDataArrayTexture)Lt?(An&&t.texStorage3D(35866,te,Ie,we.width,we.height,we.depth),t.texSubImage3D(35866,0,0,0,0,we.width,we.height,we.depth,Y,_e,we.data)):t.texImage3D(35866,0,Ie,we.width,we.height,we.depth,0,Y,_e,we.data);else if(B.isData3DTexture)Lt?(An&&t.texStorage3D(32879,te,Ie,we.width,we.height,we.depth),t.texSubImage3D(32879,0,0,0,0,we.width,we.height,we.depth,Y,_e,we.data)):t.texImage3D(32879,0,Ie,we.width,we.height,we.depth,0,Y,_e,we.data);else if(B.isFramebufferTexture){if(An)if(Lt)t.texStorage2D(3553,te,Ie,we.width,we.height);else{let ve=we.width,Ee=we.height;for(let Ke=0;Ke<te;Ke++)t.texImage2D(3553,Ke,Ie,ve,Ee,0,Y,_e,null),ve>>=1,Ee>>=1}}else if(at.length>0&&ct){Lt&&An&&t.texStorage2D(3553,te,Ie,at[0].width,at[0].height);for(let ve=0,Ee=at.length;ve<Ee;ve++)Fe=at[ve],Lt?t.texSubImage2D(3553,ve,0,0,Y,_e,Fe):t.texImage2D(3553,ve,Ie,Y,_e,Fe);B.generateMipmaps=!1}else Lt?(An&&t.texStorage2D(3553,te,Ie,we.width,we.height),t.texSubImage2D(3553,0,0,0,Y,_e,we)):t.texImage2D(3553,0,Ie,Y,_e,we);P(B,ct)&&L(De),ot.__version=He.version,B.onUpdate&&B.onUpdate(B)}K.__version=B.version}function Ve(K,B,fe){if(B.image.length!==6)return;const De=Te(K,B),Ne=B.source;t.bindTexture(34067,K.__webglTexture,33984+fe);const He=r.get(Ne);if(Ne.version!==He.__version||De===!0){t.activeTexture(33984+fe),n.pixelStorei(37440,B.flipY),n.pixelStorei(37441,B.premultiplyAlpha),n.pixelStorei(3317,B.unpackAlignment),n.pixelStorei(37443,0);const ot=B.isCompressedTexture||B.image[0].isCompressedTexture,je=B.image[0]&&B.image[0].isDataTexture,we=[];for(let ve=0;ve<6;ve++)!ot&&!je?we[ve]=w(B.image[ve],!1,!0,c):we[ve]=je?B.image[ve].image:B.image[ve],we[ve]=Mt(B,we[ve]);const ct=we[0],Y=A(ct)||a,_e=s.convert(B.format,B.encoding),Ie=s.convert(B.type),Fe=M(B.internalFormat,_e,Ie,B.encoding),at=a&&B.isVideoTexture!==!0,Lt=He.__version===void 0||De===!0;let An=R(B,ct,Y);Ae(34067,B,Y);let te;if(ot){at&&Lt&&t.texStorage2D(34067,An,Fe,ct.width,ct.height);for(let ve=0;ve<6;ve++){te=we[ve].mipmaps;for(let Ee=0;Ee<te.length;Ee++){const Ke=te[Ee];B.format!==ns?_e!==null?at?t.compressedTexSubImage2D(34069+ve,Ee,0,0,Ke.width,Ke.height,_e,Ke.data):t.compressedTexImage2D(34069+ve,Ee,Fe,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):at?t.texSubImage2D(34069+ve,Ee,0,0,Ke.width,Ke.height,_e,Ie,Ke.data):t.texImage2D(34069+ve,Ee,Fe,Ke.width,Ke.height,0,_e,Ie,Ke.data)}}}else{te=B.mipmaps,at&&Lt&&(te.length>0&&An++,t.texStorage2D(34067,An,Fe,we[0].width,we[0].height));for(let ve=0;ve<6;ve++)if(je){at?t.texSubImage2D(34069+ve,0,0,0,we[ve].width,we[ve].height,_e,Ie,we[ve].data):t.texImage2D(34069+ve,0,Fe,we[ve].width,we[ve].height,0,_e,Ie,we[ve].data);for(let Ee=0;Ee<te.length;Ee++){const st=te[Ee].image[ve].image;at?t.texSubImage2D(34069+ve,Ee+1,0,0,st.width,st.height,_e,Ie,st.data):t.texImage2D(34069+ve,Ee+1,Fe,st.width,st.height,0,_e,Ie,st.data)}}else{at?t.texSubImage2D(34069+ve,0,0,0,_e,Ie,we[ve]):t.texImage2D(34069+ve,0,Fe,_e,Ie,we[ve]);for(let Ee=0;Ee<te.length;Ee++){const Ke=te[Ee];at?t.texSubImage2D(34069+ve,Ee+1,0,0,_e,Ie,Ke.image[ve]):t.texImage2D(34069+ve,Ee+1,Fe,_e,Ie,Ke.image[ve])}}}P(B,Y)&&L(34067),He.__version=Ne.version,B.onUpdate&&B.onUpdate(B)}K.__version=B.version}function Re(K,B,fe,De,Ne){const He=s.convert(fe.format,fe.encoding),ot=s.convert(fe.type),je=M(fe.internalFormat,He,ot,fe.encoding);r.get(B).__hasExternalTextures||(Ne===32879||Ne===35866?t.texImage3D(Ne,0,je,B.width,B.height,B.depth,0,He,ot,null):t.texImage2D(Ne,0,je,B.width,B.height,0,He,ot,null)),t.bindFramebuffer(36160,K),et(B)?p.framebufferTexture2DMultisampleEXT(36160,De,Ne,r.get(fe).__webglTexture,0,Ye(B)):(Ne===3553||Ne>=34069&&Ne<=34074)&&n.framebufferTexture2D(36160,De,Ne,r.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Pe(K,B,fe){if(n.bindRenderbuffer(36161,K),B.depthBuffer&&!B.stencilBuffer){let De=33189;if(fe||et(B)){const Ne=B.depthTexture;Ne&&Ne.isDepthTexture&&(Ne.type===el?De=36012:Ne.type===dc&&(De=33190));const He=Ye(B);et(B)?p.renderbufferStorageMultisampleEXT(36161,He,De,B.width,B.height):n.renderbufferStorageMultisample(36161,He,De,B.width,B.height)}else n.renderbufferStorage(36161,De,B.width,B.height);n.framebufferRenderbuffer(36160,36096,36161,K)}else if(B.depthBuffer&&B.stencilBuffer){const De=Ye(B);fe&&et(B)===!1?n.renderbufferStorageMultisample(36161,De,35056,B.width,B.height):et(B)?p.renderbufferStorageMultisampleEXT(36161,De,35056,B.width,B.height):n.renderbufferStorage(36161,34041,B.width,B.height),n.framebufferRenderbuffer(36160,33306,36161,K)}else{const De=B.isWebGLMultipleRenderTargets===!0?B.texture:[B.texture];for(let Ne=0;Ne<De.length;Ne++){const He=De[Ne],ot=s.convert(He.format,He.encoding),je=s.convert(He.type),we=M(He.internalFormat,ot,je,He.encoding),ct=Ye(B);fe&&et(B)===!1?n.renderbufferStorageMultisample(36161,ct,we,B.width,B.height):et(B)?p.renderbufferStorageMultisampleEXT(36161,ct,we,B.width,B.height):n.renderbufferStorage(36161,we,B.width,B.height)}}n.bindRenderbuffer(36161,null)}function pe(K,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,K),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(B.depthTexture).__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),O(B.depthTexture,0);const De=r.get(B.depthTexture).__webglTexture,Ne=Ye(B);if(B.depthTexture.format===Cc)et(B)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,Ne):n.framebufferTexture2D(36160,36096,3553,De,0);else if(B.depthTexture.format===xd)et(B)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,Ne):n.framebufferTexture2D(36160,33306,3553,De,0);else throw new Error("Unknown depthTexture format")}function ge(K){const B=r.get(K),fe=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!B.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");pe(B.__webglFramebuffer,K)}else if(fe){B.__webglDepthbuffer=[];for(let De=0;De<6;De++)t.bindFramebuffer(36160,B.__webglFramebuffer[De]),B.__webglDepthbuffer[De]=n.createRenderbuffer(),Pe(B.__webglDepthbuffer[De],K,!1)}else t.bindFramebuffer(36160,B.__webglFramebuffer),B.__webglDepthbuffer=n.createRenderbuffer(),Pe(B.__webglDepthbuffer,K,!1);t.bindFramebuffer(36160,null)}function Ce(K,B,fe){const De=r.get(K);B!==void 0&&Re(De.__webglFramebuffer,K,K.texture,36064,3553),fe!==void 0&&ge(K)}function We(K){const B=K.texture,fe=r.get(K),De=r.get(B);K.addEventListener("dispose",U),K.isWebGLMultipleRenderTargets!==!0&&(De.__webglTexture===void 0&&(De.__webglTexture=n.createTexture()),De.__version=B.version,o.memory.textures++);const Ne=K.isWebGLCubeRenderTarget===!0,He=K.isWebGLMultipleRenderTargets===!0,ot=A(K)||a;if(Ne){fe.__webglFramebuffer=[];for(let je=0;je<6;je++)fe.__webglFramebuffer[je]=n.createFramebuffer()}else{if(fe.__webglFramebuffer=n.createFramebuffer(),He)if(i.drawBuffers){const je=K.texture;for(let we=0,ct=je.length;we<ct;we++){const Y=r.get(je[we]);Y.__webglTexture===void 0&&(Y.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&et(K)===!1){const je=He?B:[B];fe.__webglMultisampledFramebuffer=n.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer);for(let we=0;we<je.length;we++){const ct=je[we];fe.__webglColorRenderbuffer[we]=n.createRenderbuffer(),n.bindRenderbuffer(36161,fe.__webglColorRenderbuffer[we]);const Y=s.convert(ct.format,ct.encoding),_e=s.convert(ct.type),Ie=M(ct.internalFormat,Y,_e,ct.encoding,K.isXRRenderTarget===!0),Fe=Ye(K);n.renderbufferStorageMultisample(36161,Fe,Ie,K.width,K.height),n.framebufferRenderbuffer(36160,36064+we,36161,fe.__webglColorRenderbuffer[we])}n.bindRenderbuffer(36161,null),K.depthBuffer&&(fe.__webglDepthRenderbuffer=n.createRenderbuffer(),Pe(fe.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(36160,null)}}if(Ne){t.bindTexture(34067,De.__webglTexture),Ae(34067,B,ot);for(let je=0;je<6;je++)Re(fe.__webglFramebuffer[je],K,B,36064,34069+je);P(B,ot)&&L(34067),t.unbindTexture()}else if(He){const je=K.texture;for(let we=0,ct=je.length;we<ct;we++){const Y=je[we],_e=r.get(Y);t.bindTexture(3553,_e.__webglTexture),Ae(3553,Y,ot),Re(fe.__webglFramebuffer,K,Y,36064+we,3553),P(Y,ot)&&L(3553)}t.unbindTexture()}else{let je=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?je=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(je,De.__webglTexture),Ae(je,B,ot),Re(fe.__webglFramebuffer,K,B,36064,je),P(B,ot)&&L(je),t.unbindTexture()}K.depthBuffer&&ge(K)}function ke(K){const B=A(K)||a,fe=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let De=0,Ne=fe.length;De<Ne;De++){const He=fe[De];if(P(He,B)){const ot=K.isWebGLCubeRenderTarget?34067:3553,je=r.get(He).__webglTexture;t.bindTexture(ot,je),L(ot),t.unbindTexture()}}}function Ge(K){if(a&&K.samples>0&&et(K)===!1){const B=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],fe=K.width,De=K.height;let Ne=16384;const He=[],ot=K.stencilBuffer?33306:36096,je=r.get(K),we=K.isWebGLMultipleRenderTargets===!0;if(we)for(let ct=0;ct<B.length;ct++)t.bindFramebuffer(36160,je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ct,36161,null),t.bindFramebuffer(36160,je.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ct,3553,null,0);t.bindFramebuffer(36008,je.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,je.__webglFramebuffer);for(let ct=0;ct<B.length;ct++){He.push(36064+ct),K.depthBuffer&&He.push(ot);const Y=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(Y===!1&&(K.depthBuffer&&(Ne|=256),K.stencilBuffer&&(Ne|=1024)),we&&n.framebufferRenderbuffer(36008,36064,36161,je.__webglColorRenderbuffer[ct]),Y===!0&&(n.invalidateFramebuffer(36008,[ot]),n.invalidateFramebuffer(36009,[ot])),we){const _e=r.get(B[ct]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,_e,0)}n.blitFramebuffer(0,0,fe,De,0,0,fe,De,Ne,9728),m&&n.invalidateFramebuffer(36008,He)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),we)for(let ct=0;ct<B.length;ct++){t.bindFramebuffer(36160,je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+ct,36161,je.__webglColorRenderbuffer[ct]);const Y=r.get(B[ct]).__webglTexture;t.bindFramebuffer(36160,je.__webglFramebuffer),n.framebufferTexture2D(36009,36064+ct,3553,Y,0)}t.bindFramebuffer(36009,je.__webglMultisampledFramebuffer)}}function Ye(K){return Math.min(d,K.samples)}function et(K){const B=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function gt(K){const B=o.render.frame;y.get(K)!==B&&(y.set(K,B),K.update())}function Mt(K,B){const fe=K.encoding,De=K.format,Ne=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===C_||fe!==gl&&(fe===zt?a===!1?e.has("EXT_sRGB")===!0&&De===ns?(K.format=C_,K.minFilter=tr,K.generateMipmaps=!1):B=zI.sRGBToLinear(B):(De!==ns||Ne!==ml)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),B}this.allocateTextureUnit=H,this.resetTextureUnits=ue,this.setTexture2D=O,this.setTexture2DArray=oe,this.setTexture3D=z,this.setTextureCube=Q,this.rebindTextures=Ce,this.setupRenderTarget=We,this.updateRenderTargetMipmap=ke,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=et}function fV(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ml)return 5121;if(s===OG)return 32819;if(s===NG)return 32820;if(s===kG)return 5120;if(s===DG)return 5122;if(s===DI)return 5123;if(s===BG)return 5124;if(s===dc)return 5125;if(s===el)return 5126;if(s===Vf)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===FG)return 6406;if(s===ns)return 6408;if(s===zG)return 6409;if(s===UG)return 6410;if(s===Cc)return 6402;if(s===xd)return 34041;if(s===C_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===HG)return 6403;if(s===GG)return 36244;if(s===VG)return 33319;if(s===$G)return 33320;if(s===WG)return 36249;if(s===p1||s===m1||s===g1||s===y1)if(o===zt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===p1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===m1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===g1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===y1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===p1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===m1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===g1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===y1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===vT||s===xT||s===_T||s===ST)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===vT)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===xT)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_T)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===ST)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===jG)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===wT||s===bT)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===wT)return o===zt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===bT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===AT||s===CT||s===MT||s===ET||s===TT||s===PT||s===IT||s===RT||s===LT||s===kT||s===DT||s===BT||s===OT||s===NT)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===AT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===CT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===MT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ET)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===TT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===PT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===IT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===RT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===LT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===kT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===DT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===BT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===OT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===NT)return o===zt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===v1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===v1)return o===zt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===KG||s===FT||s===zT||s===UT)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===v1)return a.COMPRESSED_RED_RGTC1_EXT;if(s===FT)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===zT)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===UT)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===sd?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class pV extends bn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Uo extends Kt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _ie={type:"move"};class PC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const v=t.getJointPose(g,r),x=this._getHandJoint(c,g);v!==null&&(x.matrix.fromArray(v.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=v.radius),x.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(_ie)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Uo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class mV extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Cc,u!==Cc&&u!==xd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Cc&&(r=dc),r===void 0&&u===xd&&(r=sd),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:dr,this.minFilter=l!==void 0?l:dr,this.flipY=!1,this.generateMipmaps=!1}}class Sie extends Ra{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,p=null,m=null,y=null;const g=t.getContextAttributes();let v=null,x=null;const _=[],w=[],A=new Set,T=new Map,P=new bn;P.layers.enable(1),P.viewport=new rn;const L=new bn;L.layers.enable(2),L.viewport=new rn;const M=[P,L],R=new pV;R.layers.enable(1),R.layers.enable(2);let k=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let Q=_[z];return Q===void 0&&(Q=new PC,_[z]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(z){let Q=_[z];return Q===void 0&&(Q=new PC,_[z]=Q),Q.getGripSpace()},this.getHand=function(z){let Q=_[z];return Q===void 0&&(Q=new PC,_[z]=Q),Q.getHandSpace()};function U(z){const Q=w.indexOf(z.inputSource);if(Q===-1)return;const de=_[Q];de!==void 0&&de.dispatchEvent({type:z.type,data:z.inputSource})}function F(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",J);for(let z=0;z<_.length;z++){const Q=w[z];Q!==null&&(w[z]=null,_[z].disconnect(Q))}k=null,V=null,e.setRenderTarget(v),m=null,p=null,d=null,i=null,x=null,oe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",F),i.addEventListener("inputsourceschange",J),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Q={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,Q),i.updateRenderState({baseLayer:m}),x=new jo(m.framebufferWidth,m.framebufferHeight,{format:ns,type:ml,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let Q=null,de=null,Z=null;g.depth&&(Z=g.stencil?35056:33190,Q=g.stencil?xd:Cc,de=g.stencil?sd:dc);const Ae={colorFormat:32856,depthFormat:Z,scaleFactor:s};d=new XRWebGLBinding(i,t),p=d.createProjectionLayer(Ae),i.updateRenderState({layers:[p]}),x=new jo(p.textureWidth,p.textureHeight,{format:ns,type:ml,depthTexture:new mV(p.textureWidth,p.textureHeight,de,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Te=e.properties.get(x);Te.__ignoreDepthValues=p.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),oe.setContext(i),oe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function J(z){for(let Q=0;Q<z.removed.length;Q++){const de=z.removed[Q],Z=w.indexOf(de);Z>=0&&(w[Z]=null,_[Z].disconnect(de))}for(let Q=0;Q<z.added.length;Q++){const de=z.added[Q];let Z=w.indexOf(de);if(Z===-1){for(let Te=0;Te<_.length;Te++)if(Te>=w.length){w.push(de),Z=Te;break}else if(w[Te]===null){w[Te]=de,Z=Te;break}if(Z===-1)break}const Ae=_[Z];Ae&&Ae.connect(de)}}const q=new N,se=new N;function ue(z,Q,de){q.setFromMatrixPosition(Q.matrixWorld),se.setFromMatrixPosition(de.matrixWorld);const Z=q.distanceTo(se),Ae=Q.projectionMatrix.elements,Te=de.projectionMatrix.elements,Be=Ae[14]/(Ae[10]-1),Ve=Ae[14]/(Ae[10]+1),Re=(Ae[9]+1)/Ae[5],Pe=(Ae[9]-1)/Ae[5],pe=(Ae[8]-1)/Ae[0],ge=(Te[8]+1)/Te[0],Ce=Be*pe,We=Be*ge,ke=Z/(-pe+ge),Ge=ke*-pe;Q.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Ge),z.translateZ(ke),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Ye=Be+ke,et=Ve+ke,gt=Ce-Ge,Mt=We+(Z-Ge),K=Re*Ve/et*Ye,B=Pe*Ve/et*Ye;z.projectionMatrix.makePerspective(gt,Mt,K,B,Ye,et)}function H(z,Q){Q===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(Q.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;R.near=L.near=P.near=z.near,R.far=L.far=P.far=z.far,(k!==R.near||V!==R.far)&&(i.updateRenderState({depthNear:R.near,depthFar:R.far}),k=R.near,V=R.far);const Q=z.parent,de=R.cameras;H(R,Q);for(let Ae=0;Ae<de.length;Ae++)H(de[Ae],Q);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),z.matrix.copy(R.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const Z=z.children;for(let Ae=0,Te=Z.length;Ae<Te;Ae++)Z[Ae].updateMatrixWorld(!0);de.length===2?ue(R,P,L):R.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(z){l=z,p!==null&&(p.fixedFoveation=z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=z)},this.getPlanes=function(){return A};let j=null;function O(z,Q){if(u=Q.getViewerPose(c||o),y=Q,u!==null){const de=u.views;m!==null&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));let Z=!1;de.length!==R.cameras.length&&(R.cameras.length=0,Z=!0);for(let Ae=0;Ae<de.length;Ae++){const Te=de[Ae];let Be=null;if(m!==null)Be=m.getViewport(Te);else{const Re=d.getViewSubImage(p,Te);Be=Re.viewport,Ae===0&&(e.setRenderTargetTextures(x,Re.colorTexture,p.ignoreDepthValues?void 0:Re.depthStencilTexture),e.setRenderTarget(x))}let Ve=M[Ae];Ve===void 0&&(Ve=new bn,Ve.layers.enable(Ae),Ve.viewport=new rn,M[Ae]=Ve),Ve.matrix.fromArray(Te.transform.matrix),Ve.projectionMatrix.fromArray(Te.projectionMatrix),Ve.viewport.set(Be.x,Be.y,Be.width,Be.height),Ae===0&&R.matrix.copy(Ve.matrix),Z===!0&&R.cameras.push(Ve)}}for(let de=0;de<_.length;de++){const Z=w[de],Ae=_[de];Z!==null&&Ae!==void 0&&Ae.update(Z,Q,c||o)}if(j&&j(z,Q),Q.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:Q.detectedPlanes});let de=null;for(const Z of A)Q.detectedPlanes.has(Z)||(de===null&&(de=[]),de.push(Z));if(de!==null)for(const Z of de)A.delete(Z),T.delete(Z),r.dispatchEvent({type:"planeremoved",data:Z});for(const Z of Q.detectedPlanes)if(!A.has(Z))A.add(Z),T.set(Z,Q.lastChangedTime),r.dispatchEvent({type:"planeadded",data:Z});else{const Ae=T.get(Z);Z.lastChangedTime>Ae&&(T.set(Z,Z.lastChangedTime),r.dispatchEvent({type:"planechanged",data:Z}))}}y=null}const oe=new lV;oe.setAnimationLoop(O),this.setAnimationLoop=function(z){j=z},this.dispose=function(){}}}function wie(n,e){function t(g,v){v.color.getRGB(g.fogColor.value,oV(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function r(g,v,x,_,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(g,v):v.isMeshToonMaterial?(i(g,v),u(g,v)):v.isMeshPhongMaterial?(i(g,v),c(g,v)):v.isMeshStandardMaterial?(i(g,v),d(g,v),v.isMeshPhysicalMaterial&&p(g,v,w)):v.isMeshMatcapMaterial?(i(g,v),m(g,v)):v.isMeshDepthMaterial?i(g,v):v.isMeshDistanceMaterial?(i(g,v),y(g,v)):v.isMeshNormalMaterial?i(g,v):v.isLineBasicMaterial?(s(g,v),v.isLineDashedMaterial&&o(g,v)):v.isPointsMaterial?a(g,v,x,_):v.isSpriteMaterial?l(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.bumpMap&&(g.bumpMap.value=v.bumpMap,g.bumpScale.value=v.bumpScale,v.side===cs&&(g.bumpScale.value*=-1)),v.displacementMap&&(g.displacementMap.value=v.displacementMap,g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap),v.normalMap&&(g.normalMap.value=v.normalMap,g.normalScale.value.copy(v.normalScale),v.side===cs&&g.normalScale.value.negate()),v.specularMap&&(g.specularMap.value=v.specularMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const A=n.useLegacyLights===!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*A}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity);let _;v.map?_=v.map:v.specularMap?_=v.specularMap:v.displacementMap?_=v.displacementMap:v.normalMap?_=v.normalMap:v.bumpMap?_=v.bumpMap:v.roughnessMap?_=v.roughnessMap:v.metalnessMap?_=v.metalnessMap:v.alphaMap?_=v.alphaMap:v.emissiveMap?_=v.emissiveMap:v.clearcoatMap?_=v.clearcoatMap:v.clearcoatNormalMap?_=v.clearcoatNormalMap:v.clearcoatRoughnessMap?_=v.clearcoatRoughnessMap:v.iridescenceMap?_=v.iridescenceMap:v.iridescenceThicknessMap?_=v.iridescenceThicknessMap:v.specularIntensityMap?_=v.specularIntensityMap:v.specularColorMap?_=v.specularColorMap:v.transmissionMap?_=v.transmissionMap:v.thicknessMap?_=v.thicknessMap:v.sheenColorMap?_=v.sheenColorMap:v.sheenRoughnessMap&&(_=v.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix));let w;v.aoMap?w=v.aoMap:v.lightMap&&(w=v.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uv2Transform.value.copy(w.matrix))}function s(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity}function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function a(g,v,x,_){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*x,g.scale.value=_*.5,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let w;v.map?w=v.map:v.alphaMap&&(w=v.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function c(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function u(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function d(g,v){g.roughness.value=v.roughness,g.metalness.value=v.metalness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function p(g,v,x){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),g.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===cs&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap)}function m(g,v){v.matcap&&(g.matcap.value=v.matcap)}function y(g,v){g.referencePosition.value.copy(v.referencePosition),g.nearDistance.value=v.nearDistance,g.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function bie(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,w){const A=w.program;r.uniformBlockBinding(_,A)}function c(_,w){let A=i[_.id];A===void 0&&(y(_),A=u(_),i[_.id]=A,_.addEventListener("dispose",v));const T=w.program;r.updateUBOMapping(_,T);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function u(_){const w=d();_.__bindingPointIndex=w;const A=n.createBuffer(),T=_.__size,P=_.usage;return n.bindBuffer(35345,A),n.bufferData(35345,T,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const w=i[_.id],A=_.uniforms,T=_.__cache;n.bindBuffer(35345,w);for(let P=0,L=A.length;P<L;P++){const M=A[P];if(m(M,P,T)===!0){const R=M.__offset,k=Array.isArray(M.value)?M.value:[M.value];let V=0;for(let U=0;U<k.length;U++){const F=k[U],J=g(F);typeof F=="number"?(M.__data[0]=F,n.bufferSubData(35345,R+V,M.__data)):F.isMatrix3?(M.__data[0]=F.elements[0],M.__data[1]=F.elements[1],M.__data[2]=F.elements[2],M.__data[3]=F.elements[0],M.__data[4]=F.elements[3],M.__data[5]=F.elements[4],M.__data[6]=F.elements[5],M.__data[7]=F.elements[0],M.__data[8]=F.elements[6],M.__data[9]=F.elements[7],M.__data[10]=F.elements[8],M.__data[11]=F.elements[0]):(F.toArray(M.__data,V),V+=J.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,R,M.__data)}}n.bindBuffer(35345,null)}function m(_,w,A){const T=_.value;if(A[w]===void 0){if(typeof T=="number")A[w]=T;else{const P=Array.isArray(T)?T:[T],L=[];for(let M=0;M<P.length;M++)L.push(P[M].clone());A[w]=L}return!0}else if(typeof T=="number"){if(A[w]!==T)return A[w]=T,!0}else{const P=Array.isArray(A[w])?A[w]:[A[w]],L=Array.isArray(T)?T:[T];for(let M=0;M<P.length;M++){const R=P[M];if(R.equals(L[M])===!1)return R.copy(L[M]),!0}}return!1}function y(_){const w=_.uniforms;let A=0;const T=16;let P=0;for(let L=0,M=w.length;L<M;L++){const R=w[L],k={boundary:0,storage:0},V=Array.isArray(R.value)?R.value:[R.value];for(let U=0,F=V.length;U<F;U++){const J=V[U],q=g(J);k.boundary+=q.boundary,k.storage+=q.storage}if(R.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=A,L>0){P=A%T;const U=T-P;P!==0&&U-k.boundary<0&&(A+=T-P,R.__offset=A)}A+=k.storage}return P=A%T,P>0&&(A+=T-P),_.__size=A,_.__cache={},this}function g(_){const w={boundary:0,storage:0};return typeof _=="number"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function v(_){const w=_.target;w.removeEventListener("dispose",v);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function Aie(){const n=ey("canvas");return n.style.display="block",n}function KS(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Aie(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=gl,this.useLegacyLights=!0,this.toneMapping=Vo,this.toneMappingExposure=1;const g=this;let v=!1,x=0,_=0,w=null,A=-1,T=null;const P=new rn,L=new rn;let M=null,R=e.width,k=e.height,V=1,U=null,F=null;const J=new rn(0,0,R,k),q=new rn(0,0,R,k);let se=!1;const ue=new WS;let H=!1,j=!1,O=null;const oe=new tt,z=new N,Q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function de(){return w===null?V:1}let Z=t;function Ae($,le){for(let ye=0;ye<$.length;ye++){const ae=$[ye],Se=e.getContext(ae,le);if(Se!==null)return Se}return null}try{const $={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${FS}`),e.addEventListener("webglcontextlost",_e,!1),e.addEventListener("webglcontextrestored",Ie,!1),e.addEventListener("webglcontextcreationerror",Fe,!1),Z===null){const le=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&le.shift(),Z=Ae(le,$),Z===null)throw Ae(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let Te,Be,Ve,Re,Pe,pe,ge,Ce,We,ke,Ge,Ye,et,gt,Mt,K,B,fe,De,Ne,He,ot,je,we;function ct(){Te=new Une(Z),Be=new Dne(Z,Te,n),Te.init(Be),ot=new fV(Z,Te,Be),Ve=new vie(Z,Te,Be),Re=new Vne,Pe=new oie,pe=new xie(Z,Te,Ve,Pe,Be,ot,Re),ge=new One(g),Ce=new zne(g),We=new QZ(Z,Be),je=new Lne(Z,Te,We,Be),ke=new Hne(Z,We,Re,je),Ge=new Kne(Z,ke,We,Re),De=new jne(Z,Be,pe),K=new Bne(Pe),Ye=new sie(g,ge,Ce,Te,Be,je,K),et=new wie(g,Pe),gt=new lie,Mt=new pie(Te,Be),fe=new Rne(g,ge,Ce,Ve,Ge,u,o),B=new yie(g,Ge,Be),we=new bie(Z,Re,Be,Ve),Ne=new kne(Z,Te,Re,Be),He=new Gne(Z,Te,Re,Be),Re.programs=Ye.programs,g.capabilities=Be,g.extensions=Te,g.properties=Pe,g.renderLists=gt,g.shadowMap=B,g.state=Ve,g.info=Re}ct();const Y=new Sie(g,Z);this.xr=Y,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const $=Te.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){const $=Te.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function($){$!==void 0&&(V=$,this.setSize(R,k,!1))},this.getSize=function($){return $.set(R,k)},this.setSize=function($,le,ye=!0){if(Y.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=$,k=le,e.width=Math.floor($*V),e.height=Math.floor(le*V),ye===!0&&(e.style.width=$+"px",e.style.height=le+"px"),this.setViewport(0,0,$,le)},this.getDrawingBufferSize=function($){return $.set(R*V,k*V).floor()},this.setDrawingBufferSize=function($,le,ye){R=$,k=le,V=ye,e.width=Math.floor($*ye),e.height=Math.floor(le*ye),this.setViewport(0,0,$,le)},this.getCurrentViewport=function($){return $.copy(P)},this.getViewport=function($){return $.copy(J)},this.setViewport=function($,le,ye,ae){$.isVector4?J.set($.x,$.y,$.z,$.w):J.set($,le,ye,ae),Ve.viewport(P.copy(J).multiplyScalar(V).floor())},this.getScissor=function($){return $.copy(q)},this.setScissor=function($,le,ye,ae){$.isVector4?q.set($.x,$.y,$.z,$.w):q.set($,le,ye,ae),Ve.scissor(L.copy(q).multiplyScalar(V).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function($){Ve.setScissorTest(se=$)},this.setOpaqueSort=function($){U=$},this.setTransparentSort=function($){F=$},this.getClearColor=function($){return $.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function($=!0,le=!0,ye=!0){let ae=0;$&&(ae|=16384),le&&(ae|=256),ye&&(ae|=1024),Z.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",_e,!1),e.removeEventListener("webglcontextrestored",Ie,!1),e.removeEventListener("webglcontextcreationerror",Fe,!1),gt.dispose(),Mt.dispose(),Pe.dispose(),ge.dispose(),Ce.dispose(),Ge.dispose(),je.dispose(),we.dispose(),Ye.dispose(),Y.dispose(),Y.removeEventListener("sessionstart",Ee),Y.removeEventListener("sessionend",Ke),O&&(O.dispose(),O=null),st.stop()};function _e($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const $=Re.autoReset,le=B.enabled,ye=B.autoUpdate,ae=B.needsUpdate,Se=B.type;ct(),Re.autoReset=$,B.enabled=le,B.autoUpdate=ye,B.needsUpdate=ae,B.type=Se}function Fe($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function at($){const le=$.target;le.removeEventListener("dispose",at),Lt(le)}function Lt($){An($),Pe.remove($)}function An($){const le=Pe.get($).programs;le!==void 0&&(le.forEach(function(ye){Ye.releaseProgram(ye)}),$.isShaderMaterial&&Ye.releaseShaderCache($))}this.renderBufferDirect=function($,le,ye,ae,Se,ft){le===null&&(le=Q);const _t=Se.isMesh&&Se.matrixWorld.determinant()<0,kt=Op($,le,ye,ae,Se);Ve.setMaterial(ae,_t);let wt=ye.index,Jt=1;ae.wireframe===!0&&(wt=ke.getWireframeAttribute(ye),Jt=2);const Nt=ye.drawRange,Ut=ye.attributes.position;let Hn=Nt.start*Jt,ti=(Nt.start+Nt.count)*Jt;ft!==null&&(Hn=Math.max(Hn,ft.start*Jt),ti=Math.min(ti,(ft.start+ft.count)*Jt)),wt!==null?(Hn=Math.max(Hn,0),ti=Math.min(ti,wt.count)):Ut!=null&&(Hn=Math.max(Hn,0),ti=Math.min(ti,Ut.count));const fs=ti-Hn;if(fs<0||fs===1/0)return;je.setup(Se,ae,kt,ye,wt);let ps,Gn=Ne;if(wt!==null&&(ps=We.get(wt),Gn=He,Gn.setIndex(ps)),Se.isMesh)ae.wireframe===!0?(Ve.setLineWidth(ae.wireframeLinewidth*de()),Gn.setMode(1)):Gn.setMode(4);else if(Se.isLine){let Tt=ae.linewidth;Tt===void 0&&(Tt=1),Ve.setLineWidth(Tt*de()),Se.isLineSegments?Gn.setMode(1):Se.isLineLoop?Gn.setMode(2):Gn.setMode(3)}else Se.isPoints?Gn.setMode(0):Se.isSprite&&Gn.setMode(4);if(Se.isInstancedMesh)Gn.renderInstances(Hn,fs,Se.count);else if(ye.isInstancedBufferGeometry){const Tt=ye._maxInstanceCount!==void 0?ye._maxInstanceCount:1/0,ms=Math.min(ye.instanceCount,Tt);Gn.renderInstances(Hn,fs,ms)}else Gn.render(Hn,fs)},this.compile=function($,le){function ye(ae,Se,ft){ae.transparent===!0&&ae.side===zo&&ae.forceSinglePass===!1?(ae.side=cs,ae.needsUpdate=!0,ei(ae,Se,ft),ae.side=Aa,ae.needsUpdate=!0,ei(ae,Se,ft),ae.side=zo):ei(ae,Se,ft)}p=Mt.get($),p.init(),y.push(p),$.traverseVisible(function(ae){ae.isLight&&ae.layers.test(le.layers)&&(p.pushLight(ae),ae.castShadow&&p.pushShadow(ae))}),p.setupLights(g.useLegacyLights),$.traverse(function(ae){const Se=ae.material;if(Se)if(Array.isArray(Se))for(let ft=0;ft<Se.length;ft++){const _t=Se[ft];ye(_t,$,ae)}else ye(Se,$,ae)}),y.pop(),p=null};let te=null;function ve($){te&&te($)}function Ee(){st.stop()}function Ke(){st.start()}const st=new lV;st.setAnimationLoop(ve),typeof self<"u"&&st.setContext(self),this.setAnimationLoop=function($){te=$,Y.setAnimationLoop($),$===null?st.stop():st.start()},Y.addEventListener("sessionstart",Ee),Y.addEventListener("sessionend",Ke),this.render=function($,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Y.enabled===!0&&Y.isPresenting===!0&&(Y.cameraAutoUpdate===!0&&Y.updateCamera(le),le=Y.getCamera()),$.isScene===!0&&$.onBeforeRender(g,$,le,w),p=Mt.get($,y.length),p.init(),y.push(p),oe.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),ue.setFromProjectionMatrix(oe),j=this.localClippingEnabled,H=K.init(this.clippingPlanes,j),d=gt.get($,m.length),d.init(),m.push(d),Xt($,le,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(U,F),H===!0&&K.beginShadows();const ye=p.state.shadowsArray;if(B.render(ye,$,le),H===!0&&K.endShadows(),this.info.autoReset===!0&&this.info.reset(),fe.render(d,$),p.setupLights(g.useLegacyLights),le.isArrayCamera){const ae=le.cameras;for(let Se=0,ft=ae.length;Se<ft;Se++){const _t=ae[Se];qn(d,$,_t,_t.viewport)}}else qn(d,$,le);w!==null&&(pe.updateMultisampleRenderTarget(w),pe.updateRenderTargetMipmap(w)),$.isScene===!0&&$.onAfterRender(g,$,le),je.resetDefaultState(),A=-1,T=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function Xt($,le,ye,ae){if($.visible===!1)return;if($.layers.test(le.layers)){if($.isGroup)ye=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(le);else if($.isLight)p.pushLight($),$.castShadow&&p.pushShadow($);else if($.isSprite){if(!$.frustumCulled||ue.intersectsSprite($)){ae&&z.setFromMatrixPosition($.matrixWorld).applyMatrix4(oe);const _t=Ge.update($),kt=$.material;kt.visible&&d.push($,_t,kt,ye,z.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==Re.render.frame&&($.skeleton.update(),$.skeleton.frame=Re.render.frame),!$.frustumCulled||ue.intersectsObject($))){ae&&z.setFromMatrixPosition($.matrixWorld).applyMatrix4(oe);const _t=Ge.update($),kt=$.material;if(Array.isArray(kt)){const wt=_t.groups;for(let Jt=0,Nt=wt.length;Jt<Nt;Jt++){const Ut=wt[Jt],Hn=kt[Ut.materialIndex];Hn&&Hn.visible&&d.push($,_t,Hn,ye,z.z,Ut)}}else kt.visible&&d.push($,_t,kt,ye,z.z,null)}}const ft=$.children;for(let _t=0,kt=ft.length;_t<kt;_t++)Xt(ft[_t],le,ye,ae)}function qn($,le,ye,ae){const Se=$.opaque,ft=$.transmissive,_t=$.transparent;p.setupLightsView(ye),H===!0&&K.setGlobalState(g.clippingPlanes,ye),ft.length>0&&Rr(Se,le,ye),ae&&Ve.viewport(P.copy(ae)),Se.length>0&&Bi(Se,le,ye),ft.length>0&&Bi(ft,le,ye),_t.length>0&&Bi(_t,le,ye),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function Rr($,le,ye){const ae=Be.isWebGL2;O===null&&(O=new jo(1024,1024,{generateMipmaps:!0,type:Te.has("EXT_color_buffer_half_float")?Vf:ml,minFilter:Ma,samples:ae&&s===!0?4:0}));const Se=g.getRenderTarget();g.setRenderTarget(O),g.clear();const ft=g.toneMapping;g.toneMapping=Vo,Bi($,le,ye),g.toneMapping=ft,pe.updateMultisampleRenderTarget(O),pe.updateRenderTargetMipmap(O),g.setRenderTarget(Se)}function Bi($,le,ye){const ae=le.isScene===!0?le.overrideMaterial:null;for(let Se=0,ft=$.length;Se<ft;Se++){const _t=$[Se],kt=_t.object,wt=_t.geometry,Jt=ae===null?_t.material:ae,Nt=_t.group;kt.layers.test(ye.layers)&&Tn(kt,le,ye,wt,Jt,Nt)}}function Tn($,le,ye,ae,Se,ft){$.onBeforeRender(g,le,ye,ae,Se,ft),$.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),Se.onBeforeRender(g,le,ye,ae,$,ft),Se.transparent===!0&&Se.side===zo&&Se.forceSinglePass===!1?(Se.side=cs,Se.needsUpdate=!0,g.renderBufferDirect(ye,le,ae,Se,$,ft),Se.side=Aa,Se.needsUpdate=!0,g.renderBufferDirect(ye,le,ae,Se,$,ft),Se.side=zo):g.renderBufferDirect(ye,le,ae,Se,$,ft),$.onAfterRender(g,le,ye,ae,Se,ft)}function ei($,le,ye){le.isScene!==!0&&(le=Q);const ae=Pe.get($),Se=p.state.lights,ft=p.state.shadowsArray,_t=Se.state.version,kt=Ye.getParameters($,Se.state,ft,le,ye),wt=Ye.getProgramCacheKey(kt);let Jt=ae.programs;ae.environment=$.isMeshStandardMaterial?le.environment:null,ae.fog=le.fog,ae.envMap=($.isMeshStandardMaterial?Ce:ge).get($.envMap||ae.environment),Jt===void 0&&($.addEventListener("dispose",at),Jt=new Map,ae.programs=Jt);let Nt=Jt.get(wt);if(Nt!==void 0){if(ae.currentProgram===Nt&&ae.lightsStateVersion===_t)return or($,kt),Nt}else kt.uniforms=Ye.getUniforms($),$.onBuild(ye,kt,g),$.onBeforeCompile(kt,g),Nt=Ye.acquireProgram(kt,wt),Jt.set(wt,Nt),ae.uniforms=kt.uniforms;const Ut=ae.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(Ut.clippingPlanes=K.uniform),or($,kt),ae.needsLights=Wd($),ae.lightsStateVersion=_t,ae.needsLights&&(Ut.ambientLightColor.value=Se.state.ambient,Ut.lightProbe.value=Se.state.probe,Ut.directionalLights.value=Se.state.directional,Ut.directionalLightShadows.value=Se.state.directionalShadow,Ut.spotLights.value=Se.state.spot,Ut.spotLightShadows.value=Se.state.spotShadow,Ut.rectAreaLights.value=Se.state.rectArea,Ut.ltc_1.value=Se.state.rectAreaLTC1,Ut.ltc_2.value=Se.state.rectAreaLTC2,Ut.pointLights.value=Se.state.point,Ut.pointLightShadows.value=Se.state.pointShadow,Ut.hemisphereLights.value=Se.state.hemi,Ut.directionalShadowMap.value=Se.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Ut.spotShadowMap.value=Se.state.spotShadowMap,Ut.spotLightMatrix.value=Se.state.spotLightMatrix,Ut.spotLightMap.value=Se.state.spotLightMap,Ut.pointShadowMap.value=Se.state.pointShadowMap,Ut.pointShadowMatrix.value=Se.state.pointShadowMatrix);const Hn=Nt.getUniforms(),ti=S1.seqWithValue(Hn.seq,Ut);return ae.currentProgram=Nt,ae.uniformsList=ti,Nt}function or($,le){const ye=Pe.get($);ye.outputEncoding=le.outputEncoding,ye.instancing=le.instancing,ye.skinning=le.skinning,ye.morphTargets=le.morphTargets,ye.morphNormals=le.morphNormals,ye.morphColors=le.morphColors,ye.morphTargetsCount=le.morphTargetsCount,ye.numClippingPlanes=le.numClippingPlanes,ye.numIntersection=le.numClipIntersection,ye.vertexAlphas=le.vertexAlphas,ye.vertexTangents=le.vertexTangents,ye.toneMapping=le.toneMapping}function Op($,le,ye,ae,Se){le.isScene!==!0&&(le=Q),pe.resetTextureUnits();const ft=le.fog,_t=ae.isMeshStandardMaterial?le.environment:null,kt=w===null?g.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:gl,wt=(ae.isMeshStandardMaterial?Ce:ge).get(ae.envMap||_t),Jt=ae.vertexColors===!0&&!!ye.attributes.color&&ye.attributes.color.itemSize===4,Nt=!!ae.normalMap&&!!ye.attributes.tangent,Ut=!!ye.morphAttributes.position,Hn=!!ye.morphAttributes.normal,ti=!!ye.morphAttributes.color,fs=ae.toneMapped?g.toneMapping:Vo,ps=ye.morphAttributes.position||ye.morphAttributes.normal||ye.morphAttributes.color,Gn=ps!==void 0?ps.length:0,Tt=Pe.get(ae),ms=p.state.lights;if(H===!0&&(j===!0||$!==T)){const $n=$===T&&ae.id===A;K.setState(ae,$,$n)}let Vn=!1;ae.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==ms.state.version||Tt.outputEncoding!==kt||Se.isInstancedMesh&&Tt.instancing===!1||!Se.isInstancedMesh&&Tt.instancing===!0||Se.isSkinnedMesh&&Tt.skinning===!1||!Se.isSkinnedMesh&&Tt.skinning===!0||Tt.envMap!==wt||ae.fog===!0&&Tt.fog!==ft||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==K.numPlanes||Tt.numIntersection!==K.numIntersection)||Tt.vertexAlphas!==Jt||Tt.vertexTangents!==Nt||Tt.morphTargets!==Ut||Tt.morphNormals!==Hn||Tt.morphColors!==ti||Tt.toneMapping!==fs||Be.isWebGL2===!0&&Tt.morphTargetsCount!==Gn)&&(Vn=!0):(Vn=!0,Tt.__version=ae.version);let fi=Tt.currentProgram;Vn===!0&&(fi=ei(ae,le,Se));let nu=!1,So=!1,$s=!1;const Pn=fi.getUniforms(),qt=Tt.uniforms;if(Ve.useProgram(fi.program)&&(nu=!0,So=!0,$s=!0),ae.id!==A&&(A=ae.id,So=!0),nu||T!==$){if(Pn.setValue(Z,"projectionMatrix",$.projectionMatrix),Be.logarithmicDepthBuffer&&Pn.setValue(Z,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),T!==$&&(T=$,So=!0,$s=!0),ae.isShaderMaterial||ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshStandardMaterial||ae.envMap){const $n=Pn.map.cameraPosition;$n!==void 0&&$n.setValue(Z,z.setFromMatrixPosition($.matrixWorld))}(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&Pn.setValue(Z,"isOrthographic",$.isOrthographicCamera===!0),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial||ae.isShadowMaterial||Se.isSkinnedMesh)&&Pn.setValue(Z,"viewMatrix",$.matrixWorldInverse)}if(Se.isSkinnedMesh){Pn.setOptional(Z,Se,"bindMatrix"),Pn.setOptional(Z,Se,"bindMatrixInverse");const $n=Se.skeleton;$n&&(Be.floatVertexTextures?($n.boneTexture===null&&$n.computeBoneTexture(),Pn.setValue(Z,"boneTexture",$n.boneTexture,pe),Pn.setValue(Z,"boneTextureSize",$n.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const on=ye.morphAttributes;if((on.position!==void 0||on.normal!==void 0||on.color!==void 0&&Be.isWebGL2===!0)&&De.update(Se,ye,fi),(So||Tt.receiveShadow!==Se.receiveShadow)&&(Tt.receiveShadow=Se.receiveShadow,Pn.setValue(Z,"receiveShadow",Se.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(qt.envMap.value=wt,qt.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),So&&(Pn.setValue(Z,"toneMappingExposure",g.toneMappingExposure),Tt.needsLights&&Np(qt,$s),ft&&ae.fog===!0&&et.refreshFogUniforms(qt,ft),et.refreshMaterialUniforms(qt,ae,V,k,O),S1.upload(Z,Tt.uniformsList,qt,pe)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(S1.upload(Z,Tt.uniformsList,qt,pe),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&Pn.setValue(Z,"center",Se.center),Pn.setValue(Z,"modelViewMatrix",Se.modelViewMatrix),Pn.setValue(Z,"normalMatrix",Se.normalMatrix),Pn.setValue(Z,"modelMatrix",Se.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const $n=ae.uniformsGroups;for(let ar=0,Vr=$n.length;ar<Vr;ar++)if(Be.isWebGL2){const Ws=$n[ar];we.update(Ws,fi),we.bind(Ws,fi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fi}function Np($,le){$.ambientLightColor.needsUpdate=le,$.lightProbe.needsUpdate=le,$.directionalLights.needsUpdate=le,$.directionalLightShadows.needsUpdate=le,$.pointLights.needsUpdate=le,$.pointLightShadows.needsUpdate=le,$.spotLights.needsUpdate=le,$.spotLightShadows.needsUpdate=le,$.rectAreaLights.needsUpdate=le,$.hemisphereLights.needsUpdate=le}function Wd($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function($,le,ye){Pe.get($.texture).__webglTexture=le,Pe.get($.depthTexture).__webglTexture=ye;const ae=Pe.get($);ae.__hasExternalTextures=!0,ae.__hasExternalTextures&&(ae.__autoAllocateDepthBuffer=ye===void 0,ae.__autoAllocateDepthBuffer||Te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,le){const ye=Pe.get($);ye.__webglFramebuffer=le,ye.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function($,le=0,ye=0){w=$,x=le,_=ye;let ae=!0,Se=null,ft=!1,_t=!1;if($){const wt=Pe.get($);wt.__useDefaultFramebuffer!==void 0?(Ve.bindFramebuffer(36160,null),ae=!1):wt.__webglFramebuffer===void 0?pe.setupRenderTarget($):wt.__hasExternalTextures&&pe.rebindTextures($,Pe.get($.texture).__webglTexture,Pe.get($.depthTexture).__webglTexture);const Jt=$.texture;(Jt.isData3DTexture||Jt.isDataArrayTexture||Jt.isCompressedArrayTexture)&&(_t=!0);const Nt=Pe.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(Se=Nt[le],ft=!0):Be.isWebGL2&&$.samples>0&&pe.useMultisampledRTT($)===!1?Se=Pe.get($).__webglMultisampledFramebuffer:Se=Nt,P.copy($.viewport),L.copy($.scissor),M=$.scissorTest}else P.copy(J).multiplyScalar(V).floor(),L.copy(q).multiplyScalar(V).floor(),M=se;if(Ve.bindFramebuffer(36160,Se)&&Be.drawBuffers&&ae&&Ve.drawBuffers($,Se),Ve.viewport(P),Ve.scissor(L),Ve.setScissorTest(M),ft){const wt=Pe.get($.texture);Z.framebufferTexture2D(36160,36064,34069+le,wt.__webglTexture,ye)}else if(_t){const wt=Pe.get($.texture),Jt=le||0;Z.framebufferTextureLayer(36160,36064,wt.__webglTexture,ye||0,Jt)}A=-1},this.readRenderTargetPixels=function($,le,ye,ae,Se,ft,_t){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let kt=Pe.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&_t!==void 0&&(kt=kt[_t]),kt){Ve.bindFramebuffer(36160,kt);try{const wt=$.texture,Jt=wt.format,Nt=wt.type;if(Jt!==ns&&ot.convert(Jt)!==Z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ut=Nt===Vf&&(Te.has("EXT_color_buffer_half_float")||Be.isWebGL2&&Te.has("EXT_color_buffer_float"));if(Nt!==ml&&ot.convert(Nt)!==Z.getParameter(35738)&&!(Nt===el&&(Be.isWebGL2||Te.has("OES_texture_float")||Te.has("WEBGL_color_buffer_float")))&&!Ut){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=$.width-ae&&ye>=0&&ye<=$.height-Se&&Z.readPixels(le,ye,ae,Se,ot.convert(Jt),ot.convert(Nt),ft)}finally{const wt=w!==null?Pe.get(w).__webglFramebuffer:null;Ve.bindFramebuffer(36160,wt)}}},this.copyFramebufferToTexture=function($,le,ye=0){const ae=Math.pow(2,-ye),Se=Math.floor(le.image.width*ae),ft=Math.floor(le.image.height*ae);pe.setTexture2D(le,0),Z.copyTexSubImage2D(3553,ye,0,0,$.x,$.y,Se,ft),Ve.unbindTexture()},this.copyTextureToTexture=function($,le,ye,ae=0){const Se=le.image.width,ft=le.image.height,_t=ot.convert(ye.format),kt=ot.convert(ye.type);pe.setTexture2D(ye,0),Z.pixelStorei(37440,ye.flipY),Z.pixelStorei(37441,ye.premultiplyAlpha),Z.pixelStorei(3317,ye.unpackAlignment),le.isDataTexture?Z.texSubImage2D(3553,ae,$.x,$.y,Se,ft,_t,kt,le.image.data):le.isCompressedTexture?Z.compressedTexSubImage2D(3553,ae,$.x,$.y,le.mipmaps[0].width,le.mipmaps[0].height,_t,le.mipmaps[0].data):Z.texSubImage2D(3553,ae,$.x,$.y,_t,kt,le.image),ae===0&&ye.generateMipmaps&&Z.generateMipmap(3553),Ve.unbindTexture()},this.copyTextureToTexture3D=function($,le,ye,ae,Se=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ft=$.max.x-$.min.x+1,_t=$.max.y-$.min.y+1,kt=$.max.z-$.min.z+1,wt=ot.convert(ae.format),Jt=ot.convert(ae.type);let Nt;if(ae.isData3DTexture)pe.setTexture3D(ae,0),Nt=32879;else if(ae.isDataArrayTexture)pe.setTexture2DArray(ae,0),Nt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(37440,ae.flipY),Z.pixelStorei(37441,ae.premultiplyAlpha),Z.pixelStorei(3317,ae.unpackAlignment);const Ut=Z.getParameter(3314),Hn=Z.getParameter(32878),ti=Z.getParameter(3316),fs=Z.getParameter(3315),ps=Z.getParameter(32877),Gn=ye.isCompressedTexture?ye.mipmaps[0]:ye.image;Z.pixelStorei(3314,Gn.width),Z.pixelStorei(32878,Gn.height),Z.pixelStorei(3316,$.min.x),Z.pixelStorei(3315,$.min.y),Z.pixelStorei(32877,$.min.z),ye.isDataTexture||ye.isData3DTexture?Z.texSubImage3D(Nt,Se,le.x,le.y,le.z,ft,_t,kt,wt,Jt,Gn.data):ye.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Nt,Se,le.x,le.y,le.z,ft,_t,kt,wt,Gn.data)):Z.texSubImage3D(Nt,Se,le.x,le.y,le.z,ft,_t,kt,wt,Jt,Gn),Z.pixelStorei(3314,Ut),Z.pixelStorei(32878,Hn),Z.pixelStorei(3316,ti),Z.pixelStorei(3315,fs),Z.pixelStorei(32877,ps),Se===0&&ae.generateMipmaps&&Z.generateMipmap(Nt),Ve.unbindTexture()},this.initTexture=function($){$.isCubeTexture?pe.setTextureCube($,0):$.isData3DTexture?pe.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?pe.setTexture2DArray($,0):pe.setTexture2D($,0),Ve.unbindTexture()},this.resetState=function(){x=0,_=0,w=null,Ve.reset(),je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object.defineProperties(KS.prototype,{physicallyCorrectLights:{get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(n){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!n}}});class gV extends KS{}gV.prototype.isWebGL1Renderer=!0;class XS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ue(e),this.density=t}clone(){return new XS(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class JS{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ue(e),this.near=t,this.far=r}clone(){return new JS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class KI extends Kt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Yy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Qg,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ks()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ks()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const zi=new N;class Fc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix4(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.applyNormalMatrix(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)zi.fromBufferAttribute(this,t),zi.transformDirection(e),this.setXYZ(t,zi.x,zi.y,zi.z);return this}setX(e,t){return this.normalized&&(t=Mn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Mn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=tl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=tl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=tl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=tl(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array),i=Mn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Mn(t,this.array),r=Mn(r,this.array),i=Mn(i,this.array),s=Mn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new fn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XI extends Ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Mh;const _m=new N,Eh=new N,Th=new N,Ph=new be,Sm=new be,yV=new tt,ux=new N,wm=new N,dx=new N,SO=new be,IC=new be,wO=new be;class vV extends Kt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Mh===void 0){Mh=new St;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Yy(t,5);Mh.setIndex([0,1,2,0,2,3]),Mh.setAttribute("position",new Fc(r,3,0,!1)),Mh.setAttribute("uv",new Fc(r,2,3,!1))}this.geometry=Mh,this.material=e!==void 0?e:new XI,this.center=new be(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Eh.setFromMatrixScale(this.matrixWorld),yV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Th.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Eh.multiplyScalar(-Th.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;hx(ux.set(-.5,-.5,0),Th,o,Eh,i,s),hx(wm.set(.5,-.5,0),Th,o,Eh,i,s),hx(dx.set(.5,.5,0),Th,o,Eh,i,s),SO.set(0,0),IC.set(1,0),wO.set(1,1);let a=e.ray.intersectTriangle(ux,wm,dx,!1,_m);if(a===null&&(hx(wm.set(-.5,.5,0),Th,o,Eh,i,s),IC.set(0,1),a=e.ray.intersectTriangle(ux,dx,wm,!1,_m),a===null))return;const l=e.ray.origin.distanceTo(_m);l<e.near||l>e.far||t.push({distance:l,point:_m.clone(),uv:lo.getUV(_m,ux,wm,dx,SO,IC,wO,new be),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function hx(n,e,t,r,i,s){Ph.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Sm.x=s*Ph.x-i*Ph.y,Sm.y=i*Ph.x+s*Ph.y):Sm.copy(Ph),n.copy(e),n.x+=Sm.x,n.y+=Sm.y,n.applyMatrix4(yV)}const fx=new N,bO=new N;class xV extends Kt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){fx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(fx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){fx.setFromMatrixPosition(e.matrixWorld),bO.setFromMatrixPosition(this.matrixWorld);const r=fx.distanceTo(bO)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const AO=new N,CO=new rn,MO=new rn,Cie=new N,EO=new tt;class qS extends Pr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tt,this.bindMatrixInverse=new tt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;CO.fromBufferAttribute(i.attributes.skinIndex,e),MO.fromBufferAttribute(i.attributes.skinWeight,e),AO.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=MO.getComponent(s);if(o!==0){const a=CO.getComponent(s);EO.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Cie.copy(AO).applyMatrix4(EO),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Kf extends Kt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class yf extends Rn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=dr,u=dr,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TO=new tt,Mie=new tt;class yp{constructor(e=[],t=[]){this.uuid=ks(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new tt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new tt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Mie;TO.multiplyMatrices(a,t[s]),TO.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new yp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=nV(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new yf(t,e,e,ns,el);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Kf),this.bones.push(o),this.boneInverses.push(new tt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Xf extends fn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const PO=new tt,IO=new tt,px=[],Eie=new tt,bm=new Pr;class _V extends Pr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Xf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Eie)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(bm.geometry=this.geometry,bm.material=this.material,bm.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,PO),IO.multiplyMatrices(r,PO),bm.matrixWorld=IO,bm.raycast(e,px);for(let o=0,a=px.length;o<a;o++){const l=px[o];l.instanceId=s,l.object=this,t.push(l)}px.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Xf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class di extends Ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ue(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RO=new N,LO=new N,kO=new tt,RC=new Xy,mx=new Jc;class Ta extends Kt{constructor(e=new St,t=new di){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)RO.fromBufferAttribute(t,i-1),LO.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=RO.distanceTo(LO);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),mx.copy(r.boundingSphere),mx.applyMatrix4(i),mx.radius+=s,e.ray.intersectsSphere(mx)===!1)return;kO.copy(i).invert(),RC.copy(e.ray).applyMatrix4(kO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new N,u=new N,d=new N,p=new N,m=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){const T=y.getX(w),P=y.getX(w+1);if(c.fromBufferAttribute(v,T),u.fromBufferAttribute(v,P),RC.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(p);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=m){if(c.fromBufferAttribute(v,w),u.fromBufferAttribute(v,w+1),RC.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const DO=new N,BO=new N;class Jo extends Ta{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)DO.fromBufferAttribute(t,i),BO.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+DO.distanceTo(BO);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class JI extends Ta{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class YS extends Ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ue(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const OO=new tt,WT=new Xy,gx=new Jc,yx=new N;class qI extends Kt{constructor(e=new St,t=new YS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gx.copy(r.boundingSphere),gx.applyMatrix4(i),gx.radius+=s,e.ray.intersectsSphere(gx)===!1)return;OO.copy(i).invert(),WT.copy(e.ray).applyMatrix4(OO);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const v=c.getX(y);yx.fromBufferAttribute(d,v),NO(yx,v,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let y=p,g=m;y<g;y++)yx.fromBufferAttribute(d,y),NO(yx,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function NO(n,e,t,r,i,s,o){const a=WT.distanceSqToPoint(n);if(a<t){const l=new N;WT.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Tie extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:tr,this.magFilter=s!==void 0?s:tr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Pie extends Rn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=dr,this.minFilter=dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class YI extends Rn{constructor(e,t,r,i,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Iie extends YI{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Dr}}class Rie extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new be:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new N,i=[],s=[],o=[],a=new N,l=new tt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new N)}s[0]=new N,o[0]=new N;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(vr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(vr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class QS extends xo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new be,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class SV extends QS{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function QI(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const vx=new N,LC=new QI,kC=new QI,DC=new QI;class wV extends xo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new N){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(vx.subVectors(i[0],i[1]).add(i[0]),c=vx);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(vx.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=vx),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(d),m),g=Math.pow(d.distanceToSquared(p),m),v=Math.pow(p.distanceToSquared(u),m);g<1e-4&&(g=1),y<1e-4&&(y=g),v<1e-4&&(v=g),LC.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,y,g,v),kC.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,y,g,v),DC.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,y,g,v)}else this.curveType==="catmullrom"&&(LC.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),kC.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),DC.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(LC.calc(l),kC.calc(l),DC.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new N().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FO(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Lie(n,e){const t=1-n;return t*t*e}function kie(n,e){return 2*(1-n)*n*e}function Die(n,e){return n*n*e}function cg(n,e,t,r){return Lie(n,e)+kie(n,t)+Die(n,r)}function Bie(n,e){const t=1-n;return t*t*t*e}function Oie(n,e){const t=1-n;return 3*t*t*n*e}function Nie(n,e){return 3*(1-n)*n*n*e}function Fie(n,e){return n*n*n*e}function ug(n,e,t,r,i){return Bie(n,e)+Oie(n,t)+Nie(n,r)+Fie(n,i)}class ZI extends xo{constructor(e=new be,t=new be,r=new be,i=new be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ug(e,i.x,s.x,o.x,a.x),ug(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bV extends xo{constructor(e=new N,t=new N,r=new N,i=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new N){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ug(e,i.x,s.x,o.x,a.x),ug(e,i.y,s.y,o.y,a.y),ug(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZS extends xo{constructor(e=new be,t=new be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new be){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new be){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AV extends xo{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eR extends xo{constructor(e=new be,t=new be,r=new be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new be){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(cg(e,i.x,s.x,o.x),cg(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tR extends xo{constructor(e=new N,t=new N,r=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new N){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(cg(e,i.x,s.x,o.x),cg(e,i.y,s.y,o.y),cg(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nR extends xo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new be){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(FO(a,l.x,c.x,u.x,d.x),FO(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new be().fromArray(i))}return this}}var rR=Object.freeze({__proto__:null,ArcCurve:SV,CatmullRomCurve3:wV,CubicBezierCurve:ZI,CubicBezierCurve3:bV,EllipseCurve:QS,LineCurve:ZS,LineCurve3:AV,QuadraticBezierCurve:eR,QuadraticBezierCurve3:tR,SplineCurve:nR});class CV extends xo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ZS(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new rR[i.type]().fromJSON(i))}return this}}class ty extends CV{constructor(e){super(),this.type="Path",this.currentPoint=new be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new ZS(this.currentPoint.clone(),new be(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new eR(this.currentPoint.clone(),new be(e,t),new be(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new ZI(this.currentPoint.clone(),new be(e,t),new be(r,i),new be(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new nR(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new QS(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vp extends St{constructor(e=[new be(0,-.5),new be(.5,0),new be(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=vr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new N,p=new be,m=new N,y=new N,g=new N;let v=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-v,m.z=x*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-v,m.z=x*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let _=0;_<=t;_++){const w=r+_*u*i,A=Math.sin(w),T=Math.cos(w);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*A,d.y=e[P].y,d.z=e[P].x*T,o.push(d.x,d.y,d.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const L=l[3*P+0]*A,M=l[3*P+1],R=l[3*P+0]*T;c.push(L,M,R)}}for(let _=0;_<t;_++)for(let w=0;w<e.length-1;w++){const A=w+_*e.length,T=A,P=A+e.length,L=A+e.length+1,M=A+1;s.push(T,P,M),s.push(L,M,P)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vp(e.points,e.segments,e.phiStart,e.phiLength)}}class Qy extends vp{constructor(e=1,t=1,r=4,i=8){const s=new ty;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Qy(e.radius,e.length,e.capSegments,e.radialSegments)}}class Zy extends St{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new N,u=new be;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=r+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bd extends St{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],p=[],m=[];let y=0;const g=[],v=r/2;let x=0;_(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function _(){const A=new N,T=new N;let P=0;const L=(t-e)/r;for(let M=0;M<=s;M++){const R=[],k=M/s,V=k*(t-e)+e;for(let U=0;U<=i;U++){const F=U/i,J=F*l+a,q=Math.sin(J),se=Math.cos(J);T.x=V*q,T.y=-k*r+v,T.z=V*se,d.push(T.x,T.y,T.z),A.set(q,L,se).normalize(),p.push(A.x,A.y,A.z),m.push(F,1-k),R.push(y++)}g.push(R)}for(let M=0;M<i;M++)for(let R=0;R<s;R++){const k=g[R][M],V=g[R+1][M],U=g[R+1][M+1],F=g[R][M+1];u.push(k,V,F),u.push(V,U,F),P+=6}c.addGroup(x,P,0),x+=P}function w(A){const T=y,P=new be,L=new N;let M=0;const R=A===!0?e:t,k=A===!0?1:-1;for(let U=1;U<=i;U++)d.push(0,v*k,0),p.push(0,k,0),m.push(.5,.5),y++;const V=y;for(let U=0;U<=i;U++){const J=U/i*l+a,q=Math.cos(J),se=Math.sin(J);L.x=R*se,L.y=v*k,L.z=R*q,d.push(L.x,L.y,L.z),p.push(0,k,0),P.x=q*.5+.5,P.y=se*.5*k+.5,m.push(P.x,P.y),y++}for(let U=0;U<i;U++){const F=T+U,J=V+U;A===!0?u.push(J,J+1,F):u.push(J+1,J,F),M+=3}c.addGroup(x,M,A===!0?1:2),x+=M}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class e0 extends Bd{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new e0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tl extends St{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new N,A=new N,T=new N;for(let P=0;P<t.length;P+=3)m(t[P+0],w),m(t[P+1],A),m(t[P+2],T),l(w,A,T,_)}function l(_,w,A,T){const P=T+1,L=[];for(let M=0;M<=P;M++){L[M]=[];const R=_.clone().lerp(A,M/P),k=w.clone().lerp(A,M/P),V=P-M;for(let U=0;U<=V;U++)U===0&&M===P?L[M][U]=R:L[M][U]=R.clone().lerp(k,U/V)}for(let M=0;M<P;M++)for(let R=0;R<2*(P-M)-1;R++){const k=Math.floor(R/2);R%2===0?(p(L[M][k+1]),p(L[M+1][k]),p(L[M][k])):(p(L[M][k+1]),p(L[M+1][k+1]),p(L[M+1][k]))}}function c(_){const w=new N;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(_),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function u(){const _=new N;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const A=v(_)/2/Math.PI+.5,T=x(_)/Math.PI+.5;o.push(A,1-T)}y(),d()}function d(){for(let _=0;_<o.length;_+=6){const w=o[_+0],A=o[_+2],T=o[_+4],P=Math.max(w,A,T),L=Math.min(w,A,T);P>.9&&L<.1&&(w<.2&&(o[_+0]+=1),A<.2&&(o[_+2]+=1),T<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,w){const A=_*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function y(){const _=new N,w=new N,A=new N,T=new N,P=new be,L=new be,M=new be;for(let R=0,k=0;R<s.length;R+=9,k+=6){_.set(s[R+0],s[R+1],s[R+2]),w.set(s[R+3],s[R+4],s[R+5]),A.set(s[R+6],s[R+7],s[R+8]),P.set(o[k+0],o[k+1]),L.set(o[k+2],o[k+3]),M.set(o[k+4],o[k+5]),T.copy(_).add(w).add(A).divideScalar(3);const V=v(T);g(P,k+0,_,V),g(L,k+2,w,V),g(M,k+4,A,V)}}function g(_,w,A,T){T<0&&_.x===1&&(o[w]=_.x-1),A.x===0&&A.z===0&&(o[w]=T/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tl(e.vertices,e.indices,e.radius,e.details)}}class t0 extends Tl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new t0(e.radius,e.detail)}}const xx=new N,_x=new N,BC=new N,Sx=new lo;class MV extends St{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(od*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:g,b:v,c:x}=Sx;if(g.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),Sx.getNormal(BC),d[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const w=(_+1)%3,A=d[_],T=d[w],P=Sx[u[_]],L=Sx[u[w]],M=`${A}_${T}`,R=`${T}_${A}`;R in p&&p[R]?(BC.dot(p[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(L.x,L.y,L.z)),p[R]=null):M in p||(p[M]={index0:c[_],index1:c[w],normal:BC.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:v}=p[y];xx.fromBufferAttribute(a,g),_x.fromBufferAttribute(a,v),m.push(xx.x,xx.y,xx.z),m.push(_x.x,_x.y,_x.z)}this.setAttribute("position",new Qe(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ld extends ty{constructor(e){super(e),this.uuid=ks(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ty().fromJSON(i))}return this}}const zie={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=EV(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(r&&(s=$ie(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let y=t;y<i;y+=t)d=n[y],p=n[y+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return ny(s,o,t,a,l,m,0),o}};function EV(n,e,t,r,i){let s,o;if(i===tse(n,e,t,r)>0)for(s=e;s<t;s+=r)o=zO(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=zO(s,n[s],n[s+1],o);return o&&ew(o,o.next)&&(iy(o),o=o.next),o}function Sd(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(ew(t,t.next)||nr(t.prev,t,t.next)===0)){if(iy(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function ny(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Jie(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?Hie(n,r,i,s):Uie(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),iy(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=Gie(Sd(n),e,t),ny(n,e,t,r,i,s,2)):o===2&&Vie(n,e,t,r,i,s):ny(Sd(n),e,t,r,i,s,1);break}}}function Uie(n){const e=n.prev,t=n,r=n.next;if(nr(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=d&&y.y<=m&&Zh(i,a,s,l,o,c,y.x,y.y)&&nr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Hie(n,e,t,r){const i=n.prev,s=n,o=n.next;if(nr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<d?u<p?u:p:d<p?d:p,g=a>l?a>c?a:c:l>c?l:c,v=u>d?u>p?u:p:d>p?d:p,x=jT(m,y,e,t,r),_=jT(g,v,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=x&&A&&A.z<=_;){if(w.x>=m&&w.x<=g&&w.y>=y&&w.y<=v&&w!==i&&w!==o&&Zh(a,u,l,d,c,p,w.x,w.y)&&nr(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=m&&A.x<=g&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&Zh(a,u,l,d,c,p,A.x,A.y)&&nr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=x;){if(w.x>=m&&w.x<=g&&w.y>=y&&w.y<=v&&w!==i&&w!==o&&Zh(a,u,l,d,c,p,w.x,w.y)&&nr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=_;){if(A.x>=m&&A.x<=g&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&Zh(a,u,l,d,c,p,A.x,A.y)&&nr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Gie(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!ew(i,s)&&TV(i,r,r.next,s)&&ry(i,s)&&ry(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),iy(r),iy(r.next),r=n=s),r=r.next}while(r!==n);return Sd(r)}function Vie(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Qie(o,a)){let l=PV(o,a);o=Sd(o,o.next),l=Sd(l,l.next),ny(o,e,t,r,i,s,0),ny(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function $ie(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=EV(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Yie(c));for(i.sort(Wie),s=0;s<i.length;s++)t=jie(i[s],t);return t}function Wie(n,e){return n.x-e.x}function jie(n,e){const t=Kie(n,e);if(!t)return e;const r=PV(t,n);return Sd(r,r.next),Sd(t,t.next)}function Kie(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Zh(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),ry(t,n)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&Xie(i,t)))&&(i=t,u=d)),t=t.next;while(t!==a);return i}function Xie(n,e){return nr(n.prev,n,e.prev)<0&&nr(e.next,n,n.next)<0}function Jie(n,e,t,r){let i=n;do i.z===0&&(i.z=jT(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,qie(i)}function qie(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function jT(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Yie(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Zh(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function Qie(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Zie(n,e)&&(ry(n,e)&&ry(e,n)&&ese(n,e)&&(nr(n.prev,n,e.prev)||nr(n,e.prev,e))||ew(n,e)&&nr(n.prev,n,n.next)>0&&nr(e.prev,e,e.next)>0)}function nr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function ew(n,e){return n.x===e.x&&n.y===e.y}function TV(n,e,t,r){const i=bx(nr(n,e,t)),s=bx(nr(n,e,r)),o=bx(nr(t,r,n)),a=bx(nr(t,r,e));return!!(i!==s&&o!==a||i===0&&wx(n,t,e)||s===0&&wx(n,r,e)||o===0&&wx(t,n,r)||a===0&&wx(t,e,r))}function wx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function bx(n){return n>0?1:n<0?-1:0}function Zie(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&TV(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ry(n,e){return nr(n.prev,n,n.next)<0?nr(n,e,n.next)>=0&&nr(n,n.prev,e)>=0:nr(n,e,n.prev)<0||nr(n,n.next,e)<0}function ese(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function PV(n,e){const t=new KT(n.i,n.x,n.y),r=new KT(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function zO(n,e,t,r){const i=new KT(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function iy(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function KT(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tse(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class va{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return va.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];UO(e),HO(r,e);let o=e.length;t.forEach(UO);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,HO(r,t[l]);const a=zie.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function UO(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HO(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class n0 extends St{constructor(e=new ld([new be(.5,.5),new be(-.5,.5),new be(-.5,-.5),new be(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Qe(i,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:nse;let w,A=!1,T,P,L,M;x&&(w=x.getSpacedPoints(u),A=!0,p=!1,T=x.computeFrenetFrames(u,!1),P=new N,L=new N,M=new N),p||(v=0,m=0,y=0,g=0);const R=a.extractPoints(c);let k=R.shape;const V=R.holes;if(!va.isClockWise(k)){k=k.reverse();for(let pe=0,ge=V.length;pe<ge;pe++){const Ce=V[pe];va.isClockWise(Ce)&&(V[pe]=Ce.reverse())}}const F=va.triangulateShape(k,V),J=k;for(let pe=0,ge=V.length;pe<ge;pe++){const Ce=V[pe];k=k.concat(Ce)}function q(pe,ge,Ce){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),pe.clone().addScaledVector(ge,Ce)}const se=k.length,ue=F.length;function H(pe,ge,Ce){let We,ke,Ge;const Ye=pe.x-ge.x,et=pe.y-ge.y,gt=Ce.x-pe.x,Mt=Ce.y-pe.y,K=Ye*Ye+et*et,B=Ye*Mt-et*gt;if(Math.abs(B)>Number.EPSILON){const fe=Math.sqrt(K),De=Math.sqrt(gt*gt+Mt*Mt),Ne=ge.x-et/fe,He=ge.y+Ye/fe,ot=Ce.x-Mt/De,je=Ce.y+gt/De,we=((ot-Ne)*Mt-(je-He)*gt)/(Ye*Mt-et*gt);We=Ne+Ye*we-pe.x,ke=He+et*we-pe.y;const ct=We*We+ke*ke;if(ct<=2)return new be(We,ke);Ge=Math.sqrt(ct/2)}else{let fe=!1;Ye>Number.EPSILON?gt>Number.EPSILON&&(fe=!0):Ye<-Number.EPSILON?gt<-Number.EPSILON&&(fe=!0):Math.sign(et)===Math.sign(Mt)&&(fe=!0),fe?(We=-et,ke=Ye,Ge=Math.sqrt(K)):(We=Ye,ke=et,Ge=Math.sqrt(K/2))}return new be(We/Ge,ke/Ge)}const j=[];for(let pe=0,ge=J.length,Ce=ge-1,We=pe+1;pe<ge;pe++,Ce++,We++)Ce===ge&&(Ce=0),We===ge&&(We=0),j[pe]=H(J[pe],J[Ce],J[We]);const O=[];let oe,z=j.concat();for(let pe=0,ge=V.length;pe<ge;pe++){const Ce=V[pe];oe=[];for(let We=0,ke=Ce.length,Ge=ke-1,Ye=We+1;We<ke;We++,Ge++,Ye++)Ge===ke&&(Ge=0),Ye===ke&&(Ye=0),oe[We]=H(Ce[We],Ce[Ge],Ce[Ye]);O.push(oe),z=z.concat(oe)}for(let pe=0;pe<v;pe++){const ge=pe/v,Ce=m*Math.cos(ge*Math.PI/2),We=y*Math.sin(ge*Math.PI/2)+g;for(let ke=0,Ge=J.length;ke<Ge;ke++){const Ye=q(J[ke],j[ke],We);Te(Ye.x,Ye.y,-Ce)}for(let ke=0,Ge=V.length;ke<Ge;ke++){const Ye=V[ke];oe=O[ke];for(let et=0,gt=Ye.length;et<gt;et++){const Mt=q(Ye[et],oe[et],We);Te(Mt.x,Mt.y,-Ce)}}}const Q=y+g;for(let pe=0;pe<se;pe++){const ge=p?q(k[pe],z[pe],Q):k[pe];A?(L.copy(T.normals[0]).multiplyScalar(ge.x),P.copy(T.binormals[0]).multiplyScalar(ge.y),M.copy(w[0]).add(L).add(P),Te(M.x,M.y,M.z)):Te(ge.x,ge.y,0)}for(let pe=1;pe<=u;pe++)for(let ge=0;ge<se;ge++){const Ce=p?q(k[ge],z[ge],Q):k[ge];A?(L.copy(T.normals[pe]).multiplyScalar(Ce.x),P.copy(T.binormals[pe]).multiplyScalar(Ce.y),M.copy(w[pe]).add(L).add(P),Te(M.x,M.y,M.z)):Te(Ce.x,Ce.y,d/u*pe)}for(let pe=v-1;pe>=0;pe--){const ge=pe/v,Ce=m*Math.cos(ge*Math.PI/2),We=y*Math.sin(ge*Math.PI/2)+g;for(let ke=0,Ge=J.length;ke<Ge;ke++){const Ye=q(J[ke],j[ke],We);Te(Ye.x,Ye.y,d+Ce)}for(let ke=0,Ge=V.length;ke<Ge;ke++){const Ye=V[ke];oe=O[ke];for(let et=0,gt=Ye.length;et<gt;et++){const Mt=q(Ye[et],oe[et],We);A?Te(Mt.x,Mt.y+w[u-1].y,w[u-1].x+Ce):Te(Mt.x,Mt.y,d+Ce)}}}de(),Z();function de(){const pe=i.length/3;if(p){let ge=0,Ce=se*ge;for(let We=0;We<ue;We++){const ke=F[We];Be(ke[2]+Ce,ke[1]+Ce,ke[0]+Ce)}ge=u+v*2,Ce=se*ge;for(let We=0;We<ue;We++){const ke=F[We];Be(ke[0]+Ce,ke[1]+Ce,ke[2]+Ce)}}else{for(let ge=0;ge<ue;ge++){const Ce=F[ge];Be(Ce[2],Ce[1],Ce[0])}for(let ge=0;ge<ue;ge++){const Ce=F[ge];Be(Ce[0]+se*u,Ce[1]+se*u,Ce[2]+se*u)}}r.addGroup(pe,i.length/3-pe,0)}function Z(){const pe=i.length/3;let ge=0;Ae(J,ge),ge+=J.length;for(let Ce=0,We=V.length;Ce<We;Ce++){const ke=V[Ce];Ae(ke,ge),ge+=ke.length}r.addGroup(pe,i.length/3-pe,1)}function Ae(pe,ge){let Ce=pe.length;for(;--Ce>=0;){const We=Ce;let ke=Ce-1;ke<0&&(ke=pe.length-1);for(let Ge=0,Ye=u+v*2;Ge<Ye;Ge++){const et=se*Ge,gt=se*(Ge+1),Mt=ge+We+et,K=ge+ke+et,B=ge+ke+gt,fe=ge+We+gt;Ve(Mt,K,B,fe)}}}function Te(pe,ge,Ce){l.push(pe),l.push(ge),l.push(Ce)}function Be(pe,ge,Ce){Re(pe),Re(ge),Re(Ce);const We=i.length/3,ke=_.generateTopUV(r,i,We-3,We-2,We-1);Pe(ke[0]),Pe(ke[1]),Pe(ke[2])}function Ve(pe,ge,Ce,We){Re(pe),Re(ge),Re(We),Re(ge),Re(Ce),Re(We);const ke=i.length/3,Ge=_.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);Pe(Ge[0]),Pe(Ge[1]),Pe(Ge[3]),Pe(Ge[1]),Pe(Ge[2]),Pe(Ge[3])}function Re(pe){i.push(l[pe*3+0]),i.push(l[pe*3+1]),i.push(l[pe*3+2])}function Pe(pe){s.push(pe.x),s.push(pe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return rse(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new rR[i.type]().fromJSON(i)),new n0(r,e.options)}}const nse={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new be(s,o),new be(a,l),new be(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],g=e[s*3],v=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new be(o,1-l),new be(c,1-d),new be(p,1-y),new be(g,1-x)]:[new be(a,1-l),new be(u,1-d),new be(m,1-y),new be(v,1-x)]}};function rse(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class r0 extends Tl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new r0(e.radius,e.detail)}}class xp extends Tl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xp(e.radius,e.detail)}}class i0 extends St{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/i,m=new N,y=new be;for(let g=0;g<=i;g++){for(let v=0;v<=r;v++){const x=s+v/r*o;m.x=d*Math.cos(x),m.y=d*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,u.push(y.x,y.y)}d+=p}for(let g=0;g<i;g++){const v=g*(r+1);for(let x=0;x<r;x++){const _=x+v,w=_,A=_+r+1,T=_+r+2,P=_+1;a.push(w,A,P),a.push(A,T,P)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(c,3)),this.setAttribute("uv",new Qe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i0(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class s0 extends St{constructor(e=new ld([new be(0,.5),new be(-.5,-.5),new be(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qe(i,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function c(u){const d=i.length/3,p=u.extractPoints(t);let m=p.shape;const y=p.holes;va.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,x=y.length;v<x;v++){const _=y[v];va.isClockWise(_)===!0&&(y[v]=_.reverse())}const g=va.triangulateShape(m,y);for(let v=0,x=y.length;v<x;v++){const _=y[v];m=m.concat(_)}for(let v=0,x=m.length;v<x;v++){const _=m[v];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let v=0,x=g.length;v<x;v++){const _=g[v],w=_[0]+d,A=_[1]+d,T=_[2]+d;r.push(w,A,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ise(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new s0(r,e.curveSegments)}}function ise(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class _p extends St{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new N,p=new N,m=[],y=[],g=[],v=[];for(let x=0;x<=r;x++){const _=[],w=x/r;let A=0;x==0&&o==0?A=.5/t:x==r&&l==Math.PI&&(A=-.5/t);for(let T=0;T<=t;T++){const P=T/t;d.x=-e*Math.cos(i+P*s)*Math.sin(o+w*a),d.y=e*Math.cos(o+w*a),d.z=e*Math.sin(i+P*s)*Math.sin(o+w*a),y.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),v.push(P+A,1-w),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const w=u[x][_+1],A=u[x][_],T=u[x+1][_],P=u[x+1][_+1];(x!==0||o>0)&&m.push(w,A,P),(x!==r-1||l<Math.PI)&&m.push(A,T,P)}this.setIndex(m),this.setAttribute("position",new Qe(y,3)),this.setAttribute("normal",new Qe(g,3)),this.setAttribute("uv",new Qe(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class o0 extends Tl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new o0(e.radius,e.detail)}}class a0 extends St{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new N,d=new N,p=new N;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const g=y/i*s,v=m/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(g),d.y=(e+t*Math.cos(v))*Math.sin(g),d.z=t*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const g=(i+1)*m+y-1,v=(i+1)*(m-1)+y-1,x=(i+1)*(m-1)+y,_=(i+1)*m+y;o.push(g,v,_),o.push(v,x,_)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a0(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class l0 extends St{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new N,p=new N,m=new N,y=new N,g=new N,v=new N,x=new N;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;_(A,s,o,e,m),_(A+.01,s,o,e,y),v.subVectors(y,m),x.addVectors(y,m),g.crossVectors(v,x),x.crossVectors(g,v),g.normalize(),x.normalize();for(let T=0;T<=i;++T){const P=T/i*Math.PI*2,L=-t*Math.cos(P),M=t*Math.sin(P);d.x=m.x+(L*x.x+M*g.x),d.y=m.y+(L*x.y+M*g.y),d.z=m.z+(L*x.z+M*g.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(w/r),u.push(T/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const T=(i+1)*(w-1)+(A-1),P=(i+1)*w+(A-1),L=(i+1)*w+A,M=(i+1)*(w-1)+A;a.push(T,P,M),a.push(P,L,M)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(c,3)),this.setAttribute("uv",new Qe(u,2));function _(w,A,T,P,L){const M=Math.cos(w),R=Math.sin(w),k=T/A*w,V=Math.cos(k);L.x=P*(2+V)*.5*M,L.y=P*(2+V)*R*.5,L.z=P*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l0(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class c0 extends St{constructor(e=new tR(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,c=new be;let u=new N;const d=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function g(){for(let w=0;w<t;w++)v(w);v(s===!1?t:0),_(),x()}function v(w){u=e.getPointAt(w/t,u);const A=o.normals[w],T=o.binormals[w];for(let P=0;P<=i;P++){const L=P/i*Math.PI*2,M=Math.sin(L),R=-Math.cos(L);l.x=R*A.x+M*T.x,l.y=R*A.y+M*T.y,l.z=R*A.z+M*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const T=(i+1)*(w-1)+(A-1),P=(i+1)*w+(A-1),L=(i+1)*w+A,M=(i+1)*(w-1)+A;y.push(T,P,M),y.push(P,L,M)}}function _(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new c0(new rR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class IV extends St{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let y=p,g=p+m;y<g;y+=3)for(let v=0;v<3;v++){const x=a.getX(y+v),_=a.getX(y+(v+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),GO(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),GO(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function GO(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var VO=Object.freeze({__proto__:null,BoxGeometry:qc,CapsuleGeometry:Qy,CircleGeometry:Zy,ConeGeometry:e0,CylinderGeometry:Bd,DodecahedronGeometry:t0,EdgesGeometry:MV,ExtrudeGeometry:n0,IcosahedronGeometry:r0,LatheGeometry:vp,OctahedronGeometry:xp,PlaneGeometry:mp,PolyhedronGeometry:Tl,RingGeometry:i0,ShapeGeometry:s0,SphereGeometry:_p,TetrahedronGeometry:o0,TorusGeometry:a0,TorusKnotGeometry:l0,TubeGeometry:c0,WireframeGeometry:IV});class RV extends Ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ue(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class LV extends Ea{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Sp extends Ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ue(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pl extends Sp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ue(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ue(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ue(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class dg extends Ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ue(16777215),this.specular=new Ue(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kV extends Ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ue(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DV extends Ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iR extends Ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ue(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ue(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ky,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BV extends Ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ue(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=El,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class OV extends di{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function so(n,e,t){return sR(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ju(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function sR(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function NV(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function XT(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function oR(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function sse(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*i;if(!(y<t||y>=r)){d.push(c.times[m]);for(let g=0;g<u;++g)p.push(c.values[m*u+g])}}d.length!==0&&(c.times=Ju(d,c.times.constructor),c.values=Ju(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function ose(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const x=u,_=d-u;g=so(a.values,x,_)}else if(s>=a.times[y]){const x=y*d+u,_=x+d-u;g=so(a.values,x,_)}else{const x=a.createInterpolant(),_=u,w=d-u;x.evaluate(s),g=so(x.resultBuffer,_,w)}l==="quaternion"&&new xr().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let x=0;x<v;++x){const _=x*m+p;if(l==="quaternion")xr.multiplyQuaternionsFlat(c.values,_,g,0,c.values,_);else{const w=m-p*2;for(let A=0;A<w;++A)c.values[_+A]-=g[A]}}}return n.blendMode=BI,n}const ase={arraySlice:so,convertArray:Ju,isTypedArray:sR,getKeyframeOrder:NV,sortedArray:XT,flattenJSON:oR,subclip:sse,makeClipAdditive:ose};class wp{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class FV extends wp{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ju,endingEnd:ju}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ku:s=e,a=2*t-r;break;case Yg:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ku:o=e,l=2*r-t;break;case Yg:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),g=y*y,v=g*y,x=-p*v+2*p*g-p*y,_=(1+p)*v+(-1.5-2*p)*g+(-.5+p)*y+1,w=(-1-m)*v+(1.5+m)*g+.5*y,A=m*v-m*g;for(let T=0;T!==a;++T)s[T]=x*o[u+T]+_*o[c+T]+w*o[l+T]+A*o[d+T];return s}}class aR extends wp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class zV extends wp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class qo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ju(t,this.TimeBufferType),this.values=Ju(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ju(e.times,Array),values:Ju(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new zV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new aR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new FV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $f:t=this.InterpolantFactoryMethodDiscrete;break;case _d:t=this.InterpolantFactoryMethodLinear;break;case x1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $f;case this.InterpolantFactoryMethodLinear:return _d;case this.InterpolantFactoryMethodSmooth:return x1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=so(r,s,o),this.values=so(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&sR(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=so(this.times),t=so(this.values),r=this.getValueSize(),i=this.getInterpolation()===x1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let y=0;y!==r;++y){const g=t[d+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=so(e,0,o),this.values=so(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=so(this.times,0),t=so(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}qo.prototype.TimeBufferType=Float32Array;qo.prototype.ValueBufferType=Float32Array;qo.prototype.DefaultInterpolation=_d;class Od extends qo{}Od.prototype.ValueTypeName="bool";Od.prototype.ValueBufferType=Array;Od.prototype.DefaultInterpolation=$f;Od.prototype.InterpolantFactoryMethodLinear=void 0;Od.prototype.InterpolantFactoryMethodSmooth=void 0;class lR extends qo{}lR.prototype.ValueTypeName="color";class wd extends qo{}wd.prototype.ValueTypeName="number";class UV extends wp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)xr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class yl extends qo{InterpolantFactoryMethodLinear(e){return new UV(this.times,this.values,this.getValueSize(),e)}}yl.prototype.ValueTypeName="quaternion";yl.prototype.DefaultInterpolation=_d;yl.prototype.InterpolantFactoryMethodSmooth=void 0;class Nd extends qo{}Nd.prototype.ValueTypeName="string";Nd.prototype.ValueBufferType=Array;Nd.prototype.DefaultInterpolation=$f;Nd.prototype.InterpolantFactoryMethodLinear=void 0;Nd.prototype.InterpolantFactoryMethodSmooth=void 0;class bd extends qo{}bd.prototype.ValueTypeName="vector";class Ad{constructor(e,t=-1,r,i=GS){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ks(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(cse(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(qo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=NV(l);l=XT(l,1,u),c=XT(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new wd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,y,g){if(m.length!==0){const v=[],x=[];oR(m,v,x,y),v.length!==0&&g.push(new d(p,v,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const v=[],x=[];for(let _=0;_!==p[y].morphTargets.length;++_){const w=p[y];v.push(w.time),x.push(w.morphTarget===g?1:0)}i.push(new wd(".morphTargetInfluence["+g+"]",v,x))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(bd,m+".position",p,"pos",i),r(yl,m+".quaternion",p,"rot",i),r(bd,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function lse(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wd;case"vector":case"vector2":case"vector3":case"vector4":return bd;case"color":return lR;case"quaternion":return yl;case"bool":case"boolean":return Od;case"string":return Nd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function cse(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=lse(n.type);if(n.times===void 0){const t=[],r=[];oR(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Cd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class cR{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],y=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const ef=new cR;class Di{constructor(e){this.manager=e!==void 0?e:ef,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Va={};class use extends Error{constructor(e,t){super(e),this.response=t}}class us extends Di{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Cd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Va[e]!==void 0){Va[e].push({onLoad:t,onProgress:r,onError:i});return}Va[e]=[],Va[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Va[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let g=0;const v=new ReadableStream({start(x){_();function _(){d.read().then(({done:w,value:A})=>{if(w)x.close();else{g+=A.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let P=0,L=u.length;P<L;P++){const M=u[P];M.onProgress&&M.onProgress(T)}x.enqueue(A),_()}})}}});return new Response(v)}else throw new use(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{Cd.add(e,c);const u=Va[e];delete Va[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Va[e];if(u===void 0)throw this.manager.itemError(e),c;delete Va[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class dse extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new us(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Ad.parse(e[r]);t.push(i)}return t}}class hse extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new YI,l=new us(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=tr),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=tr),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class sy extends Di{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ey("img");function l(){u(),Cd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class fse extends Di{constructor(e){super(e)}load(e,t,r,i){const s=new qy,o=new sy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class pse extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new yf,a=new us(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Dr,o.wrapT=c.wrapT!==void 0?c.wrapT:Dr,o.magFilter=c.magFilter!==void 0?c.magFilter:tr,o.minFilter=c.minFilter!==void 0?c.minFilter:tr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ma),c.mipmapCount===1&&(o.minFilter=tr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class bp extends Di{constructor(e){super(e)}load(e,t,r,i){const s=new Rn,o=new sy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Yc extends Kt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ue(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class HV extends Yc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ue(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const OC=new tt,$O=new N,WO=new N;class uR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new be(512,512),this.map=null,this.mapPass=null,this.matrix=new tt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WS,this._frameExtents=new be(1,1),this._viewportCount=1,this._viewports=[new rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;$O.setFromMatrixPosition(e.matrixWorld),t.position.copy($O),WO.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(WO),t.updateMatrixWorld(),OC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(OC),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(OC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class mse extends uR{constructor(){super(new bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Zg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class tw extends Yc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new mse}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jO=new tt,Am=new N,NC=new N;class gse extends uR{constructor(){super(new bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new be(4,2),this._viewportCount=6,this._viewports=[new rn(2,1,1,1),new rn(0,1,1,1),new rn(3,1,1,1),new rn(1,1,1,1),new rn(3,0,1,1),new rn(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Am.setFromMatrixPosition(e.matrixWorld),r.position.copy(Am),NC.copy(r.position),NC.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(NC),r.updateMatrixWorld(),i.makeTranslation(-Am.x,-Am.y,-Am.z),jO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jO)}}class oy extends Yc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new gse}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yse extends uR{constructor(){super(new po(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nw extends Yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.shadow=new yse}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dR extends Yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class GV extends Yc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class VV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class rw extends Yc{constructor(e=new VV,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class iw extends Di{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new us(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=iw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ue().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ue().setHex(o.value);break;case"v2":i.uniforms[s].value=new be().fromArray(o.value);break;case"v3":i.uniforms[s].value=new N().fromArray(o.value);break;case"v4":i.uniforms[s].value=new rn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new qr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new tt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new be().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new be().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:RV,SpriteMaterial:XI,RawShaderMaterial:LV,ShaderMaterial:Ea,PointsMaterial:YS,MeshPhysicalMaterial:Pl,MeshStandardMaterial:Sp,MeshPhongMaterial:dg,MeshToonMaterial:kV,MeshNormalMaterial:DV,MeshLambertMaterial:iR,MeshDepthMaterial:WI,MeshDistanceMaterial:jI,MeshBasicMaterial:Is,MeshMatcapMaterial:BV,LineDashedMaterial:OV,LineBasicMaterial:di,Material:Ir};return new t[e]}}class Ds{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $V extends St{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class WV extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new us(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const v=m.interleavedBuffers[y],x=s(m,v.buffer),_=Yh(v.type,x),w=new Yy(_,v.stride);return w.uuid=v.uuid,t[y]=w,w}function s(m,y){if(r[y]!==void 0)return r[y];const v=m.arrayBuffers[y],x=new Uint32Array(v).buffer;return r[y]=x,x}const o=e.isInstancedBufferGeometry?new $V:new St,a=e.data.index;if(a!==void 0){const m=Yh(a.type,a.array);o.setIndex(new fn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);g=new Fc(v,y.itemSize,y.offset,y.normalized)}else{const v=Yh(y.type,y.array),x=y.isInstancedBufferAttribute?Xf:fn;g=new x(v,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],g=[];for(let v=0,x=y.length;v<x;v++){const _=y[v];let w;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);w=new Fc(A,_.itemSize,_.offset,_.normalized)}else{const A=Yh(_.type,_.array);w=new fn(A,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),g.push(w)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,y=d.length;m!==y;++m){const g=d[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Jc(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class vse extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ds.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new us(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ds.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new us(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ld().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new yp().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new WV;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in VO?a=VO[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new iw;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Ad.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Yh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new cR(t);s=new sy(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const v=p[y],x=a(v);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new yf(x.data,x.width,x.height)))}i[d.uuid]=new Xu(m)}else{const m=a(d.url);i[d.uuid]=new Xu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Yh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new sy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new yf(y.data,y.width,y.height)))}r[l.uuid]=new Xu(u)}else{const u=await s(l.url);r[l.uuid]=new Xu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new qy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new yf:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,xse)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],KO),u.wrapT=r(a.wrap[1],KO)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,XO)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,XO)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const v=p[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,d;switch(e.type){case"Scene":o=new KI,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ue(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new JS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new XS(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new bn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new po(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new dR(e.color,e.intensity);break;case"DirectionalLight":o=new nw(e.color,e.intensity);break;case"PointLight":o=new oy(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new GV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new tw(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new HV(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new rw().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new qS(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Pr(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new _V(u,d,p),o.instanceMatrix=new Xf(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Xf(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new xV;break;case"Line":o=new Ta(a(e.geometry),l(e.material));break;case"LineLoop":o=new JI(a(e.geometry),l(e.material));break;case"LineSegments":o=new Jo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new qI(a(e.geometry),l(e.material));break;case"Sprite":o=new vV(l(e.material));break;case"Group":o=new Uo;break;case"Bone":o=new Kf;break;default:o=new Kt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const xse={UVMapping:US,CubeReflectionMapping:Oc,CubeRefractionMapping:Nc,EquirectangularReflectionMapping:Hf,EquirectangularRefractionMapping:Jg,CubeUVReflectionMapping:pp},KO={RepeatWrapping:Ca,ClampToEdgeWrapping:Dr,MirroredRepeatWrapping:Gf},XO={NearestFilter:dr,NearestMipmapNearestFilter:qg,NearestMipmapLinearFilter:mf,LinearFilter:tr,LinearMipmapNearestFilter:HS,LinearMipmapLinearFilter:Ma};class jV extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cd.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Cd.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Ax;class hR{static getContext(){return Ax===void 0&&(Ax=new(window.AudioContext||window.webkitAudioContext)),Ax}static setContext(e){Ax=e}}class _se extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new us(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);hR.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class Sse extends rw{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Ue().set(e),s=new Ue().set(t),o=new N(i.r,i.g,i.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class wse extends rw{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ue().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const JO=new tt,qO=new tt,Su=new tt;class bse{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new bn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new bn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Su.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(od*t.fov*.5)/t.zoom;let a,l;qO.elements[12]=-i,JO.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Su.elements[0]=2*t.near/(l-a),Su.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Su),a=-o*t.aspect-s,l=o*t.aspect-s,Su.elements[0]=2*t.near/(l-a),Su.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Su)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(qO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JO)}}class fR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=YO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=YO();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function YO(){return(typeof performance>"u"?Date:performance).now()}const wu=new N,QO=new xr,Ase=new N,bu=new N;class Cse extends Kt{constructor(){super(),this.type="AudioListener",this.context=hR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wu,QO,Ase),bu.set(0,0,-1).applyQuaternion(QO),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wu.x,i),t.positionY.linearRampToValueAtTime(wu.y,i),t.positionZ.linearRampToValueAtTime(wu.z,i),t.forwardX.linearRampToValueAtTime(bu.x,i),t.forwardY.linearRampToValueAtTime(bu.y,i),t.forwardZ.linearRampToValueAtTime(bu.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(wu.x,wu.y,wu.z),t.setOrientation(bu.x,bu.y,bu.z,r.x,r.y,r.z)}}class KV extends Kt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Au=new N,ZO=new xr,Mse=new N,Cu=new N;class Ese extends KV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Au,ZO,Mse),Cu.set(0,0,1).applyQuaternion(ZO);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Au.x,r),t.positionY.linearRampToValueAtTime(Au.y,r),t.positionZ.linearRampToValueAtTime(Au.z,r),t.orientationX.linearRampToValueAtTime(Cu.x,r),t.orientationY.linearRampToValueAtTime(Cu.y,r),t.orientationZ.linearRampToValueAtTime(Cu.z,r)}else t.setPosition(Au.x,Au.y,Au.z),t.setOrientation(Cu.x,Cu.y,Cu.z)}}class Tse{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class XV{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){xr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;xr.multiplyQuaternionsFlat(e,o,e,t,e,r),xr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const pR="\\[\\]\\.:\\/",Pse=new RegExp("["+pR+"]","g"),mR="[^"+pR+"]",Ise="[^"+pR.replace("\\.","")+"]",Rse=/((?:WC+[\/:])*)/.source.replace("WC",mR),Lse=/(WCOD+)?/.source.replace("WCOD",Ise),kse=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mR),Dse=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mR),Bse=new RegExp("^"+Rse+Lse+kse+Dse+"$"),Ose=["material","materials","bones","map"];class Nse{constructor(e,t,r){const i=r||Ht.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Ht{constructor(e,t,r){this.path=t,this.parsedPath=r||Ht.parseTrackName(t),this.node=Ht.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ht.Composite(e,t,r):new Ht(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Pse,"")}static parseTrackName(e){const t=Bse.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Ose.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Ht.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ht.Composite=Nse;Ht.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ht.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ht.prototype.GetterByBindingType=[Ht.prototype._getValue_direct,Ht.prototype._getValue_array,Ht.prototype._getValue_arrayElement,Ht.prototype._getValue_toArray];Ht.prototype.SetterByBindingTypeAndVersioning=[[Ht.prototype._setValue_direct,Ht.prototype._setValue_direct_setNeedsUpdate,Ht.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_array,Ht.prototype._setValue_array_setNeedsUpdate,Ht.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_arrayElement,Ht.prototype._setValue_arrayElement_setNeedsUpdate,Ht.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_fromArray,Ht.prototype._setValue_fromArray_setNeedsUpdate,Ht.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Fse{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ks(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,v=o;g!==v;++g)s[g].push(new Ht(p,r[g],i[g]))}else if(y<c){a=e[y];const g=--c,v=e[g];t[v.uuid]=y,e[y]=v,t[m]=g,e[g]=p;for(let x=0,_=o;x!==_;++x){const w=s[x],A=w[g];let T=w[y];w[y]=A,T===void 0&&(T=new Ht(p,r[x],i[x])),w[g]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,y=i;m!==y;++m){const g=r[m],v=g[d],x=g[u];g[u]=v,g[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=d,e[d]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let v=0,x=i;v!==x;++v){const _=r[v],w=_[p],A=_[y];_[d]=w,_[p]=A,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let y=0,g=i;y!==g;++y){const v=r[y];v[d]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const y=l[p];d[p]=new Ht(y,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class zse{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ju,endingEnd:ju};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case BI:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case GS:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===qG;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===XG){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ku,i.endingEnd=Ku):(e?i.endingStart=this.zeroSlopeAtStart?Ku:ju:i.endingStart=Yg,t?i.endingEnd=this.zeroSlopeAtEnd?Ku:ju:i.endingEnd=Yg)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Use=new Float32Array(1);class Hse extends Ra{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[d]=y;else{if(y=o[d],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[d].binding.parsedPath;y=new XV(Ht.create(r,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[d]=y}a[d].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new aR(new Float32Array(2),new Float32Array(2),1,Use),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Ad.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=GS),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new zse(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Ad.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class gR{constructor(e){this.value=e}clone(){return new gR(this.value.clone===void 0?this.value:this.value.clone())}}let Gse=0;class Vse extends Ra{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Gse++}),this.name="",this.usage=Qg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class $se extends Yy{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Wse{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class JV{constructor(e,t,r=0,i=1/0){this.ray=new Xy(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new ad,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return JT(e,this,r,t),r.sort(eN),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)JT(e[i],this,r,t);return r.sort(eN),r}}function eN(n,e){return n.distance-e.distance}function JT(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)JT(i[s],e,t,!0)}}class qT{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(vr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jse{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const tN=new be;class Kse{constructor(e=new be(1/0,1/0),t=new be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=tN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nN=new N,Cx=new N;class Xse{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nN.subVectors(e,this.start),Cx.subVectors(this.end,this.start);const r=Cx.dot(Cx);let s=Cx.dot(nN)/r;return t&&(s=vr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rN=new N;class Jse extends Kt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new St,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Qe(i,3));const s=new di({fog:!1,toneMapped:!1});this.cone=new Jo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const jl=new N,Mx=new tt,FC=new tt;class qse extends Jo{constructor(e){const t=qV(e),r=new St,i=[],s=[],o=new Ue(0,0,1),a=new Ue(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Qe(i,3)),r.setAttribute("color",new Qe(s,3));const l=new di({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");FC.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Mx.multiplyMatrices(FC,a.matrixWorld),jl.setFromMatrixPosition(Mx),i.setXYZ(o,jl.x,jl.y,jl.z),Mx.multiplyMatrices(FC,a.parent.matrixWorld),jl.setFromMatrixPosition(Mx),i.setXYZ(o+1,jl.x,jl.y,jl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function qV(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,qV(n.children[t]));return e}class Yse extends Pr{constructor(e,t,r){const i=new _p(t,4,2),s=new Is({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Qse=new N,iN=new Ue,sN=new Ue;class Zse extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new xp(t);i.rotateY(Math.PI*.5),this.material=new Is({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new fn(o,3)),this.add(new Pr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");iN.copy(this.light.color),sN.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?iN:sN;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Qse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class eoe extends Jo{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ue(r),i=new Ue(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?r:i;g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3,g.toArray(c,m),m+=3}const u=new St;u.setAttribute("position",new Qe(l,3)),u.setAttribute("color",new Qe(c,3));const d=new di({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class toe extends Jo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ue(s),o=new Ue(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=d&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let y=0;y<i;y++){let g=y/i*(Math.PI*2),v=Math.sin(g)*m,x=Math.cos(g)*m;a.push(v,0,x),l.push(p.r,p.g,p.b),g=(y+1)/i*(Math.PI*2),v=Math.sin(g)*m,x=Math.cos(g)*m,a.push(v,0,x),l.push(p.r,p.g,p.b)}}const c=new St;c.setAttribute("position",new Qe(a,3)),c.setAttribute("color",new Qe(l,3));const u=new di({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oN=new N,Ex=new N,aN=new N;class noe extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new St;i.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new di({fog:!1,toneMapped:!1});this.lightPlane=new Ta(i,s),this.add(this.lightPlane),i=new St,i.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new Ta(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oN.setFromMatrixPosition(this.light.matrixWorld),Ex.setFromMatrixPosition(this.light.target.matrixWorld),aN.subVectors(Ex,oN),this.lightPlane.lookAt(Ex),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ex),this.targetLine.scale.z=aN.length()}}const Tx=new N,cr=new Jy;class roe extends Jo{constructor(e){const t=new St,r=new di({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,g){l(y),l(g)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new Qe(i,3)),t.setAttribute("color",new Qe(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ue(16755200),u=new Ue(16711680),d=new Ue(43775),p=new Ue(16777215),m=new Ue(3355443);this.setColors(c,u,d,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mr("c",t,e,cr,0,0,-1),mr("t",t,e,cr,0,0,1),mr("n1",t,e,cr,-r,-i,-1),mr("n2",t,e,cr,r,-i,-1),mr("n3",t,e,cr,-r,i,-1),mr("n4",t,e,cr,r,i,-1),mr("f1",t,e,cr,-r,-i,1),mr("f2",t,e,cr,r,-i,1),mr("f3",t,e,cr,-r,i,1),mr("f4",t,e,cr,r,i,1),mr("u1",t,e,cr,r*.7,i*1.1,-1),mr("u2",t,e,cr,-r*.7,i*1.1,-1),mr("u3",t,e,cr,0,i*2,-1),mr("cf1",t,e,cr,-r,0,1),mr("cf2",t,e,cr,r,0,1),mr("cf3",t,e,cr,0,-i,1),mr("cf4",t,e,cr,0,i,1),mr("cn1",t,e,cr,-r,0,-1),mr("cn2",t,e,cr,r,0,-1),mr("cn3",t,e,cr,0,-i,-1),mr("cn4",t,e,cr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mr(n,e,t,r,i,s,o){Tx.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Tx.x,Tx.y,Tx.z)}}const Px=new Xc;class ioe extends Jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new St;s.setIndex(new fn(r,1)),s.setAttribute("position",new fn(i,3)),super(s,new di({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Px.setFromObject(this.object),Px.isEmpty())return;const t=Px.min,r=Px.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class soe extends Jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new St;s.setIndex(new fn(r,1)),s.setAttribute("position",new Qe(i,3)),super(s,new di({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ooe extends Ta{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new St;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere(),super(o,new di({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new St;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new Pr(l,new Is({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lN=new N;let Ix,zC;class aoe extends Kt{constructor(e=new N(0,0,1),t=new N(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Ix===void 0&&(Ix=new St,Ix.setAttribute("position",new Qe([0,0,0,0,1,0],3)),zC=new Bd(0,.5,1,5,1),zC.translate(0,-.5,0)),this.position.copy(t),this.line=new Ta(Ix,new di({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Pr(zC,new Is({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lN,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class loe extends Jo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new St;i.setAttribute("position",new Qe(t,3)),i.setAttribute("color",new Qe(r,3));const s=new di({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new Ue,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class coe{constructor(){this.type="ShapePath",this.color=new Ue,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ty,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let w=0,A=x.length;w<A;w++){const T=x[w],P=new ld;P.curves=T.curves,_.push(P)}return _}function r(x,_){const w=_.length;let A=!1;for(let T=w-1,P=0;P<w;T=P++){let L=_[T],M=_[P],R=M.x-L.x,k=M.y-L.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(L=_[P],R=-R,M=_[T],k=-k),x.y<L.y||x.y>M.y)continue;if(x.y===L.y){if(x.x===L.x)return!0}else{const V=k*(x.x-L.x)-R*(x.y-L.y);if(V===0)return!0;if(V<0)continue;A=!A}}else{if(x.y!==L.y)continue;if(M.x<=x.x&&x.x<=L.x||L.x<=x.x&&x.x<=M.x)return!0}}return A}const i=va.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ld,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],y=0,g;p[y]=void 0,m[y]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new ld,p:g},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:g[0]});if(!p[0])return t(s);if(p.length>1){let x=!1,_=0;for(let w=0,A=p.length;w<A;w++)d[w]=[];for(let w=0,A=p.length;w<A;w++){const T=m[w];for(let P=0;P<T.length;P++){const L=T[P];let M=!0;for(let R=0;R<p.length;R++)r(L.p,p[R].p)&&(w!==R&&_++,M?(M=!1,d[R].push(L)):x=!0);M&&d[w].push(L)}}_>0&&x===!1&&(m=d)}let v;for(let x=0,_=p.length;x<_;x++){l=p[x].s,c.push(l),v=m[x];for(let w=0,A=v.length;w<A;w++)l.holes.push(v[w].h)}return c}}const Xa=uoe();function uoe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function doe(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=vr(n,-65504,65504),Xa.floatView[0]=n;const e=Xa.uint32View[0],t=e>>23&511;return Xa.baseTable[t]+((e&8388607)>>Xa.shiftTable[t])}function hoe(n){const e=n>>10;return Xa.uint32View[0]=Xa.mantissaTable[Xa.offsetTable[e]+(n&1023)]+Xa.exponentTable[e],Xa.floatView[0]}const foe={toHalfFloat:doe,fromHalfFloat:hoe};class poe extends qc{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class moe extends Qy{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class goe extends Zy{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class yoe extends e0{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class voe extends Bd{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class xoe extends t0{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class _oe extends n0{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Soe extends r0{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class woe extends vp{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class boe extends xp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Aoe extends mp{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class Coe extends Tl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Moe extends i0{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class Eoe extends s0{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Toe extends _p{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Poe extends o0{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Ioe extends a0{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Roe extends l0{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Loe extends c0{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:FS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=FS);const YT=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:kI,AddEquation:Fu,AddOperation:TG,AdditiveAnimationBlendMode:BI,AdditiveBlending:fT,AlphaFormat:FG,AlwaysDepth:SG,AlwaysStencilFunc:tV,AmbientLight:dR,AmbientLightProbe:wse,AnimationClip:Ad,AnimationLoader:dse,AnimationMixer:Hse,AnimationObjectGroup:Fse,AnimationUtils:ase,ArcCurve:SV,ArrayCamera:pV,ArrowHelper:aoe,Audio:KV,AudioAnalyser:Tse,AudioContext:hR,AudioListener:Cse,AudioLoader:_se,AxesHelper:loe,BackSide:cs,BasicDepthPacking:QG,BasicShadowMap:aG,Bone:Kf,BooleanKeyframeTrack:Od,Box2:Kse,Box3:Xc,Box3Helper:soe,BoxBufferGeometry:poe,BoxGeometry:qc,BoxHelper:ioe,BufferAttribute:fn,BufferGeometry:St,BufferGeometryLoader:WV,ByteType:kG,Cache:Cd,Camera:Jy,CameraHelper:roe,CanvasTexture:Rie,CapsuleBufferGeometry:moe,CapsuleGeometry:Qy,CatmullRomCurve3:wV,CineonToneMapping:RG,CircleBufferGeometry:goe,CircleGeometry:Zy,ClampToEdgeWrapping:Dr,Clock:fR,Color:Ue,ColorKeyframeTrack:lR,ColorManagement:bi,CompressedArrayTexture:Iie,CompressedTexture:YI,CompressedTextureLoader:hse,ConeBufferGeometry:yoe,ConeGeometry:e0,CubeCamera:GI,CubeReflectionMapping:Oc,CubeRefractionMapping:Nc,CubeTexture:qy,CubeTextureLoader:fse,CubeUVReflectionMapping:pp,CubicBezierCurve:ZI,CubicBezierCurve3:bV,CubicInterpolant:FV,CullFaceBack:hT,CullFaceFront:oG,CullFaceFrontBack:PQ,CullFaceNone:sG,Curve:xo,CurvePath:CV,CustomBlending:lG,CustomToneMapping:LG,CylinderBufferGeometry:voe,CylinderGeometry:Bd,Cylindrical:jse,Data3DTexture:UI,DataArrayTexture:VS,DataTexture:yf,DataTextureLoader:pse,DataUtils:foe,DecrementStencilOp:UQ,DecrementWrapStencilOp:GQ,DefaultLoadingManager:ef,DepthFormat:Cc,DepthStencilFormat:xd,DepthTexture:mV,DirectionalLight:nw,DirectionalLightHelper:noe,DiscreteInterpolant:zV,DisplayP3ColorSpace:NI,DodecahedronBufferGeometry:xoe,DodecahedronGeometry:t0,DoubleSide:zo,DstAlphaFactor:mG,DstColorFactor:yG,DynamicCopyUsage:rZ,DynamicDrawUsage:YQ,DynamicReadUsage:eZ,EdgesGeometry:MV,EllipseCurve:QS,EqualDepth:bG,EqualStencilFunc:jQ,EquirectangularReflectionMapping:Hf,EquirectangularRefractionMapping:Jg,Euler:ho,EventDispatcher:Ra,ExtrudeBufferGeometry:_oe,ExtrudeGeometry:n0,FileLoader:us,Float16BufferAttribute:VZ,Float32BufferAttribute:Qe,Float64BufferAttribute:$Z,FloatType:el,Fog:JS,FogExp2:XS,FramebufferTexture:Pie,FrontSide:Aa,Frustum:WS,GLBufferAttribute:Wse,GLSL1:sZ,GLSL3:HT,GreaterDepth:CG,GreaterEqualDepth:AG,GreaterEqualStencilFunc:qQ,GreaterStencilFunc:XQ,GridHelper:eoe,Group:Uo,HalfFloatType:Vf,HemisphereLight:HV,HemisphereLightHelper:Zse,HemisphereLightProbe:Sse,IcosahedronBufferGeometry:Soe,IcosahedronGeometry:r0,ImageBitmapLoader:jV,ImageLoader:sy,ImageUtils:zI,IncrementStencilOp:zQ,IncrementWrapStencilOp:HQ,InstancedBufferAttribute:Xf,InstancedBufferGeometry:$V,InstancedInterleavedBuffer:$se,InstancedMesh:_V,Int16BufferAttribute:HZ,Int32BufferAttribute:GZ,Int8BufferAttribute:FZ,IntType:BG,InterleavedBuffer:Yy,InterleavedBufferAttribute:Fc,Interpolant:wp,InterpolateDiscrete:$f,InterpolateLinear:_d,InterpolateSmooth:x1,InvertStencilOp:VQ,KeepStencilOp:_1,KeyframeTrack:qo,LOD:xV,LatheBufferGeometry:woe,LatheGeometry:vp,Layers:ad,LessDepth:wG,LessEqualDepth:A_,LessEqualStencilFunc:KQ,LessStencilFunc:WQ,Light:Yc,LightProbe:rw,Line:Ta,Line3:Xse,LineBasicMaterial:di,LineCurve:ZS,LineCurve3:AV,LineDashedMaterial:OV,LineLoop:JI,LineSegments:Jo,LinearEncoding:gl,LinearFilter:tr,LinearInterpolant:aR,LinearMipMapLinearFilter:DQ,LinearMipMapNearestFilter:kQ,LinearMipmapLinearFilter:Ma,LinearMipmapNearestFilter:HS,LinearSRGBColorSpace:Wf,LinearToneMapping:PG,Loader:Di,LoaderUtils:Ds,LoadingManager:cR,LoopOnce:XG,LoopPingPong:qG,LoopRepeat:JG,LuminanceAlphaFormat:UG,LuminanceFormat:zG,MOUSE:Iu,Material:Ir,MaterialLoader:iw,MathUtils:Ts,Matrix3:qr,Matrix4:tt,MaxEquation:yT,Mesh:Pr,MeshBasicMaterial:Is,MeshDepthMaterial:WI,MeshDistanceMaterial:jI,MeshLambertMaterial:iR,MeshMatcapMaterial:BV,MeshNormalMaterial:DV,MeshPhongMaterial:dg,MeshPhysicalMaterial:Pl,MeshStandardMaterial:Sp,MeshToonMaterial:kV,MinEquation:gT,MirroredRepeatWrapping:Gf,MixOperation:EG,MultiplyBlending:mT,MultiplyOperation:Ky,NearestFilter:dr,NearestMipMapLinearFilter:LQ,NearestMipMapNearestFilter:RQ,NearestMipmapLinearFilter:mf,NearestMipmapNearestFilter:qg,NeverDepth:_G,NeverStencilFunc:$Q,NoBlending:ol,NoColorSpace:OQ,NoToneMapping:Vo,NormalAnimationBlendMode:GS,NormalBlending:id,NotEqualDepth:MG,NotEqualStencilFunc:JQ,NumberKeyframeTrack:wd,Object3D:Kt,ObjectLoader:vse,ObjectSpaceNormalMap:eV,OctahedronBufferGeometry:boe,OctahedronGeometry:xp,OneFactor:hG,OneMinusDstAlphaFactor:gG,OneMinusDstColorFactor:vG,OneMinusSrcAlphaFactor:LI,OneMinusSrcColorFactor:pG,OrthographicCamera:po,PCFShadowMap:zS,PCFSoftShadowMap:ag,PMREMGenerator:VT,Path:ty,PerspectiveCamera:bn,Plane:nc,PlaneBufferGeometry:Aoe,PlaneGeometry:mp,PlaneHelper:ooe,PointLight:oy,PointLightHelper:Yse,Points:qI,PointsMaterial:YS,PolarGridHelper:toe,PolyhedronBufferGeometry:Coe,PolyhedronGeometry:Tl,PositionalAudio:Ese,PropertyBinding:Ht,PropertyMixer:XV,QuadraticBezierCurve:eR,QuadraticBezierCurve3:tR,Quaternion:xr,QuaternionKeyframeTrack:yl,QuaternionLinearInterpolant:UV,RED_GREEN_RGTC2_Format:zT,RED_RGTC1_Format:KG,REVISION:FS,RGBADepthPacking:ZG,RGBAFormat:ns,RGBAIntegerFormat:WG,RGBA_ASTC_10x10_Format:BT,RGBA_ASTC_10x5_Format:LT,RGBA_ASTC_10x6_Format:kT,RGBA_ASTC_10x8_Format:DT,RGBA_ASTC_12x10_Format:OT,RGBA_ASTC_12x12_Format:NT,RGBA_ASTC_4x4_Format:AT,RGBA_ASTC_5x4_Format:CT,RGBA_ASTC_5x5_Format:MT,RGBA_ASTC_6x5_Format:ET,RGBA_ASTC_6x6_Format:TT,RGBA_ASTC_8x5_Format:PT,RGBA_ASTC_8x6_Format:IT,RGBA_ASTC_8x8_Format:RT,RGBA_BPTC_Format:v1,RGBA_ETC2_EAC_Format:bT,RGBA_PVRTC_2BPPV1_Format:ST,RGBA_PVRTC_4BPPV1_Format:_T,RGBA_S3TC_DXT1_Format:m1,RGBA_S3TC_DXT3_Format:g1,RGBA_S3TC_DXT5_Format:y1,RGB_ETC1_Format:jG,RGB_ETC2_Format:wT,RGB_PVRTC_2BPPV1_Format:xT,RGB_PVRTC_4BPPV1_Format:vT,RGB_S3TC_DXT1_Format:p1,RGFormat:VG,RGIntegerFormat:$G,RawShaderMaterial:LV,Ray:Xy,Raycaster:JV,RectAreaLight:GV,RedFormat:HG,RedIntegerFormat:GG,ReinhardToneMapping:IG,RepeatWrapping:Ca,ReplaceStencilOp:FQ,ReverseSubtractEquation:uG,RingBufferGeometry:Moe,RingGeometry:i0,SIGNED_RED_GREEN_RGTC2_Format:UT,SIGNED_RED_RGTC1_Format:FT,SRGBColorSpace:Do,Scene:KI,ShaderChunk:Ot,ShaderLib:Oo,ShaderMaterial:Ea,ShadowMaterial:RV,Shape:ld,ShapeBufferGeometry:Eoe,ShapeGeometry:s0,ShapePath:coe,ShapeUtils:va,ShortType:DG,Skeleton:yp,SkeletonHelper:qse,SkinnedMesh:qS,Source:Xu,Sphere:Jc,SphereBufferGeometry:Toe,SphereGeometry:_p,Spherical:qT,SphericalHarmonics3:VV,SplineCurve:nR,SpotLight:tw,SpotLightHelper:Jse,Sprite:vV,SpriteMaterial:XI,SrcAlphaFactor:RI,SrcAlphaSaturateFactor:xG,SrcColorFactor:fG,StaticCopyUsage:nZ,StaticDrawUsage:Qg,StaticReadUsage:ZQ,StereoCamera:bse,StreamCopyUsage:iZ,StreamDrawUsage:QQ,StreamReadUsage:tZ,StringKeyframeTrack:Nd,SubtractEquation:cG,SubtractiveBlending:pT,TOUCH:Ru,TangentSpaceNormalMap:El,TetrahedronBufferGeometry:Poe,TetrahedronGeometry:o0,Texture:Rn,TextureLoader:bp,TorusBufferGeometry:Ioe,TorusGeometry:a0,TorusKnotBufferGeometry:Roe,TorusKnotGeometry:l0,Triangle:lo,TriangleFanDrawMode:OI,TriangleStripDrawMode:YG,TrianglesDrawMode:BQ,TubeBufferGeometry:Loe,TubeGeometry:c0,TwoPassDoubleSide:IQ,UVMapping:US,Uint16BufferAttribute:$S,Uint32BufferAttribute:HI,Uint8BufferAttribute:zZ,Uint8ClampedBufferAttribute:UZ,Uniform:gR,UniformsGroup:Vse,UniformsLib:$e,UniformsUtils:aV,UnsignedByteType:ml,UnsignedInt248Type:sd,UnsignedIntType:dc,UnsignedShort4444Type:OG,UnsignedShort5551Type:NG,UnsignedShortType:DI,VSMShadowMap:Wu,Vector2:be,Vector3:N,Vector4:rn,VectorKeyframeTrack:bd,VideoTexture:Tie,WebGL1Renderer:gV,WebGL3DRenderTarget:TZ,WebGLArrayRenderTarget:EZ,WebGLCubeRenderTarget:VI,WebGLMultipleRenderTargets:PZ,WebGLRenderTarget:jo,WebGLRenderer:KS,WebGLUtils:fV,WireframeGeometry:IV,WrapAroundEnding:Yg,ZeroCurvatureEnding:ju,ZeroFactor:dG,ZeroSlopeEnding:Ku,ZeroStencilOp:NQ,_SRGBAFormat:C_,sRGBEncoding:zt},Symbol.toStringTag,{value:"Module"}));var fc={},koe={get exports(){return fc},set exports(n){fc=n}},Fd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Fd.ConcurrentRoot=1;Fd.ContinuousEventPriority=4;Fd.DefaultEventPriority=16;Fd.DiscreteEventPriority=1;Fd.IdleEventPriority=536870912;Fd.LegacyRoot=0;(function(n){n.exports=Fd})(koe);function Doe(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!d(p,y)){const g=p;c(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Boe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cN=Boe?D.useEffect:D.useLayoutEffect;function YV(n){const e=typeof n=="function"?Doe(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(v=>v+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),c=D.useRef(i),u=D.useRef(!1),d=D.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(d.current,p)),cN(()=>{m&&(d.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const y=D.useRef(o);cN(()=>{const v=()=>{try{const _=e.getState(),w=l.current(_);c.current(d.current,w)||(a.current=_,d.current=w,s())}catch{u.current=!0,s()}},x=e.subscribe(v);return e.getState()!==y.current&&v(),x},[]);const g=m?p:d.current;return D.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var QT={},Ooe={get exports(){return QT},set exports(n){QT=n}},ay={},Noe={get exports(){return ay},set exports(n){ay=n}},QV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(H,j){var O=H.length;H.push(j);e:for(;0<O;){var oe=O-1>>>1,z=H[oe];if(0<i(z,j))H[oe]=j,H[O]=z,O=oe;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],O=H.pop();if(O!==j){H[0]=O;e:for(var oe=0,z=H.length,Q=z>>>1;oe<Q;){var de=2*(oe+1)-1,Z=H[de],Ae=de+1,Te=H[Ae];if(0>i(Z,O))Ae<z&&0>i(Te,Z)?(H[oe]=Te,H[Ae]=O,oe=Ae):(H[oe]=Z,H[de]=O,oe=de);else if(Ae<z&&0>i(Te,O))H[oe]=Te,H[Ae]=O,oe=Ae;else break e}}return j}function i(H,j){var O=H.sortIndex-j.sortIndex;return O!==0?O:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=H)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function A(H){if(g=!1,w(H),!y)if(t(l)!==null)y=!0,se(T);else{var j=t(c);j!==null&&ue(A,j.startTime-H)}}function T(H,j){y=!1,g&&(g=!1,x(M),M=-1),m=!0;var O=p;try{for(w(j),d=t(l);d!==null&&(!(d.expirationTime>j)||H&&!V());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,p=d.priorityLevel;var z=oe(d.expirationTime<=j);j=n.unstable_now(),typeof z=="function"?d.callback=z:d===t(l)&&r(l),w(j)}else r(l);d=t(l)}if(d!==null)var Q=!0;else{var de=t(c);de!==null&&ue(A,de.startTime-j),Q=!1}return Q}finally{d=null,p=O,m=!1}}var P=!1,L=null,M=-1,R=5,k=-1;function V(){return!(n.unstable_now()-k<R)}function U(){if(L!==null){var H=n.unstable_now();k=H;var j=!0;try{j=L(!0,H)}finally{j?F():(P=!1,L=null)}}else P=!1}var F;if(typeof _=="function")F=function(){_(U)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,q=J.port2;J.port1.onmessage=U,F=function(){q.postMessage(null)}}else F=function(){v(U,0)};function se(H){L=H,P||(P=!0,F())}function ue(H,j){M=v(function(){H(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,se(T))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var O=p;p=j;try{return H()}finally{p=O}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var O=p;p=H;try{return j()}finally{p=O}},n.unstable_scheduleCallback=function(H,j,O){var oe=n.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?oe+O:oe):O=oe,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=O+z,H={id:u++,callback:j,priorityLevel:H,startTime:O,expirationTime:z,sortIndex:-1},O>oe?(H.sortIndex=O,e(c,H),t(l)===null&&H===t(c)&&(g?(x(M),M=-1):g=!0,ue(A,O-oe))):(H.sortIndex=z,e(l,H),y||m||(y=!0,se(T))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var j=p;return function(){var O=p;p=j;try{return H.apply(this,arguments)}finally{p=O}}}})(QV);(function(n){n.exports=QV})(Noe);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Foe=function(e){var t={},r=D,i=ay,s=Object.assign;function o(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)f+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(h){return h===null||typeof h!="object"?null:(h=T&&h[T]||h["@@iterator"],typeof h=="function"?h:null)}function L(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case g:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return f=h.displayName||null,f!==null?f:L(h.type)||"Memo";case w:f=h._payload,h=h._init;try{return L(h(f))}catch{}}return null}function M(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function R(h){var f=h,S=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,f.flags&4098&&(S=f.return),h=f.return;while(h)}return f.tag===3?S:null}function k(h){if(R(h)!==h)throw Error(o(188))}function V(h){var f=h.alternate;if(!f){if(f=R(h),f===null)throw Error(o(188));return f!==h?null:h}for(var S=h,b=f;;){var E=S.return;if(E===null)break;var I=E.alternate;if(I===null){if(b=E.return,b!==null){S=b;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===S)return k(E),h;if(I===b)return k(E),f;I=I.sibling}throw Error(o(188))}if(S.return!==b.return)S=E,b=I;else{for(var X=!1,ne=E.child;ne;){if(ne===S){X=!0,S=E,b=I;break}if(ne===b){X=!0,b=E,S=I;break}ne=ne.sibling}if(!X){for(ne=I.child;ne;){if(ne===S){X=!0,S=I,b=E;break}if(ne===b){X=!0,b=I,S=E;break}ne=ne.sibling}if(!X)throw Error(o(189))}}if(S.alternate!==b)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:f}function U(h){return h=V(h),h!==null?F(h):null}function F(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=F(h);if(f!==null)return f;h=h.sibling}return null}function J(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var f=J(h);if(f!==null)return f}h=h.sibling}return null}var q=Array.isArray,se=e.getPublicInstance,ue=e.getRootHostContext,H=e.getChildHostContext,j=e.prepareForCommit,O=e.resetAfterCommit,oe=e.createInstance,z=e.appendInitialChild,Q=e.finalizeInitialChildren,de=e.prepareUpdate,Z=e.shouldSetTextContent,Ae=e.createTextInstance,Te=e.scheduleTimeout,Be=e.cancelTimeout,Ve=e.noTimeout,Re=e.isPrimaryRenderer,Pe=e.supportsMutation,pe=e.supportsPersistence,ge=e.supportsHydration,Ce=e.getInstanceFromNode,We=e.preparePortalMount,ke=e.getCurrentEventPriority,Ge=e.detachDeletedInstance,Ye=e.supportsMicrotasks,et=e.scheduleMicrotask,gt=e.supportsTestSelectors,Mt=e.findFiberRoot,K=e.getBoundingRect,B=e.getTextContent,fe=e.isHiddenSubtree,De=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,He=e.setupIntersectionObserver,ot=e.appendChild,je=e.appendChildToContainer,we=e.commitTextUpdate,ct=e.commitMount,Y=e.commitUpdate,_e=e.insertBefore,Ie=e.insertInContainerBefore,Fe=e.removeChild,at=e.removeChildFromContainer,Lt=e.resetTextContent,An=e.hideInstance,te=e.hideTextInstance,ve=e.unhideInstance,Ee=e.unhideTextInstance,Ke=e.clearContainer,st=e.cloneInstance,Xt=e.createContainerChildSet,qn=e.appendChildToContainerChildSet,Rr=e.finalizeContainerChildren,Bi=e.replaceContainerChildren,Tn=e.cloneHiddenInstance,ei=e.cloneHiddenTextInstance,or=e.canHydrateInstance,Op=e.canHydrateTextInstance,Np=e.canHydrateSuspenseInstance,Wd=e.isSuspenseInstancePending,$=e.isSuspenseInstanceFallback,le=e.registerSuspenseInstanceRetry,ye=e.getNextHydratableSibling,ae=e.getFirstHydratableChild,Se=e.getFirstHydratableChildWithinContainer,ft=e.getFirstHydratableChildWithinSuspenseInstance,_t=e.hydrateInstance,kt=e.hydrateTextInstance,wt=e.hydrateSuspenseInstance,Jt=e.getNextHydratableInstanceAfterSuspenseInstance,Nt=e.commitHydratedContainer,Ut=e.commitHydratedSuspenseInstance,Hn=e.clearSuspenseBoundary,ti=e.clearSuspenseBoundaryFromContainer,fs=e.shouldDeleteUnhydratedTailInstances,ps=e.didNotMatchHydratedContainerTextInstance,Gn=e.didNotMatchHydratedTextInstance,Tt;function ms(h){if(Tt===void 0)try{throw Error()}catch(S){var f=S.stack.trim().match(/\n( *(at )?)/);Tt=f&&f[1]||""}return`
`+Tt+h}var Vn=!1;function fi(h,f){if(!h||Vn)return"";Vn=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(ze){var b=ze}Reflect.construct(h,[],f)}else{try{f.call()}catch(ze){b=ze}h.call(f.prototype)}else{try{throw Error()}catch(ze){b=ze}h()}}catch(ze){if(ze&&b&&typeof ze.stack=="string"){for(var E=ze.stack.split(`
`),I=b.stack.split(`
`),X=E.length-1,ne=I.length-1;1<=X&&0<=ne&&E[X]!==I[ne];)ne--;for(;1<=X&&0<=ne;X--,ne--)if(E[X]!==I[ne]){if(X!==1||ne!==1)do if(X--,ne--,0>ne||E[X]!==I[ne]){var xe=`
`+E[X].replace(" at new "," at ");return h.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",h.displayName)),xe}while(1<=X&&0<=ne);break}}}finally{Vn=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?ms(h):""}var nu=Object.prototype.hasOwnProperty,So=[],$s=-1;function Pn(h){return{current:h}}function qt(h){0>$s||(h.current=So[$s],So[$s]=null,$s--)}function on(h,f){$s++,So[$s]=h.current,h.current=f}var $n={},ar=Pn($n),Vr=Pn(!1),Ws=$n;function Il(h,f){var S=h.type.contextTypes;if(!S)return $n;var b=h.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===f)return b.__reactInternalMemoizedMaskedChildContext;var E={},I;for(I in S)E[I]=f[I];return b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=E),E}function pi(h){return h=h.childContextTypes,h!=null}function jd(){qt(Vr),qt(ar)}function N0(h,f,S){if(ar.current!==$n)throw Error(o(168));on(ar,f),on(Vr,S)}function F0(h,f,S){var b=h.stateNode;if(f=f.childContextTypes,typeof b.getChildContext!="function")return S;b=b.getChildContext();for(var E in b)if(!(E in f))throw Error(o(108,M(h)||"Unknown",E));return s({},S,b)}function La(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||$n,Ws=ar.current,on(ar,h),on(Vr,Vr.current),!0}function Kd(h,f,S){var b=h.stateNode;if(!b)throw Error(o(169));S?(h=F0(h,f,Ws),b.__reactInternalMemoizedMergedChildContext=h,qt(Vr),qt(ar),on(ar,h)):qt(Vr),on(Vr,S)}var gs=Math.clz32?Math.clz32:_b,xb=Math.log,z0=Math.LN2;function _b(h){return h>>>=0,h===0?32:31-(xb(h)/z0|0)|0}var Xd=64,Jd=4194304;function Rl(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function qd(h,f){var S=h.pendingLanes;if(S===0)return 0;var b=0,E=h.suspendedLanes,I=h.pingedLanes,X=S&268435455;if(X!==0){var ne=X&~E;ne!==0?b=Rl(ne):(I&=X,I!==0&&(b=Rl(I)))}else X=S&~E,X!==0?b=Rl(X):I!==0&&(b=Rl(I));if(b===0)return 0;if(f!==0&&f!==b&&!(f&E)&&(E=b&-b,I=f&-f,E>=I||E===16&&(I&4194240)!==0))return f;if(b&4&&(b|=S&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=b;0<f;)S=31-gs(f),E=1<<S,b|=h[S],f&=~E;return b}function Sb(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wb(h,f){for(var S=h.suspendedLanes,b=h.pingedLanes,E=h.expirationTimes,I=h.pendingLanes;0<I;){var X=31-gs(I),ne=1<<X,xe=E[X];xe===-1?(!(ne&S)||ne&b)&&(E[X]=Sb(ne,f)):xe<=f&&(h.expiredLanes|=ne),I&=~ne}}function ru(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Fp(h){for(var f=[],S=0;31>S;S++)f.push(h);return f}function iu(h,f,S){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-gs(f),h[f]=S}function bb(h,f){var S=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var b=h.eventTimes;for(h=h.expirationTimes;0<S;){var E=31-gs(S),I=1<<E;f[E]=0,b[E]=-1,h[E]=-1,S&=~I}}function Ll(h,f){var S=h.entangledLanes|=f;for(h=h.entanglements;S;){var b=31-gs(S),E=1<<b;E&f|h[b]&f&&(h[b]|=f),S&=~E}}var Yt=0;function Yd(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var su=i.unstable_scheduleCallback,U0=i.unstable_cancelCallback,H0=i.unstable_shouldYield,zp=i.unstable_requestPaint,fr=i.unstable_now,wo=i.unstable_ImmediatePriority,ou=i.unstable_UserBlockingPriority,Up=i.unstable_NormalPriority,G0=i.unstable_IdlePriority,Qd=null,ys=null;function Ab(h){if(ys&&typeof ys.onCommitFiberRoot=="function")try{ys.onCommitFiberRoot(Qd,h,void 0,(h.current.flags&128)===128)}catch{}}function Cb(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var vs=typeof Object.is=="function"?Object.is:Cb,bo=null,W=!1,ee=!1;function he(h){bo===null?bo=[h]:bo.push(h)}function Ze(h){W=!0,he(h)}function At(){if(!ee&&bo!==null){ee=!0;var h=0,f=Yt;try{var S=bo;for(Yt=1;h<S.length;h++){var b=S[h];do b=b(!0);while(b!==null)}bo=null,W=!1}catch(E){throw bo!==null&&(bo=bo.slice(h+1)),su(wo,At),E}finally{Yt=f,ee=!1}}return null}var vn=a.ReactCurrentBatchConfig;function xn(h,f){if(vs(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var S=Object.keys(h),b=Object.keys(f);if(S.length!==b.length)return!1;for(b=0;b<S.length;b++){var E=S[b];if(!nu.call(f,E)||!vs(h[E],f[E]))return!1}return!0}function Gt(h){switch(h.tag){case 5:return ms(h.type);case 16:return ms("Lazy");case 13:return ms("Suspense");case 19:return ms("SuspenseList");case 0:case 2:case 15:return h=fi(h.type,!1),h;case 11:return h=fi(h.type.render,!1),h;case 1:return h=fi(h.type,!0),h;default:return""}}function Qt(h,f){if(h&&h.defaultProps){f=s({},f),h=h.defaultProps;for(var S in h)f[S]===void 0&&(f[S]=h[S]);return f}return f}var ni=Pn(null),$r=null,js=null,au=null;function lu(){au=js=$r=null}function Hp(h,f,S){Re?(on(ni,f._currentValue),f._currentValue=S):(on(ni,f._currentValue2),f._currentValue2=S)}function Mb(h){var f=ni.current;qt(ni),Re?h._currentValue=f:h._currentValue2=f}function Eb(h,f,S){for(;h!==null;){var b=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),h===S)break;h=h.return}}function Zd(h,f){$r=h,au=js=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&f&&(Ss=!0),h.firstContext=null)}function Ks(h){var f=Re?h._currentValue:h._currentValue2;if(au!==h)if(h={context:h,memoizedValue:f,next:null},js===null){if($r===null)throw Error(o(308));js=h,$r.dependencies={lanes:0,firstContext:h}}else js=js.next=h;return f}var Qo=null,kl=!1;function Tb(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pk(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ka(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function Dl(h,f){var S=h.updateQueue;S!==null&&(S=S.shared,_r!==null&&h.mode&1&&!(Ft&2)?(h=S.interleaved,h===null?(f.next=f,Qo===null?Qo=[S]:Qo.push(S)):(f.next=h.next,h.next=f),S.interleaved=f):(h=S.pending,h===null?f.next=f:(f.next=h.next,h.next=f),S.pending=f))}function V0(h,f,S){if(f=f.updateQueue,f!==null&&(f=f.shared,(S&4194240)!==0)){var b=f.lanes;b&=h.pendingLanes,S|=b,f.lanes=S,Ll(h,S)}}function Ik(h,f){var S=h.updateQueue,b=h.alternate;if(b!==null&&(b=b.updateQueue,S===b)){var E=null,I=null;if(S=S.firstBaseUpdate,S!==null){do{var X={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};I===null?E=I=X:I=I.next=X,S=S.next}while(S!==null);I===null?E=I=f:I=I.next=f}else E=I=f;S={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:b.shared,effects:b.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=f:h.next=f,S.lastBaseUpdate=f}function $0(h,f,S,b){var E=h.updateQueue;kl=!1;var I=E.firstBaseUpdate,X=E.lastBaseUpdate,ne=E.shared.pending;if(ne!==null){E.shared.pending=null;var xe=ne,ze=xe.next;xe.next=null,X===null?I=ze:X.next=ze,X=xe;var it=h.alternate;it!==null&&(it=it.updateQueue,ne=it.lastBaseUpdate,ne!==X&&(ne===null?it.firstBaseUpdate=ze:ne.next=ze,it.lastBaseUpdate=xe))}if(I!==null){var Pt=E.baseState;X=0,it=ze=xe=null,ne=I;do{var yt=ne.lane,Cn=ne.eventTime;if((b&yt)===yt){it!==null&&(it=it.next={eventTime:Cn,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var dt=h,vi=ne;switch(yt=f,Cn=S,vi.tag){case 1:if(dt=vi.payload,typeof dt=="function"){Pt=dt.call(Cn,Pt,yt);break e}Pt=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vi.payload,yt=typeof dt=="function"?dt.call(Cn,Pt,yt):dt,yt==null)break e;Pt=s({},Pt,yt);break e;case 2:kl=!0}}ne.callback!==null&&ne.lane!==0&&(h.flags|=64,yt=E.effects,yt===null?E.effects=[ne]:yt.push(ne))}else Cn={eventTime:Cn,lane:yt,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},it===null?(ze=it=Cn,xe=Pt):it=it.next=Cn,X|=yt;if(ne=ne.next,ne===null){if(ne=E.shared.pending,ne===null)break;yt=ne,ne=yt.next,yt.next=null,E.lastBaseUpdate=yt,E.shared.pending=null}}while(1);if(it===null&&(xe=Pt),E.baseState=xe,E.firstBaseUpdate=ze,E.lastBaseUpdate=it,f=E.shared.interleaved,f!==null){E=f;do X|=E.lane,E=E.next;while(E!==f)}else I===null&&(E.shared.lanes=0);lh|=X,h.lanes=X,h.memoizedState=Pt}}function Rk(h,f,S){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var b=h[f],E=b.callback;if(E!==null){if(b.callback=null,b=S,typeof E!="function")throw Error(o(191,E));E.call(b)}}}var Lk=new r.Component().refs;function Pb(h,f,S,b){f=h.memoizedState,S=S(b,f),S=S==null?f:s({},f,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var W0={isMounted:function(h){return(h=h._reactInternals)?R(h)===h:!1},enqueueSetState:function(h,f,S){h=h._reactInternals;var b=Ni(),E=Nl(h),I=ka(b,E);I.payload=f,S!=null&&(I.callback=S),Dl(h,I),f=Qs(h,E,b),f!==null&&V0(f,h,E)},enqueueReplaceState:function(h,f,S){h=h._reactInternals;var b=Ni(),E=Nl(h),I=ka(b,E);I.tag=1,I.payload=f,S!=null&&(I.callback=S),Dl(h,I),f=Qs(h,E,b),f!==null&&V0(f,h,E)},enqueueForceUpdate:function(h,f){h=h._reactInternals;var S=Ni(),b=Nl(h),E=ka(S,b);E.tag=2,f!=null&&(E.callback=f),Dl(h,E),f=Qs(h,b,S),f!==null&&V0(f,h,b)}};function kk(h,f,S,b,E,I,X){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(b,I,X):f.prototype&&f.prototype.isPureReactComponent?!xn(S,b)||!xn(E,I):!0}function Dk(h,f,S){var b=!1,E=$n,I=f.contextType;return typeof I=="object"&&I!==null?I=Ks(I):(E=pi(f)?Ws:ar.current,b=f.contextTypes,I=(b=b!=null)?Il(h,E):$n),f=new f(S,I),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=W0,h.stateNode=f,f._reactInternals=h,b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=E,h.__reactInternalMemoizedMaskedChildContext=I),f}function Bk(h,f,S,b){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(S,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(S,b),f.state!==h&&W0.enqueueReplaceState(f,f.state,null)}function Ib(h,f,S,b){var E=h.stateNode;E.props=S,E.state=h.memoizedState,E.refs=Lk,Tb(h);var I=f.contextType;typeof I=="object"&&I!==null?E.context=Ks(I):(I=pi(f)?Ws:ar.current,E.context=Il(h,I)),E.state=h.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(Pb(h,f,I,S),E.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(f=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),f!==E.state&&W0.enqueueReplaceState(E,E.state,null),$0(h,S,E,b),E.state=h.memoizedState),typeof E.componentDidMount=="function"&&(h.flags|=4194308)}var eh=[],th=0,j0=null,K0=0,Xs=[],Js=0,cu=null,Da=1,Ba="";function uu(h,f){eh[th++]=K0,eh[th++]=j0,j0=h,K0=f}function Ok(h,f,S){Xs[Js++]=Da,Xs[Js++]=Ba,Xs[Js++]=cu,cu=h;var b=Da;h=Ba;var E=32-gs(b)-1;b&=~(1<<E),S+=1;var I=32-gs(f)+E;if(30<I){var X=E-E%5;I=(b&(1<<X)-1).toString(32),b>>=X,E-=X,Da=1<<32-gs(f)+E|S<<E|b,Ba=I+h}else Da=1<<I|S<<E|b,Ba=h}function Rb(h){h.return!==null&&(uu(h,1),Ok(h,1,0))}function Lb(h){for(;h===j0;)j0=eh[--th],eh[th]=null,K0=eh[--th],eh[th]=null;for(;h===cu;)cu=Xs[--Js],Xs[Js]=null,Ba=Xs[--Js],Xs[Js]=null,Da=Xs[--Js],Xs[Js]=null}var xs=null,_s=null,Wn=!1,Gp=!1,Ao=null;function Nk(h,f){var S=Zs(5,null,null,0);S.elementType="DELETED",S.stateNode=f,S.return=h,f=h.deletions,f===null?(h.deletions=[S],h.flags|=16):f.push(S)}function Fk(h,f){switch(h.tag){case 5:return f=or(f,h.type,h.pendingProps),f!==null?(h.stateNode=f,xs=h,_s=ae(f),!0):!1;case 6:return f=Op(f,h.pendingProps),f!==null?(h.stateNode=f,xs=h,_s=null,!0):!1;case 13:if(f=Np(f),f!==null){var S=cu!==null?{id:Da,overflow:Ba}:null;return h.memoizedState={dehydrated:f,treeContext:S,retryLane:1073741824},S=Zs(18,null,null,0),S.stateNode=f,S.return=h,h.child=S,xs=h,_s=null,!0}return!1;default:return!1}}function kb(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Db(h){if(Wn){var f=_s;if(f){var S=f;if(!Fk(h,f)){if(kb(h))throw Error(o(418));f=ye(S);var b=xs;f&&Fk(h,f)?Nk(b,S):(h.flags=h.flags&-4097|2,Wn=!1,xs=h)}}else{if(kb(h))throw Error(o(418));h.flags=h.flags&-4097|2,Wn=!1,xs=h}}}function zk(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;xs=h}function Vp(h){if(!ge||h!==xs)return!1;if(!Wn)return zk(h),Wn=!0,!1;if(h.tag!==3&&(h.tag!==5||fs(h.type)&&!Z(h.type,h.memoizedProps))){var f=_s;if(f){if(kb(h)){for(h=_s;h;)h=ye(h);throw Error(o(418))}for(;f;)Nk(h,f),f=ye(f)}}if(zk(h),h.tag===13){if(!ge)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));_s=Jt(h)}else _s=xs?ye(h.stateNode):null;return!0}function nh(){ge&&(_s=xs=null,Gp=Wn=!1)}function Bb(h){Ao===null?Ao=[h]:Ao.push(h)}function $p(h,f,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var b=S.stateNode}if(!b)throw Error(o(147,h));var E=b,I=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===I?f.ref:(f=function(X){var ne=E.refs;ne===Lk&&(ne=E.refs={}),X===null?delete ne[I]:ne[I]=X},f._stringRef=I,f)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function X0(h,f){throw h=Object.prototype.toString.call(f),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function Uk(h){var f=h._init;return f(h._payload)}function Hk(h){function f(ce,ie){if(h){var me=ce.deletions;me===null?(ce.deletions=[ie],ce.flags|=16):me.push(ie)}}function S(ce,ie){if(!h)return null;for(;ie!==null;)f(ce,ie),ie=ie.sibling;return null}function b(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function E(ce,ie){return ce=zl(ce,ie),ce.index=0,ce.sibling=null,ce}function I(ce,ie,me){return ce.index=me,h?(me=ce.alternate,me!==null?(me=me.index,me<ie?(ce.flags|=2,ie):me):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function X(ce){return h&&ce.alternate===null&&(ce.flags|=2),ce}function ne(ce,ie,me,qe){return ie===null||ie.tag!==6?(ie=vA(me,ce.mode,qe),ie.return=ce,ie):(ie=E(ie,me),ie.return=ce,ie)}function xe(ce,ie,me,qe){var ut=me.type;return ut===u?it(ce,ie,me.props.children,qe,me.key):ie!==null&&(ie.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Uk(ut)===ie.type)?(qe=E(ie,me.props),qe.ref=$p(ce,ie,me),qe.return=ce,qe):(qe=Cv(me.type,me.key,me.props,null,ce.mode,qe),qe.ref=$p(ce,ie,me),qe.return=ce,qe)}function ze(ce,ie,me,qe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==me.containerInfo||ie.stateNode.implementation!==me.implementation?(ie=xA(me,ce.mode,qe),ie.return=ce,ie):(ie=E(ie,me.children||[]),ie.return=ce,ie)}function it(ce,ie,me,qe,ut){return ie===null||ie.tag!==7?(ie=yu(me,ce.mode,qe,ut),ie.return=ce,ie):(ie=E(ie,me),ie.return=ce,ie)}function Pt(ce,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=vA(""+ie,ce.mode,me),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return me=Cv(ie.type,ie.key,ie.props,null,ce.mode,me),me.ref=$p(ce,null,ie),me.return=ce,me;case c:return ie=xA(ie,ce.mode,me),ie.return=ce,ie;case w:var qe=ie._init;return Pt(ce,qe(ie._payload),me)}if(q(ie)||P(ie))return ie=yu(ie,ce.mode,me,null),ie.return=ce,ie;X0(ce,ie)}return null}function yt(ce,ie,me,qe){var ut=ie!==null?ie.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ut!==null?null:ne(ce,ie,""+me,qe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===ut?xe(ce,ie,me,qe):null;case c:return me.key===ut?ze(ce,ie,me,qe):null;case w:return ut=me._init,yt(ce,ie,ut(me._payload),qe)}if(q(me)||P(me))return ut!==null?null:it(ce,ie,me,qe,null);X0(ce,me)}return null}function Cn(ce,ie,me,qe,ut){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ce=ce.get(me)||null,ne(ie,ce,""+qe,ut);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return ce=ce.get(qe.key===null?me:qe.key)||null,xe(ie,ce,qe,ut);case c:return ce=ce.get(qe.key===null?me:qe.key)||null,ze(ie,ce,qe,ut);case w:var Bt=qe._init;return Cn(ce,ie,me,Bt(qe._payload),ut)}if(q(qe)||P(qe))return ce=ce.get(me)||null,it(ie,ce,qe,ut,null);X0(ie,qe)}return null}function dt(ce,ie,me,qe){for(var ut=null,Bt=null,It=ie,an=ie=0,jr=null;It!==null&&an<me.length;an++){It.index>an?(jr=It,It=null):jr=It.sibling;var ln=yt(ce,It,me[an],qe);if(ln===null){It===null&&(It=jr);break}h&&It&&ln.alternate===null&&f(ce,It),ie=I(ln,ie,an),Bt===null?ut=ln:Bt.sibling=ln,Bt=ln,It=jr}if(an===me.length)return S(ce,It),Wn&&uu(ce,an),ut;if(It===null){for(;an<me.length;an++)It=Pt(ce,me[an],qe),It!==null&&(ie=I(It,ie,an),Bt===null?ut=It:Bt.sibling=It,Bt=It);return Wn&&uu(ce,an),ut}for(It=b(ce,It);an<me.length;an++)jr=Cn(It,ce,an,me[an],qe),jr!==null&&(h&&jr.alternate!==null&&It.delete(jr.key===null?an:jr.key),ie=I(jr,ie,an),Bt===null?ut=jr:Bt.sibling=jr,Bt=jr);return h&&It.forEach(function(Ul){return f(ce,Ul)}),Wn&&uu(ce,an),ut}function vi(ce,ie,me,qe){var ut=P(me);if(typeof ut!="function")throw Error(o(150));if(me=ut.call(me),me==null)throw Error(o(151));for(var Bt=ut=null,It=ie,an=ie=0,jr=null,ln=me.next();It!==null&&!ln.done;an++,ln=me.next()){It.index>an?(jr=It,It=null):jr=It.sibling;var Ul=yt(ce,It,ln.value,qe);if(Ul===null){It===null&&(It=jr);break}h&&It&&Ul.alternate===null&&f(ce,It),ie=I(Ul,ie,an),Bt===null?ut=Ul:Bt.sibling=Ul,Bt=Ul,It=jr}if(ln.done)return S(ce,It),Wn&&uu(ce,an),ut;if(It===null){for(;!ln.done;an++,ln=me.next())ln=Pt(ce,ln.value,qe),ln!==null&&(ie=I(ln,ie,an),Bt===null?ut=ln:Bt.sibling=ln,Bt=ln);return Wn&&uu(ce,an),ut}for(It=b(ce,It);!ln.done;an++,ln=me.next())ln=Cn(It,ce,an,ln.value,qe),ln!==null&&(h&&ln.alternate!==null&&It.delete(ln.key===null?an:ln.key),ie=I(ln,ie,an),Bt===null?ut=ln:Bt.sibling=ln,Bt=ln);return h&&It.forEach(function(b7){return f(ce,b7)}),Wn&&uu(ce,an),ut}function eo(ce,ie,me,qe){if(typeof me=="object"&&me!==null&&me.type===u&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var ut=me.key,Bt=ie;Bt!==null;){if(Bt.key===ut){if(ut=me.type,ut===u){if(Bt.tag===7){S(ce,Bt.sibling),ie=E(Bt,me.props.children),ie.return=ce,ce=ie;break e}}else if(Bt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Uk(ut)===Bt.type){S(ce,Bt.sibling),ie=E(Bt,me.props),ie.ref=$p(ce,Bt,me),ie.return=ce,ce=ie;break e}S(ce,Bt);break}else f(ce,Bt);Bt=Bt.sibling}me.type===u?(ie=yu(me.props.children,ce.mode,qe,me.key),ie.return=ce,ce=ie):(qe=Cv(me.type,me.key,me.props,null,ce.mode,qe),qe.ref=$p(ce,ie,me),qe.return=ce,ce=qe)}return X(ce);case c:e:{for(Bt=me.key;ie!==null;){if(ie.key===Bt)if(ie.tag===4&&ie.stateNode.containerInfo===me.containerInfo&&ie.stateNode.implementation===me.implementation){S(ce,ie.sibling),ie=E(ie,me.children||[]),ie.return=ce,ce=ie;break e}else{S(ce,ie);break}else f(ce,ie);ie=ie.sibling}ie=xA(me,ce.mode,qe),ie.return=ce,ce=ie}return X(ce);case w:return Bt=me._init,eo(ce,ie,Bt(me._payload),qe)}if(q(me))return dt(ce,ie,me,qe);if(P(me))return vi(ce,ie,me,qe);X0(ce,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ie!==null&&ie.tag===6?(S(ce,ie.sibling),ie=E(ie,me),ie.return=ce,ce=ie):(S(ce,ie),ie=vA(me,ce.mode,qe),ie.return=ce,ce=ie),X(ce)):S(ce,ie)}return eo}var rh=Hk(!0),Gk=Hk(!1),Wp={},qs=Pn(Wp),jp=Pn(Wp),ih=Pn(Wp);function Zo(h){if(h===Wp)throw Error(o(174));return h}function Ob(h,f){on(ih,f),on(jp,h),on(qs,Wp),h=ue(f),qt(qs),on(qs,h)}function sh(){qt(qs),qt(jp),qt(ih)}function Vk(h){var f=Zo(ih.current),S=Zo(qs.current);f=H(S,h.type,f),S!==f&&(on(jp,h),on(qs,f))}function Nb(h){jp.current===h&&(qt(qs),qt(jp))}var Yn=Pn(0);function J0(h){for(var f=h;f!==null;){if(f.tag===13){var S=f.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Wd(S)||$(S)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Fb=[];function zb(){for(var h=0;h<Fb.length;h++){var f=Fb[h];Re?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Fb.length=0}var q0=a.ReactCurrentDispatcher,Ys=a.ReactCurrentBatchConfig,oh=0,lr=null,mi=null,Wr=null,Y0=!1,Kp=!1,Xp=0,Xj=0;function gi(){throw Error(o(321))}function Ub(h,f){if(f===null)return!1;for(var S=0;S<f.length&&S<h.length;S++)if(!vs(h[S],f[S]))return!1;return!0}function Hb(h,f,S,b,E,I){if(oh=I,lr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q0.current=h===null||h.memoizedState===null?Qj:Zj,h=S(b,E),Kp){I=0;do{if(Kp=!1,Xp=0,25<=I)throw Error(o(301));I+=1,Wr=mi=null,f.updateQueue=null,q0.current=e7,h=S(b,E)}while(Kp)}if(q0.current=nv,f=mi!==null&&mi.next!==null,oh=0,Wr=mi=lr=null,Y0=!1,f)throw Error(o(300));return h}function Gb(){var h=Xp!==0;return Xp=0,h}function Oa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?lr.memoizedState=Wr=h:Wr=Wr.next=h,Wr}function ea(){if(mi===null){var h=lr.alternate;h=h!==null?h.memoizedState:null}else h=mi.next;var f=Wr===null?lr.memoizedState:Wr.next;if(f!==null)Wr=f,mi=h;else{if(h===null)throw Error(o(310));mi=h,h={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Wr===null?lr.memoizedState=Wr=h:Wr=Wr.next=h}return Wr}function du(h,f){return typeof f=="function"?f(h):f}function Q0(h){var f=ea(),S=f.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=mi,E=b.baseQueue,I=S.pending;if(I!==null){if(E!==null){var X=E.next;E.next=I.next,I.next=X}b.baseQueue=E=I,S.pending=null}if(E!==null){I=E.next,b=b.baseState;var ne=X=null,xe=null,ze=I;do{var it=ze.lane;if((oh&it)===it)xe!==null&&(xe=xe.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),b=ze.hasEagerState?ze.eagerState:h(b,ze.action);else{var Pt={lane:it,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};xe===null?(ne=xe=Pt,X=b):xe=xe.next=Pt,lr.lanes|=it,lh|=it}ze=ze.next}while(ze!==null&&ze!==I);xe===null?X=b:xe.next=ne,vs(b,f.memoizedState)||(Ss=!0),f.memoizedState=b,f.baseState=X,f.baseQueue=xe,S.lastRenderedState=b}if(h=S.interleaved,h!==null){E=h;do I=E.lane,lr.lanes|=I,lh|=I,E=E.next;while(E!==h)}else E===null&&(S.lanes=0);return[f.memoizedState,S.dispatch]}function Z0(h){var f=ea(),S=f.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=S.dispatch,E=S.pending,I=f.memoizedState;if(E!==null){S.pending=null;var X=E=E.next;do I=h(I,X.action),X=X.next;while(X!==E);vs(I,f.memoizedState)||(Ss=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),S.lastRenderedState=I}return[I,b]}function $k(){}function Wk(h,f){var S=lr,b=ea(),E=f(),I=!vs(b.memoizedState,E);if(I&&(b.memoizedState=E,Ss=!0),b=b.queue,qp(Xk.bind(null,S,b,h),[h]),b.getSnapshot!==f||I||Wr!==null&&Wr.memoizedState.tag&1){if(S.flags|=2048,Jp(9,Kk.bind(null,S,b,E,f),void 0,null),_r===null)throw Error(o(349));oh&30||jk(S,f,E)}return E}function jk(h,f,S){h.flags|=16384,h={getSnapshot:f,value:S},f=lr.updateQueue,f===null?(f={lastEffect:null,stores:null},lr.updateQueue=f,f.stores=[h]):(S=f.stores,S===null?f.stores=[h]:S.push(h))}function Kk(h,f,S,b){f.value=S,f.getSnapshot=b,Jk(f)&&Qs(h,1,-1)}function Xk(h,f,S){return S(function(){Jk(f)&&Qs(h,1,-1)})}function Jk(h){var f=h.getSnapshot;h=h.value;try{var S=f();return!vs(h,S)}catch{return!0}}function Vb(h){var f=Oa();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:h},f.queue=h,h=h.dispatch=Yj.bind(null,lr,h),[f.memoizedState,h]}function Jp(h,f,S,b){return h={tag:h,create:f,destroy:S,deps:b,next:null},f=lr.updateQueue,f===null?(f={lastEffect:null,stores:null},lr.updateQueue=f,f.lastEffect=h.next=h):(S=f.lastEffect,S===null?f.lastEffect=h.next=h:(b=S.next,S.next=h,h.next=b,f.lastEffect=h)),h}function qk(){return ea().memoizedState}function ev(h,f,S,b){var E=Oa();lr.flags|=h,E.memoizedState=Jp(1|f,S,void 0,b===void 0?null:b)}function tv(h,f,S,b){var E=ea();b=b===void 0?null:b;var I=void 0;if(mi!==null){var X=mi.memoizedState;if(I=X.destroy,b!==null&&Ub(b,X.deps)){E.memoizedState=Jp(f,S,I,b);return}}lr.flags|=h,E.memoizedState=Jp(1|f,S,I,b)}function $b(h,f){return ev(8390656,8,h,f)}function qp(h,f){return tv(2048,8,h,f)}function Yk(h,f){return tv(4,2,h,f)}function Qk(h,f){return tv(4,4,h,f)}function Zk(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function eD(h,f,S){return S=S!=null?S.concat([h]):null,tv(4,4,Zk.bind(null,f,h),S)}function Wb(){}function tD(h,f){var S=ea();f=f===void 0?null:f;var b=S.memoizedState;return b!==null&&f!==null&&Ub(f,b[1])?b[0]:(S.memoizedState=[h,f],h)}function nD(h,f){var S=ea();f=f===void 0?null:f;var b=S.memoizedState;return b!==null&&f!==null&&Ub(f,b[1])?b[0]:(h=h(),S.memoizedState=[h,f],h)}function Jj(h,f){var S=Yt;Yt=S!==0&&4>S?S:4,h(!0);var b=Ys.transition;Ys.transition={};try{h(!1),f()}finally{Yt=S,Ys.transition=b}}function rD(){return ea().memoizedState}function qj(h,f,S){var b=Nl(h);S={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null},iD(h)?sD(f,S):(oD(h,f,S),S=Ni(),h=Qs(h,b,S),h!==null&&aD(h,f,b))}function Yj(h,f,S){var b=Nl(h),E={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null};if(iD(h))sD(f,E);else{oD(h,f,E);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var X=f.lastRenderedState,ne=I(X,S);if(E.hasEagerState=!0,E.eagerState=ne,vs(ne,X))return}catch{}finally{}S=Ni(),h=Qs(h,b,S),h!==null&&aD(h,f,b)}}function iD(h){var f=h.alternate;return h===lr||f!==null&&f===lr}function sD(h,f){Kp=Y0=!0;var S=h.pending;S===null?f.next=f:(f.next=S.next,S.next=f),h.pending=f}function oD(h,f,S){_r!==null&&h.mode&1&&!(Ft&2)?(h=f.interleaved,h===null?(S.next=S,Qo===null?Qo=[f]:Qo.push(f)):(S.next=h.next,h.next=S),f.interleaved=S):(h=f.pending,h===null?S.next=S:(S.next=h.next,h.next=S),f.pending=S)}function aD(h,f,S){if(S&4194240){var b=f.lanes;b&=h.pendingLanes,S|=b,f.lanes=S,Ll(h,S)}}var nv={readContext:Ks,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Qj={readContext:Ks,useCallback:function(h,f){return Oa().memoizedState=[h,f===void 0?null:f],h},useContext:Ks,useEffect:$b,useImperativeHandle:function(h,f,S){return S=S!=null?S.concat([h]):null,ev(4194308,4,Zk.bind(null,f,h),S)},useLayoutEffect:function(h,f){return ev(4194308,4,h,f)},useInsertionEffect:function(h,f){return ev(4,2,h,f)},useMemo:function(h,f){var S=Oa();return f=f===void 0?null:f,h=h(),S.memoizedState=[h,f],h},useReducer:function(h,f,S){var b=Oa();return f=S!==void 0?S(f):f,b.memoizedState=b.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},b.queue=h,h=h.dispatch=qj.bind(null,lr,h),[b.memoizedState,h]},useRef:function(h){var f=Oa();return h={current:h},f.memoizedState=h},useState:Vb,useDebugValue:Wb,useDeferredValue:function(h){var f=Vb(h),S=f[0],b=f[1];return $b(function(){var E=Ys.transition;Ys.transition={};try{b(h)}finally{Ys.transition=E}},[h]),S},useTransition:function(){var h=Vb(!1),f=h[0];return h=Jj.bind(null,h[1]),Oa().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,S){var b=lr,E=Oa();if(Wn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=f(),_r===null)throw Error(o(349));oh&30||jk(b,f,S)}E.memoizedState=S;var I={value:S,getSnapshot:f};return E.queue=I,$b(Xk.bind(null,b,I,h),[h]),b.flags|=2048,Jp(9,Kk.bind(null,b,I,S,f),void 0,null),S},useId:function(){var h=Oa(),f=_r.identifierPrefix;if(Wn){var S=Ba,b=Da;S=(b&~(1<<32-gs(b)-1)).toString(32)+S,f=":"+f+"R"+S,S=Xp++,0<S&&(f+="H"+S.toString(32)),f+=":"}else S=Xj++,f=":"+f+"r"+S.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},Zj={readContext:Ks,useCallback:tD,useContext:Ks,useEffect:qp,useImperativeHandle:eD,useInsertionEffect:Yk,useLayoutEffect:Qk,useMemo:nD,useReducer:Q0,useRef:qk,useState:function(){return Q0(du)},useDebugValue:Wb,useDeferredValue:function(h){var f=Q0(du),S=f[0],b=f[1];return qp(function(){var E=Ys.transition;Ys.transition={};try{b(h)}finally{Ys.transition=E}},[h]),S},useTransition:function(){var h=Q0(du)[0],f=ea().memoizedState;return[h,f]},useMutableSource:$k,useSyncExternalStore:Wk,useId:rD,unstable_isNewReconciler:!1},e7={readContext:Ks,useCallback:tD,useContext:Ks,useEffect:qp,useImperativeHandle:eD,useInsertionEffect:Yk,useLayoutEffect:Qk,useMemo:nD,useReducer:Z0,useRef:qk,useState:function(){return Z0(du)},useDebugValue:Wb,useDeferredValue:function(h){var f=Z0(du),S=f[0],b=f[1];return qp(function(){var E=Ys.transition;Ys.transition={};try{b(h)}finally{Ys.transition=E}},[h]),S},useTransition:function(){var h=Z0(du)[0],f=ea().memoizedState;return[h,f]},useMutableSource:$k,useSyncExternalStore:Wk,useId:rD,unstable_isNewReconciler:!1};function jb(h,f){try{var S="",b=f;do S+=Gt(b),b=b.return;while(b);var E=S}catch(I){E=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:f,stack:E}}function Kb(h,f){try{console.error(f.value)}catch(S){setTimeout(function(){throw S})}}var t7=typeof WeakMap=="function"?WeakMap:Map;function lD(h,f,S){S=ka(-1,S),S.tag=3,S.payload={element:null};var b=f.value;return S.callback=function(){vv||(vv=!0,dA=b),Kb(h,f)},S}function cD(h,f,S){S=ka(-1,S),S.tag=3;var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var E=f.value;S.payload=function(){return b(E)},S.callback=function(){Kb(h,f)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(S.callback=function(){Kb(h,f),typeof b!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})}),S}function uD(h,f,S){var b=h.pingCache;if(b===null){b=h.pingCache=new t7;var E=new Set;b.set(f,E)}else E=b.get(f),E===void 0&&(E=new Set,b.set(f,E));E.has(S)||(E.add(S),h=m7.bind(null,h,f,S),f.then(h,h))}function dD(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function hD(h,f,S,b,E){return h.mode&1?(h.flags|=65536,h.lanes=E,h):(h===f?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(f=ka(-1,1),f.tag=2,Dl(S,f))),S.lanes|=1),h)}function ta(h){h.flags|=4}function fD(h,f){if(h!==null&&h.child===f.child)return!0;if(f.flags&16)return!1;for(h=f.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Yp,Qp,rv,iv;if(Pe)Yp=function(h,f){for(var S=f.child;S!==null;){if(S.tag===5||S.tag===6)z(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Qp=function(){},rv=function(h,f,S,b,E){if(h=h.memoizedProps,h!==b){var I=f.stateNode,X=Zo(qs.current);S=de(I,S,h,b,E,X),(f.updateQueue=S)&&ta(f)}},iv=function(h,f,S,b){S!==b&&ta(f)};else if(pe){Yp=function(h,f,S,b){for(var E=f.child;E!==null;){if(E.tag===5){var I=E.stateNode;S&&b&&(I=Tn(I,E.type,E.memoizedProps,E)),z(h,I)}else if(E.tag===6)I=E.stateNode,S&&b&&(I=ei(I,E.memoizedProps,E)),z(h,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)I=E.child,I!==null&&(I.return=E),Yp(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var pD=function(h,f,S,b){for(var E=f.child;E!==null;){if(E.tag===5){var I=E.stateNode;S&&b&&(I=Tn(I,E.type,E.memoizedProps,E)),qn(h,I)}else if(E.tag===6)I=E.stateNode,S&&b&&(I=ei(I,E.memoizedProps,E)),qn(h,I);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)I=E.child,I!==null&&(I.return=E),pD(h,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===f)break;for(;E.sibling===null;){if(E.return===null||E.return===f)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Qp=function(h,f){var S=f.stateNode;if(!fD(h,f)){h=S.containerInfo;var b=Xt(h);pD(b,f,!1,!1),S.pendingChildren=b,ta(f),Rr(h,b)}},rv=function(h,f,S,b,E){var I=h.stateNode,X=h.memoizedProps;if((h=fD(h,f))&&X===b)f.stateNode=I;else{var ne=f.stateNode,xe=Zo(qs.current),ze=null;X!==b&&(ze=de(ne,S,X,b,E,xe)),h&&ze===null?f.stateNode=I:(I=st(I,ze,S,X,b,f,h,ne),Q(I,S,b,E,xe)&&ta(f),f.stateNode=I,h?ta(f):Yp(I,f,!1,!1))}},iv=function(h,f,S,b){S!==b?(h=Zo(ih.current),S=Zo(qs.current),f.stateNode=Ae(b,h,S,f),ta(f)):f.stateNode=h.stateNode}}else Qp=function(){},rv=function(){},iv=function(){};function Zp(h,f){if(!Wn)switch(h.tailMode){case"hidden":f=h.tail;for(var S=null;f!==null;)f.alternate!==null&&(S=f),f=f.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var b=null;S!==null;)S.alternate!==null&&(b=S),S=S.sibling;b===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:b.sibling=null}}function yi(h){var f=h.alternate!==null&&h.alternate.child===h.child,S=0,b=0;if(f)for(var E=h.child;E!==null;)S|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=h,E=E.sibling;else for(E=h.child;E!==null;)S|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=h,E=E.sibling;return h.subtreeFlags|=b,h.childLanes=S,f}function n7(h,f,S){var b=f.pendingProps;switch(Lb(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(f),null;case 1:return pi(f.type)&&jd(),yi(f),null;case 3:return b=f.stateNode,sh(),qt(Vr),qt(ar),zb(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Vp(f)?ta(f):h===null||h.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ao!==null&&(pA(Ao),Ao=null))),Qp(h,f),yi(f),null;case 5:Nb(f),S=Zo(ih.current);var E=f.type;if(h!==null&&f.stateNode!=null)rv(h,f,E,b,S),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!b){if(f.stateNode===null)throw Error(o(166));return yi(f),null}if(h=Zo(qs.current),Vp(f)){if(!ge)throw Error(o(175));h=_t(f.stateNode,f.type,f.memoizedProps,S,h,f,!Gp),f.updateQueue=h,h!==null&&ta(f)}else{var I=oe(E,b,S,h,f);Yp(I,f,!1,!1),f.stateNode=I,Q(I,E,b,S,h)&&ta(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return yi(f),null;case 6:if(h&&f.stateNode!=null)iv(h,f,h.memoizedProps,b);else{if(typeof b!="string"&&f.stateNode===null)throw Error(o(166));if(h=Zo(ih.current),S=Zo(qs.current),Vp(f)){if(!ge)throw Error(o(176));if(h=f.stateNode,b=f.memoizedProps,(S=kt(h,b,f,!Gp))&&(E=xs,E!==null))switch(I=(E.mode&1)!==0,E.tag){case 3:ps(E.stateNode.containerInfo,h,b,I);break;case 5:Gn(E.type,E.memoizedProps,E.stateNode,h,b,I)}S&&ta(f)}else f.stateNode=Ae(b,h,S,f)}return yi(f),null;case 13:if(qt(Yn),b=f.memoizedState,Wn&&_s!==null&&f.mode&1&&!(f.flags&128)){for(h=_s;h;)h=ye(h);return nh(),f.flags|=98560,f}if(b!==null&&b.dehydrated!==null){if(b=Vp(f),h===null){if(!b)throw Error(o(318));if(!ge)throw Error(o(344));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));wt(h,f)}else nh(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return yi(f),null}return Ao!==null&&(pA(Ao),Ao=null),f.flags&128?(f.lanes=S,f):(b=b!==null,S=!1,h===null?Vp(f):S=h.memoizedState!==null,b&&!S&&(f.child.flags|=8192,f.mode&1&&(h===null||Yn.current&1?Lr===0&&(Lr=3):gA())),f.updateQueue!==null&&(f.flags|=4),yi(f),null);case 4:return sh(),Qp(h,f),h===null&&We(f.stateNode.containerInfo),yi(f),null;case 10:return Mb(f.type._context),yi(f),null;case 17:return pi(f.type)&&jd(),yi(f),null;case 19:if(qt(Yn),E=f.memoizedState,E===null)return yi(f),null;if(b=(f.flags&128)!==0,I=E.rendering,I===null)if(b)Zp(E,!1);else{if(Lr!==0||h!==null&&h.flags&128)for(h=f.child;h!==null;){if(I=J0(h),I!==null){for(f.flags|=128,Zp(E,!1),h=I.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),f.subtreeFlags=0,h=S,b=f.child;b!==null;)S=b,E=h,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=E,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,E=I.dependencies,S.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),b=b.sibling;return on(Yn,Yn.current&1|2),f.child}h=h.sibling}E.tail!==null&&fr()>uA&&(f.flags|=128,b=!0,Zp(E,!1),f.lanes=4194304)}else{if(!b)if(h=J0(I),h!==null){if(f.flags|=128,b=!0,h=h.updateQueue,h!==null&&(f.updateQueue=h,f.flags|=4),Zp(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Wn)return yi(f),null}else 2*fr()-E.renderingStartTime>uA&&S!==1073741824&&(f.flags|=128,b=!0,Zp(E,!1),f.lanes=4194304);E.isBackwards?(I.sibling=f.child,f.child=I):(h=E.last,h!==null?h.sibling=I:f.child=I,E.last=I)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=fr(),f.sibling=null,h=Yn.current,on(Yn,b?h&1|2:h&1),f):(yi(f),null);case 22:case 23:return mA(),b=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==b&&(f.flags|=8192),b&&f.mode&1?ws&1073741824&&(yi(f),Pe&&f.subtreeFlags&6&&(f.flags|=8192)):yi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var r7=a.ReactCurrentOwner,Ss=!1;function Oi(h,f,S,b){f.child=h===null?Gk(f,null,S,b):rh(f,h.child,S,b)}function mD(h,f,S,b,E){S=S.render;var I=f.ref;return Zd(f,E),b=Hb(h,f,S,b,I,E),S=Gb(),h!==null&&!Ss?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,Na(h,f,E)):(Wn&&S&&Rb(f),f.flags|=1,Oi(h,f,b,E),f.child)}function gD(h,f,S,b,E){if(h===null){var I=S.type;return typeof I=="function"&&!yA(I)&&I.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(f.tag=15,f.type=I,yD(h,f,I,b,E)):(h=Cv(S.type,null,b,f,f.mode,E),h.ref=f.ref,h.return=f,f.child=h)}if(I=h.child,!(h.lanes&E)){var X=I.memoizedProps;if(S=S.compare,S=S!==null?S:xn,S(X,b)&&h.ref===f.ref)return Na(h,f,E)}return f.flags|=1,h=zl(I,b),h.ref=f.ref,h.return=f,f.child=h}function yD(h,f,S,b,E){if(h!==null&&xn(h.memoizedProps,b)&&h.ref===f.ref)if(Ss=!1,(h.lanes&E)!==0)h.flags&131072&&(Ss=!0);else return f.lanes=h.lanes,Na(h,f,E);return Xb(h,f,S,b,E)}function vD(h,f,S){var b=f.pendingProps,E=b.children,I=h!==null?h.memoizedState:null;if(b.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},on(ah,ws),ws|=S;else if(S&1073741824)f.memoizedState={baseLanes:0,cachePool:null},b=I!==null?I.baseLanes:S,on(ah,ws),ws|=b;else return h=I!==null?I.baseLanes|S:S,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null},f.updateQueue=null,on(ah,ws),ws|=h,null;else I!==null?(b=I.baseLanes|S,f.memoizedState=null):b=S,on(ah,ws),ws|=b;return Oi(h,f,E,S),f.child}function xD(h,f){var S=f.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(f.flags|=512,f.flags|=2097152)}function Xb(h,f,S,b,E){var I=pi(S)?Ws:ar.current;return I=Il(f,I),Zd(f,E),S=Hb(h,f,S,b,I,E),b=Gb(),h!==null&&!Ss?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~E,Na(h,f,E)):(Wn&&b&&Rb(f),f.flags|=1,Oi(h,f,S,E),f.child)}function _D(h,f,S,b,E){if(pi(S)){var I=!0;La(f)}else I=!1;if(Zd(f,E),f.stateNode===null)h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),Dk(f,S,b),Ib(f,S,b,E),b=!0;else if(h===null){var X=f.stateNode,ne=f.memoizedProps;X.props=ne;var xe=X.context,ze=S.contextType;typeof ze=="object"&&ze!==null?ze=Ks(ze):(ze=pi(S)?Ws:ar.current,ze=Il(f,ze));var it=S.getDerivedStateFromProps,Pt=typeof it=="function"||typeof X.getSnapshotBeforeUpdate=="function";Pt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ne!==b||xe!==ze)&&Bk(f,X,b,ze),kl=!1;var yt=f.memoizedState;X.state=yt,$0(f,b,X,E),xe=f.memoizedState,ne!==b||yt!==xe||Vr.current||kl?(typeof it=="function"&&(Pb(f,S,it,b),xe=f.memoizedState),(ne=kl||kk(f,S,ne,b,yt,xe,ze))?(Pt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(f.flags|=4194308)):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=xe),X.props=b,X.state=xe,X.context=ze,b=ne):(typeof X.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{X=f.stateNode,Pk(h,f),ne=f.memoizedProps,ze=f.type===f.elementType?ne:Qt(f.type,ne),X.props=ze,Pt=f.pendingProps,yt=X.context,xe=S.contextType,typeof xe=="object"&&xe!==null?xe=Ks(xe):(xe=pi(S)?Ws:ar.current,xe=Il(f,xe));var Cn=S.getDerivedStateFromProps;(it=typeof Cn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ne!==Pt||yt!==xe)&&Bk(f,X,b,xe),kl=!1,yt=f.memoizedState,X.state=yt,$0(f,b,X,E);var dt=f.memoizedState;ne!==Pt||yt!==dt||Vr.current||kl?(typeof Cn=="function"&&(Pb(f,S,Cn,b),dt=f.memoizedState),(ze=kl||kk(f,S,ze,b,yt,dt,xe)||!1)?(it||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(b,dt,xe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(b,dt,xe)),typeof X.componentDidUpdate=="function"&&(f.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof X.componentDidUpdate!="function"||ne===h.memoizedProps&&yt===h.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&yt===h.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=dt),X.props=b,X.state=dt,X.context=xe,b=ze):(typeof X.componentDidUpdate!="function"||ne===h.memoizedProps&&yt===h.memoizedState||(f.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&yt===h.memoizedState||(f.flags|=1024),b=!1)}return Jb(h,f,S,b,I,E)}function Jb(h,f,S,b,E,I){xD(h,f);var X=(f.flags&128)!==0;if(!b&&!X)return E&&Kd(f,S,!1),Na(h,f,I);b=f.stateNode,r7.current=f;var ne=X&&typeof S.getDerivedStateFromError!="function"?null:b.render();return f.flags|=1,h!==null&&X?(f.child=rh(f,h.child,null,I),f.child=rh(f,null,ne,I)):Oi(h,f,ne,I),f.memoizedState=b.state,E&&Kd(f,S,!0),f.child}function SD(h){var f=h.stateNode;f.pendingContext?N0(h,f.pendingContext,f.pendingContext!==f.context):f.context&&N0(h,f.context,!1),Ob(h,f.containerInfo)}function wD(h,f,S,b,E){return nh(),Bb(E),f.flags|=256,Oi(h,f,S,b),f.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function ov(h){return{baseLanes:h,cachePool:null}}function bD(h,f,S){var b=f.pendingProps,E=Yn.current,I=!1,X=(f.flags&128)!==0,ne;if((ne=X)||(ne=h!==null&&h.memoizedState===null?!1:(E&2)!==0),ne?(I=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(E|=1),on(Yn,E&1),h===null)return Db(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(f.mode&1?$(h)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(E=b.children,h=b.fallback,I?(b=f.mode,I=f.child,E={mode:"hidden",children:E},!(b&1)&&I!==null?(I.childLanes=0,I.pendingProps=E):I=Mv(E,b,0,null),h=yu(h,b,S,null),I.return=f,h.return=f,I.sibling=h,f.child=I,f.child.memoizedState=ov(S),f.memoizedState=sv,h):qb(f,E));if(E=h.memoizedState,E!==null){if(ne=E.dehydrated,ne!==null){if(X)return f.flags&256?(f.flags&=-257,av(h,f,S,Error(o(422)))):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(I=b.fallback,E=f.mode,b=Mv({mode:"visible",children:b.children},E,0,null),I=yu(I,E,S,null),I.flags|=2,b.return=f,I.return=f,b.sibling=I,f.child=b,f.mode&1&&rh(f,h.child,null,S),f.child.memoizedState=ov(S),f.memoizedState=sv,I);if(!(f.mode&1))f=av(h,f,S,null);else if($(ne))f=av(h,f,S,Error(o(419)));else if(b=(S&h.childLanes)!==0,Ss||b){if(b=_r,b!==null){switch(S&-S){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}b=I&(b.suspendedLanes|S)?0:I,b!==0&&b!==E.retryLane&&(E.retryLane=b,Qs(h,b,-1))}gA(),f=av(h,f,S,Error(o(421)))}else Wd(ne)?(f.flags|=128,f.child=h.child,f=g7.bind(null,h),le(ne,f),f=null):(S=E.treeContext,ge&&(_s=ft(ne),xs=f,Wn=!0,Ao=null,Gp=!1,S!==null&&(Xs[Js++]=Da,Xs[Js++]=Ba,Xs[Js++]=cu,Da=S.id,Ba=S.overflow,cu=f)),f=qb(f,f.pendingProps.children),f.flags|=4096);return f}return I?(b=CD(h,f,b.children,b.fallback,S),I=f.child,E=h.child.memoizedState,I.memoizedState=E===null?ov(S):{baseLanes:E.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,f.memoizedState=sv,b):(S=AD(h,f,b.children,S),f.memoizedState=null,S)}return I?(b=CD(h,f,b.children,b.fallback,S),I=f.child,E=h.child.memoizedState,I.memoizedState=E===null?ov(S):{baseLanes:E.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,f.memoizedState=sv,b):(S=AD(h,f,b.children,S),f.memoizedState=null,S)}function qb(h,f){return f=Mv({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function AD(h,f,S,b){var E=h.child;return h=E.sibling,S=zl(E,{mode:"visible",children:S}),!(f.mode&1)&&(S.lanes=b),S.return=f,S.sibling=null,h!==null&&(b=f.deletions,b===null?(f.deletions=[h],f.flags|=16):b.push(h)),f.child=S}function CD(h,f,S,b,E){var I=f.mode;h=h.child;var X=h.sibling,ne={mode:"hidden",children:S};return!(I&1)&&f.child!==h?(S=f.child,S.childLanes=0,S.pendingProps=ne,f.deletions=null):(S=zl(h,ne),S.subtreeFlags=h.subtreeFlags&14680064),X!==null?b=zl(X,b):(b=yu(b,I,E,null),b.flags|=2),b.return=f,S.return=f,S.sibling=b,f.child=S,b}function av(h,f,S,b){return b!==null&&Bb(b),rh(f,h.child,null,S),h=qb(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function MD(h,f,S){h.lanes|=f;var b=h.alternate;b!==null&&(b.lanes|=f),Eb(h.return,f,S)}function Yb(h,f,S,b,E){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:S,tailMode:E}:(I.isBackwards=f,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=S,I.tailMode=E)}function ED(h,f,S){var b=f.pendingProps,E=b.revealOrder,I=b.tail;if(Oi(h,f,b.children,S),b=Yn.current,b&2)b=b&1|2,f.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&MD(h,S,f);else if(h.tag===19)MD(h,S,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}b&=1}if(on(Yn,b),!(f.mode&1))f.memoizedState=null;else switch(E){case"forwards":for(S=f.child,E=null;S!==null;)h=S.alternate,h!==null&&J0(h)===null&&(E=S),S=S.sibling;S=E,S===null?(E=f.child,f.child=null):(E=S.sibling,S.sibling=null),Yb(f,!1,E,S,I);break;case"backwards":for(S=null,E=f.child,f.child=null;E!==null;){if(h=E.alternate,h!==null&&J0(h)===null){f.child=E;break}h=E.sibling,E.sibling=S,S=E,E=h}Yb(f,!0,S,null,I);break;case"together":Yb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Na(h,f,S){if(h!==null&&(f.dependencies=h.dependencies),lh|=f.lanes,!(S&f.childLanes))return null;if(h!==null&&f.child!==h.child)throw Error(o(153));if(f.child!==null){for(h=f.child,S=zl(h,h.pendingProps),f.child=S,S.return=f;h.sibling!==null;)h=h.sibling,S=S.sibling=zl(h,h.pendingProps),S.return=f;S.sibling=null}return f.child}function i7(h,f,S){switch(f.tag){case 3:SD(f),nh();break;case 5:Vk(f);break;case 1:pi(f.type)&&La(f);break;case 4:Ob(f,f.stateNode.containerInfo);break;case 10:Hp(f,f.type._context,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(on(Yn,Yn.current&1),f.flags|=128,null):S&f.child.childLanes?bD(h,f,S):(on(Yn,Yn.current&1),h=Na(h,f,S),h!==null?h.sibling:null);on(Yn,Yn.current&1);break;case 19:if(b=(S&f.childLanes)!==0,h.flags&128){if(b)return ED(h,f,S);f.flags|=128}var E=f.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),on(Yn,Yn.current),b)break;return null;case 22:case 23:return f.lanes=0,vD(h,f,S)}return Na(h,f,S)}function s7(h,f){switch(Lb(f),f.tag){case 1:return pi(f.type)&&jd(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return sh(),qt(Vr),qt(ar),zb(),h=f.flags,h&65536&&!(h&128)?(f.flags=h&-65537|128,f):null;case 5:return Nb(f),null;case 13:if(qt(Yn),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(o(340));nh()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return qt(Yn),null;case 4:return sh(),null;case 10:return Mb(f.type._context),null;case 22:case 23:return mA(),null;case 24:return null;default:return null}}var lv=!1,hu=!1,o7=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function cv(h,f){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(b){Qi(h,f,b)}else S.current=null}function Qb(h,f,S){try{S()}catch(b){Qi(h,f,b)}}var TD=!1;function a7(h,f){for(j(h.containerInfo),Xe=f;Xe!==null;)if(h=Xe,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,Xe=f;else for(;Xe!==null;){h=Xe;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,E=S.memoizedState,I=h.stateNode,X=I.getSnapshotBeforeUpdate(h.elementType===h.type?b:Qt(h.type,b),E);I.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Pe&&Ke(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ne){Qi(h,h.return,ne)}if(f=h.sibling,f!==null){f.return=h.return,Xe=f;break}Xe=h.return}return S=TD,TD=!1,S}function fu(h,f,S){var b=f.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&h)===h){var I=E.destroy;E.destroy=void 0,I!==void 0&&Qb(f,S,I)}E=E.next}while(E!==b)}}function em(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var S=f=f.next;do{if((S.tag&h)===h){var b=S.create;S.destroy=b()}S=S.next}while(S!==f)}}function Zb(h){var f=h.ref;if(f!==null){var S=h.stateNode;switch(h.tag){case 5:h=se(S);break;default:h=S}typeof f=="function"?f(h):f.current=h}}function PD(h,f,S){if(ys&&typeof ys.onCommitFiberUnmount=="function")try{ys.onCommitFiberUnmount(Qd,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(h=f.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var b=h=h.next;do{var E=b,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&Qb(f,S,I),b=b.next}while(b!==h)}break;case 1:if(cv(f,S),h=f.stateNode,typeof h.componentWillUnmount=="function")try{h.props=f.memoizedProps,h.state=f.memoizedState,h.componentWillUnmount()}catch(X){Qi(f,S,X)}break;case 5:cv(f,S);break;case 4:Pe?BD(h,f,S):pe&&pe&&(f=f.stateNode.containerInfo,S=Xt(f),Bi(f,S))}}function ID(h,f,S){for(var b=f;;)if(PD(h,b,S),b.child===null||Pe&&b.tag===4){if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function RD(h){var f=h.alternate;f!==null&&(h.alternate=null,RD(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&Ge(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function LD(h){return h.tag===5||h.tag===3||h.tag===4}function kD(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||LD(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function DD(h){if(Pe){e:{for(var f=h.return;f!==null;){if(LD(f))break e;f=f.return}throw Error(o(160))}var S=f;switch(S.tag){case 5:f=S.stateNode,S.flags&32&&(Lt(f),S.flags&=-33),S=kD(h),tA(h,S,f);break;case 3:case 4:f=S.stateNode.containerInfo,S=kD(h),eA(h,S,f);break;default:throw Error(o(161))}}}function eA(h,f,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,f?Ie(S,h,f):je(S,h);else if(b!==4&&(h=h.child,h!==null))for(eA(h,f,S),h=h.sibling;h!==null;)eA(h,f,S),h=h.sibling}function tA(h,f,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,f?_e(S,h,f):ot(S,h);else if(b!==4&&(h=h.child,h!==null))for(tA(h,f,S),h=h.sibling;h!==null;)tA(h,f,S),h=h.sibling}function BD(h,f,S){for(var b=f,E=!1,I,X;;){if(!E){E=b.return;e:for(;;){if(E===null)throw Error(o(160));switch(I=E.stateNode,E.tag){case 5:X=!1;break e;case 3:I=I.containerInfo,X=!0;break e;case 4:I=I.containerInfo,X=!0;break e}E=E.return}E=!0}if(b.tag===5||b.tag===6)ID(h,b,S),X?at(I,b.stateNode):Fe(I,b.stateNode);else if(b.tag===18)X?ti(I,b.stateNode):Hn(I,b.stateNode);else if(b.tag===4){if(b.child!==null){I=b.stateNode.containerInfo,X=!0,b.child.return=b,b=b.child;continue}}else if(PD(h,b,S),b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return,b.tag===4&&(E=!1)}b.sibling.return=b.return,b=b.sibling}}function nA(h,f){if(Pe){switch(f.tag){case 0:case 11:case 14:case 15:fu(3,f,f.return),em(3,f),fu(5,f,f.return);return;case 1:return;case 5:var S=f.stateNode;if(S!=null){var b=f.memoizedProps;h=h!==null?h.memoizedProps:b;var E=f.type,I=f.updateQueue;f.updateQueue=null,I!==null&&Y(S,I,E,h,b,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));S=f.memoizedProps,we(f.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:ge&&h!==null&&h.memoizedState.isDehydrated&&Nt(f.stateNode.containerInfo);return;case 12:return;case 13:uv(f);return;case 19:uv(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:fu(3,f,f.return),em(3,f),fu(5,f,f.return);return;case 12:return;case 13:uv(f);return;case 19:uv(f);return;case 3:ge&&h!==null&&h.memoizedState.isDehydrated&&Nt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(pe){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Bi(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function uv(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new o7),f.forEach(function(b){var E=y7.bind(null,h,b);S.has(b)||(S.add(b),b.then(E,E))})}}function l7(h,f){for(Xe=f;Xe!==null;){f=Xe;var S=f.deletions;if(S!==null)for(var b=0;b<S.length;b++){var E=S[b];try{var I=h;Pe?BD(I,E,f):ID(I,E,f);var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(ut){Qi(E,f,ut)}}if(S=f.child,f.subtreeFlags&12854&&S!==null)S.return=f,Xe=S;else for(;Xe!==null;){f=Xe;try{var ne=f.flags;if(ne&32&&Pe&&Lt(f.stateNode),ne&512){var xe=f.alternate;if(xe!==null){var ze=xe.ref;ze!==null&&(typeof ze=="function"?ze(null):ze.current=null)}}if(ne&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var it=f.alternate;(it===null||it.memoizedState===null)&&(cA=fr())}break;case 22:var Pt=f.memoizedState!==null,yt=f.alternate,Cn=yt!==null&&yt.memoizedState!==null;if(S=f,Pe){e:if(b=S,E=Pt,I=null,Pe)for(var dt=b;;){if(dt.tag===5){if(I===null){I=dt;var vi=dt.stateNode;E?An(vi):ve(dt.stateNode,dt.memoizedProps)}}else if(dt.tag===6){if(I===null){var eo=dt.stateNode;E?te(eo):Ee(eo,dt.memoizedProps)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===b)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===b)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===b)break e;I===dt&&(I=null),dt=dt.return}I===dt&&(I=null),dt.sibling.return=dt.return,dt=dt.sibling}}if(Pt&&!Cn&&S.mode&1){Xe=S;for(var ce=S.child;ce!==null;){for(S=Xe=ce;Xe!==null;){b=Xe;var ie=b.child;switch(b.tag){case 0:case 11:case 14:case 15:fu(4,b,b.return);break;case 1:cv(b,b.return);var me=b.stateNode;if(typeof me.componentWillUnmount=="function"){var qe=b.return;try{me.props=b.memoizedProps,me.state=b.memoizedState,me.componentWillUnmount()}catch(ut){Qi(b,qe,ut)}}break;case 5:cv(b,b.return);break;case 22:if(b.memoizedState!==null){FD(S);continue}}ie!==null?(ie.return=b,Xe=ie):FD(S)}ce=ce.sibling}}}switch(ne&4102){case 2:DD(f),f.flags&=-3;break;case 6:DD(f),f.flags&=-3,nA(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,nA(f.alternate,f);break;case 4:nA(f.alternate,f)}}catch(ut){Qi(f,f.return,ut)}if(S=f.sibling,S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}}function c7(h,f,S){Xe=h,OD(h)}function OD(h,f,S){for(var b=(h.mode&1)!==0;Xe!==null;){var E=Xe,I=E.child;if(E.tag===22&&b){var X=E.memoizedState!==null||lv;if(!X){var ne=E.alternate,xe=ne!==null&&ne.memoizedState!==null||hu;ne=lv;var ze=hu;if(lv=X,(hu=xe)&&!ze)for(Xe=E;Xe!==null;)X=Xe,xe=X.child,X.tag===22&&X.memoizedState!==null?zD(E):xe!==null?(xe.return=X,Xe=xe):zD(E);for(;I!==null;)Xe=I,OD(I),I=I.sibling;Xe=E,lv=ne,hu=ze}ND(h)}else E.subtreeFlags&8772&&I!==null?(I.return=E,Xe=I):ND(h)}}function ND(h){for(;Xe!==null;){var f=Xe;if(f.flags&8772){var S=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:hu||em(5,f);break;case 1:var b=f.stateNode;if(f.flags&4&&!hu)if(S===null)b.componentDidMount();else{var E=f.elementType===f.type?S.memoizedProps:Qt(f.type,S.memoizedProps);b.componentDidUpdate(E,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=f.updateQueue;I!==null&&Rk(f,I,b);break;case 3:var X=f.updateQueue;if(X!==null){if(S=null,f.child!==null)switch(f.child.tag){case 5:S=se(f.child.stateNode);break;case 1:S=f.child.stateNode}Rk(f,X,S)}break;case 5:var ne=f.stateNode;S===null&&f.flags&4&&ct(ne,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ge&&f.memoizedState===null){var xe=f.alternate;if(xe!==null){var ze=xe.memoizedState;if(ze!==null){var it=ze.dehydrated;it!==null&&Ut(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}hu||f.flags&512&&Zb(f)}catch(Pt){Qi(f,f.return,Pt)}}if(f===h){Xe=null;break}if(S=f.sibling,S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}function FD(h){for(;Xe!==null;){var f=Xe;if(f===h){Xe=null;break}var S=f.sibling;if(S!==null){S.return=f.return,Xe=S;break}Xe=f.return}}function zD(h){for(;Xe!==null;){var f=Xe;try{switch(f.tag){case 0:case 11:case 15:var S=f.return;try{em(4,f)}catch(xe){Qi(f,S,xe)}break;case 1:var b=f.stateNode;if(typeof b.componentDidMount=="function"){var E=f.return;try{b.componentDidMount()}catch(xe){Qi(f,E,xe)}}var I=f.return;try{Zb(f)}catch(xe){Qi(f,I,xe)}break;case 5:var X=f.return;try{Zb(f)}catch(xe){Qi(f,X,xe)}}}catch(xe){Qi(f,f.return,xe)}if(f===h){Xe=null;break}var ne=f.sibling;if(ne!==null){ne.return=f.return,Xe=ne;break}Xe=f.return}}var dv=0,hv=1,fv=2,pv=3,mv=4;if(typeof Symbol=="function"&&Symbol.for){var tm=Symbol.for;dv=tm("selector.component"),hv=tm("selector.has_pseudo_class"),fv=tm("selector.role"),pv=tm("selector.test_id"),mv=tm("selector.text")}function rA(h){var f=Ce(h);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(h=Mt(h),h===null)throw Error(o(362));return h.stateNode.current}function iA(h,f){switch(f.$$typeof){case dv:if(h.type===f.value)return!0;break;case hv:e:{f=f.value,h=[h,0];for(var S=0;S<h.length;){var b=h[S++],E=h[S++],I=f[E];if(b.tag!==5||!fe(b)){for(;I!=null&&iA(b,I);)E++,I=f[E];if(E===f.length){f=!0;break e}else for(b=b.child;b!==null;)h.push(b,E),b=b.sibling}}f=!1}return f;case fv:if(h.tag===5&&De(h.stateNode,f.value))return!0;break;case mv:if((h.tag===5||h.tag===6)&&(h=B(h),h!==null&&0<=h.indexOf(f.value)))return!0;break;case pv:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function sA(h){switch(h.$$typeof){case dv:return"<"+(L(h.value)||"Unknown")+">";case hv:return":has("+(sA(h)||"")+")";case fv:return'[role="'+h.value+'"]';case mv:return'"'+h.value+'"';case pv:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function UD(h,f){var S=[];h=[h,0];for(var b=0;b<h.length;){var E=h[b++],I=h[b++],X=f[I];if(E.tag!==5||!fe(E)){for(;X!=null&&iA(E,X);)I++,X=f[I];if(I===f.length)S.push(E);else for(E=E.child;E!==null;)h.push(E,I),E=E.sibling}}return S}function oA(h,f){if(!gt)throw Error(o(363));h=rA(h),h=UD(h,f),f=[],h=Array.from(h);for(var S=0;S<h.length;){var b=h[S++];if(b.tag===5)fe(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)h.push(b),b=b.sibling}return f}var u7=Math.ceil,gv=a.ReactCurrentDispatcher,aA=a.ReactCurrentOwner,pr=a.ReactCurrentBatchConfig,Ft=0,_r=null,Sr=null,ri=0,ws=0,ah=Pn(0),Lr=0,nm=null,lh=0,yv=0,lA=0,rm=null,qi=null,cA=0,uA=1/0;function ch(){uA=fr()+500}var vv=!1,dA=null,Bl=null,xv=!1,Ol=null,_v=0,im=0,hA=null,Sv=-1,wv=0;function Ni(){return Ft&6?fr():Sv!==-1?Sv:Sv=fr()}function Nl(h){return h.mode&1?Ft&2&&ri!==0?ri&-ri:vn.transition!==null?(wv===0&&(h=Xd,Xd<<=1,!(Xd&4194240)&&(Xd=64),wv=h),wv):(h=Yt,h!==0?h:ke()):1}function Qs(h,f,S){if(50<im)throw im=0,hA=null,Error(o(185));var b=bv(h,f);return b===null?null:(iu(b,f,S),(!(Ft&2)||b!==_r)&&(b===_r&&(!(Ft&2)&&(yv|=f),Lr===4&&Fl(b,ri)),Yi(b,S),f===1&&Ft===0&&!(h.mode&1)&&(ch(),W&&At())),b)}function bv(h,f){h.lanes|=f;var S=h.alternate;for(S!==null&&(S.lanes|=f),S=h,h=h.return;h!==null;)h.childLanes|=f,S=h.alternate,S!==null&&(S.childLanes|=f),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Yi(h,f){var S=h.callbackNode;wb(h,f);var b=qd(h,h===_r?ri:0);if(b===0)S!==null&&U0(S),h.callbackNode=null,h.callbackPriority=0;else if(f=b&-b,h.callbackPriority!==f){if(S!=null&&U0(S),f===1)h.tag===0?Ze(GD.bind(null,h)):he(GD.bind(null,h)),Ye?et(function(){Ft===0&&At()}):su(wo,At),S=null;else{switch(Yd(b)){case 1:S=wo;break;case 4:S=ou;break;case 16:S=Up;break;case 536870912:S=G0;break;default:S=Up}S=YD(S,HD.bind(null,h))}h.callbackPriority=f,h.callbackNode=S}}function HD(h,f){if(Sv=-1,wv=0,Ft&6)throw Error(o(327));var S=h.callbackNode;if(gu()&&h.callbackNode!==S)return null;var b=qd(h,h===_r?ri:0);if(b===0)return null;if(b&30||b&h.expiredLanes||f)f=Av(h,b);else{f=b;var E=Ft;Ft|=2;var I=WD();(_r!==h||ri!==f)&&(ch(),pu(h,f));do try{f7();break}catch(ne){$D(h,ne)}while(1);lu(),gv.current=I,Ft=E,Sr!==null?f=0:(_r=null,ri=0,f=Lr)}if(f!==0){if(f===2&&(E=ru(h),E!==0&&(b=E,f=fA(h,E))),f===1)throw S=nm,pu(h,0),Fl(h,b),Yi(h,fr()),S;if(f===6)Fl(h,b);else{if(E=h.current.alternate,!(b&30)&&!d7(E)&&(f=Av(h,b),f===2&&(I=ru(h),I!==0&&(b=I,f=fA(h,I))),f===1))throw S=nm,pu(h,0),Fl(h,b),Yi(h,fr()),S;switch(h.finishedWork=E,h.finishedLanes=b,f){case 0:case 1:throw Error(o(345));case 2:mu(h,qi);break;case 3:if(Fl(h,b),(b&130023424)===b&&(f=cA+500-fr(),10<f)){if(qd(h,0)!==0)break;if(E=h.suspendedLanes,(E&b)!==b){Ni(),h.pingedLanes|=h.suspendedLanes&E;break}h.timeoutHandle=Te(mu.bind(null,h,qi),f);break}mu(h,qi);break;case 4:if(Fl(h,b),(b&4194240)===b)break;for(f=h.eventTimes,E=-1;0<b;){var X=31-gs(b);I=1<<X,X=f[X],X>E&&(E=X),b&=~I}if(b=E,b=fr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*u7(b/1960))-b,10<b){h.timeoutHandle=Te(mu.bind(null,h,qi),b);break}mu(h,qi);break;case 5:mu(h,qi);break;default:throw Error(o(329))}}}return Yi(h,fr()),h.callbackNode===S?HD.bind(null,h):null}function fA(h,f){var S=rm;return h.current.memoizedState.isDehydrated&&(pu(h,f).flags|=256),h=Av(h,f),h!==2&&(f=qi,qi=S,f!==null&&pA(f)),h}function pA(h){qi===null?qi=h:qi.push.apply(qi,h)}function d7(h){for(var f=h;;){if(f.flags&16384){var S=f.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var b=0;b<S.length;b++){var E=S[b],I=E.getSnapshot;E=E.value;try{if(!vs(I(),E))return!1}catch{return!1}}}if(S=f.child,f.subtreeFlags&16384&&S!==null)S.return=f,f=S;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Fl(h,f){for(f&=~lA,f&=~yv,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var S=31-gs(f),b=1<<S;h[S]=-1,f&=~b}}function GD(h){if(Ft&6)throw Error(o(327));gu();var f=qd(h,0);if(!(f&1))return Yi(h,fr()),null;var S=Av(h,f);if(h.tag!==0&&S===2){var b=ru(h);b!==0&&(f=b,S=fA(h,b))}if(S===1)throw S=nm,pu(h,0),Fl(h,f),Yi(h,fr()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,mu(h,qi),Yi(h,fr()),null}function VD(h){Ol!==null&&Ol.tag===0&&!(Ft&6)&&gu();var f=Ft;Ft|=1;var S=pr.transition,b=Yt;try{if(pr.transition=null,Yt=1,h)return h()}finally{Yt=b,pr.transition=S,Ft=f,!(Ft&6)&&At()}}function mA(){ws=ah.current,qt(ah)}function pu(h,f){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Ve&&(h.timeoutHandle=Ve,Be(S)),Sr!==null)for(S=Sr.return;S!==null;){var b=S;switch(Lb(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&jd();break;case 3:sh(),qt(Vr),qt(ar),zb();break;case 5:Nb(b);break;case 4:sh();break;case 13:qt(Yn);break;case 19:qt(Yn);break;case 10:Mb(b.type._context);break;case 22:case 23:mA()}S=S.return}if(_r=h,Sr=h=zl(h.current,null),ri=ws=f,Lr=0,nm=null,lA=yv=lh=0,qi=rm=null,Qo!==null){for(f=0;f<Qo.length;f++)if(S=Qo[f],b=S.interleaved,b!==null){S.interleaved=null;var E=b.next,I=S.pending;if(I!==null){var X=I.next;I.next=E,b.next=X}S.pending=b}Qo=null}return h}function $D(h,f){do{var S=Sr;try{if(lu(),q0.current=nv,Y0){for(var b=lr.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}Y0=!1}if(oh=0,Wr=mi=lr=null,Kp=!1,Xp=0,aA.current=null,S===null||S.return===null){Lr=1,nm=f,Sr=null;break}e:{var I=h,X=S.return,ne=S,xe=f;if(f=ri,ne.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var ze=xe,it=ne,Pt=it.tag;if(!(it.mode&1)&&(Pt===0||Pt===11||Pt===15)){var yt=it.alternate;yt?(it.updateQueue=yt.updateQueue,it.memoizedState=yt.memoizedState,it.lanes=yt.lanes):(it.updateQueue=null,it.memoizedState=null)}var Cn=dD(X);if(Cn!==null){Cn.flags&=-257,hD(Cn,X,ne,I,f),Cn.mode&1&&uD(I,ze,f),f=Cn,xe=ze;var dt=f.updateQueue;if(dt===null){var vi=new Set;vi.add(xe),f.updateQueue=vi}else dt.add(xe);break e}else{if(!(f&1)){uD(I,ze,f),gA();break e}xe=Error(o(426))}}else if(Wn&&ne.mode&1){var eo=dD(X);if(eo!==null){!(eo.flags&65536)&&(eo.flags|=256),hD(eo,X,ne,I,f),Bb(xe);break e}}I=xe,Lr!==4&&(Lr=2),rm===null?rm=[I]:rm.push(I),xe=jb(xe,ne),ne=X;do{switch(ne.tag){case 3:ne.flags|=65536,f&=-f,ne.lanes|=f;var ce=lD(ne,xe,f);Ik(ne,ce);break e;case 1:I=xe;var ie=ne.type,me=ne.stateNode;if(!(ne.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Bl===null||!Bl.has(me)))){ne.flags|=65536,f&=-f,ne.lanes|=f;var qe=cD(ne,I,f);Ik(ne,qe);break e}}ne=ne.return}while(ne!==null)}KD(S)}catch(ut){f=ut,Sr===S&&S!==null&&(Sr=S=S.return);continue}break}while(1)}function WD(){var h=gv.current;return gv.current=nv,h===null?nv:h}function gA(){(Lr===0||Lr===3||Lr===2)&&(Lr=4),_r===null||!(lh&268435455)&&!(yv&268435455)||Fl(_r,ri)}function Av(h,f){var S=Ft;Ft|=2;var b=WD();_r===h&&ri===f||pu(h,f);do try{h7();break}catch(E){$D(h,E)}while(1);if(lu(),Ft=S,gv.current=b,Sr!==null)throw Error(o(261));return _r=null,ri=0,Lr}function h7(){for(;Sr!==null;)jD(Sr)}function f7(){for(;Sr!==null&&!H0();)jD(Sr)}function jD(h){var f=qD(h.alternate,h,ws);h.memoizedProps=h.pendingProps,f===null?KD(h):Sr=f,aA.current=null}function KD(h){var f=h;do{var S=f.alternate;if(h=f.return,f.flags&32768){if(S=s7(S,f),S!==null){S.flags&=32767,Sr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Lr=6,Sr=null;return}}else if(S=n7(S,f,ws),S!==null){Sr=S;return}if(f=f.sibling,f!==null){Sr=f;return}Sr=f=h}while(f!==null);Lr===0&&(Lr=5)}function mu(h,f){var S=Yt,b=pr.transition;try{pr.transition=null,Yt=1,p7(h,f,S)}finally{pr.transition=b,Yt=S}return null}function p7(h,f,S){do gu();while(Ol!==null);if(Ft&6)throw Error(o(327));var b=h.finishedWork,E=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=b.lanes|b.childLanes;if(bb(h,I),h===_r&&(Sr=_r=null,ri=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||xv||(xv=!0,YD(Up,function(){return gu(),null})),I=(b.flags&15990)!==0,b.subtreeFlags&15990||I){I=pr.transition,pr.transition=null;var X=Yt;Yt=1;var ne=Ft;Ft|=4,aA.current=null,a7(h,b),l7(h,b),O(h.containerInfo),h.current=b,c7(b),zp(),Ft=ne,Yt=X,pr.transition=I}else h.current=b;if(xv&&(xv=!1,Ol=h,_v=E),I=h.pendingLanes,I===0&&(Bl=null),Ab(b.stateNode),Yi(h,fr()),f!==null)for(S=h.onRecoverableError,b=0;b<f.length;b++)S(f[b]);if(vv)throw vv=!1,h=dA,dA=null,h;return _v&1&&h.tag!==0&&gu(),I=h.pendingLanes,I&1?h===hA?im++:(im=0,hA=h):im=0,At(),null}function gu(){if(Ol!==null){var h=Yd(_v),f=pr.transition,S=Yt;try{if(pr.transition=null,Yt=16>h?16:h,Ol===null)var b=!1;else{if(h=Ol,Ol=null,_v=0,Ft&6)throw Error(o(331));var E=Ft;for(Ft|=4,Xe=h.current;Xe!==null;){var I=Xe,X=I.child;if(Xe.flags&16){var ne=I.deletions;if(ne!==null){for(var xe=0;xe<ne.length;xe++){var ze=ne[xe];for(Xe=ze;Xe!==null;){var it=Xe;switch(it.tag){case 0:case 11:case 15:fu(8,it,I)}var Pt=it.child;if(Pt!==null)Pt.return=it,Xe=Pt;else for(;Xe!==null;){it=Xe;var yt=it.sibling,Cn=it.return;if(RD(it),it===ze){Xe=null;break}if(yt!==null){yt.return=Cn,Xe=yt;break}Xe=Cn}}}var dt=I.alternate;if(dt!==null){var vi=dt.child;if(vi!==null){dt.child=null;do{var eo=vi.sibling;vi.sibling=null,vi=eo}while(vi!==null)}}Xe=I}}if(I.subtreeFlags&2064&&X!==null)X.return=I,Xe=X;else e:for(;Xe!==null;){if(I=Xe,I.flags&2048)switch(I.tag){case 0:case 11:case 15:fu(9,I,I.return)}var ce=I.sibling;if(ce!==null){ce.return=I.return,Xe=ce;break e}Xe=I.return}}var ie=h.current;for(Xe=ie;Xe!==null;){X=Xe;var me=X.child;if(X.subtreeFlags&2064&&me!==null)me.return=X,Xe=me;else e:for(X=ie;Xe!==null;){if(ne=Xe,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:em(9,ne)}}catch(ut){Qi(ne,ne.return,ut)}if(ne===X){Xe=null;break e}var qe=ne.sibling;if(qe!==null){qe.return=ne.return,Xe=qe;break e}Xe=ne.return}}if(Ft=E,At(),ys&&typeof ys.onPostCommitFiberRoot=="function")try{ys.onPostCommitFiberRoot(Qd,h)}catch{}b=!0}return b}finally{Yt=S,pr.transition=f}}return!1}function XD(h,f,S){f=jb(S,f),f=lD(h,f,1),Dl(h,f),f=Ni(),h=bv(h,1),h!==null&&(iu(h,1,f),Yi(h,f))}function Qi(h,f,S){if(h.tag===3)XD(h,h,S);else for(;f!==null;){if(f.tag===3){XD(f,h,S);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Bl===null||!Bl.has(b))){h=jb(S,h),h=cD(f,h,1),Dl(f,h),h=Ni(),f=bv(f,1),f!==null&&(iu(f,1,h),Yi(f,h));break}}f=f.return}}function m7(h,f,S){var b=h.pingCache;b!==null&&b.delete(f),f=Ni(),h.pingedLanes|=h.suspendedLanes&S,_r===h&&(ri&S)===S&&(Lr===4||Lr===3&&(ri&130023424)===ri&&500>fr()-cA?pu(h,0):lA|=S),Yi(h,f)}function JD(h,f){f===0&&(h.mode&1?(f=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):f=1);var S=Ni();h=bv(h,f),h!==null&&(iu(h,f,S),Yi(h,S))}function g7(h){var f=h.memoizedState,S=0;f!==null&&(S=f.retryLane),JD(h,S)}function y7(h,f){var S=0;switch(h.tag){case 13:var b=h.stateNode,E=h.memoizedState;E!==null&&(S=E.retryLane);break;case 19:b=h.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(f),JD(h,S)}var qD;qD=function(h,f,S){if(h!==null)if(h.memoizedProps!==f.pendingProps||Vr.current)Ss=!0;else{if(!(h.lanes&S)&&!(f.flags&128))return Ss=!1,i7(h,f,S);Ss=!!(h.flags&131072)}else Ss=!1,Wn&&f.flags&1048576&&Ok(f,K0,f.index);switch(f.lanes=0,f.tag){case 2:var b=f.type;h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps;var E=Il(f,ar.current);Zd(f,S),E=Hb(null,f,b,h,E,S);var I=Gb();return f.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,pi(b)?(I=!0,La(f)):I=!1,f.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Tb(f),E.updater=W0,f.stateNode=E,E._reactInternals=f,Ib(f,b,h,S),f=Jb(null,f,b,!0,I,S)):(f.tag=0,Wn&&I&&Rb(f),Oi(null,f,E,S),f=f.child),f;case 16:b=f.elementType;e:{switch(h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),h=f.pendingProps,E=b._init,b=E(b._payload),f.type=b,E=f.tag=x7(b),h=Qt(b,h),E){case 0:f=Xb(null,f,b,h,S);break e;case 1:f=_D(null,f,b,h,S);break e;case 11:f=mD(null,f,b,h,S);break e;case 14:f=gD(null,f,b,Qt(b.type,h),S);break e}throw Error(o(306,b,""))}return f;case 0:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:Qt(b,E),Xb(h,f,b,E,S);case 1:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:Qt(b,E),_D(h,f,b,E,S);case 3:e:{if(SD(f),h===null)throw Error(o(387));b=f.pendingProps,I=f.memoizedState,E=I.element,Pk(h,f),$0(f,b,null,S);var X=f.memoizedState;if(b=X.element,ge&&I.isDehydrated)if(I={element:b,isDehydrated:!1,cache:X.cache,transitions:X.transitions},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){E=Error(o(423)),f=wD(h,f,b,S,E);break e}else if(b!==E){E=Error(o(424)),f=wD(h,f,b,S,E);break e}else for(ge&&(_s=Se(f.stateNode.containerInfo),xs=f,Wn=!0,Ao=null,Gp=!1),S=Gk(f,null,b,S),f.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(nh(),b===E){f=Na(h,f,S);break e}Oi(h,f,b,S)}f=f.child}return f;case 5:return Vk(f),h===null&&Db(f),b=f.type,E=f.pendingProps,I=h!==null?h.memoizedProps:null,X=E.children,Z(b,E)?X=null:I!==null&&Z(b,I)&&(f.flags|=32),xD(h,f),Oi(h,f,X,S),f.child;case 6:return h===null&&Db(f),null;case 13:return bD(h,f,S);case 4:return Ob(f,f.stateNode.containerInfo),b=f.pendingProps,h===null?f.child=rh(f,null,b,S):Oi(h,f,b,S),f.child;case 11:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:Qt(b,E),mD(h,f,b,E,S);case 7:return Oi(h,f,f.pendingProps,S),f.child;case 8:return Oi(h,f,f.pendingProps.children,S),f.child;case 12:return Oi(h,f,f.pendingProps.children,S),f.child;case 10:e:{if(b=f.type._context,E=f.pendingProps,I=f.memoizedProps,X=E.value,Hp(f,b,X),I!==null)if(vs(I.value,X)){if(I.children===E.children&&!Vr.current){f=Na(h,f,S);break e}}else for(I=f.child,I!==null&&(I.return=f);I!==null;){var ne=I.dependencies;if(ne!==null){X=I.child;for(var xe=ne.firstContext;xe!==null;){if(xe.context===b){if(I.tag===1){xe=ka(-1,S&-S),xe.tag=2;var ze=I.updateQueue;if(ze!==null){ze=ze.shared;var it=ze.pending;it===null?xe.next=xe:(xe.next=it.next,it.next=xe),ze.pending=xe}}I.lanes|=S,xe=I.alternate,xe!==null&&(xe.lanes|=S),Eb(I.return,S,f),ne.lanes|=S;break}xe=xe.next}}else if(I.tag===10)X=I.type===f.type?null:I.child;else if(I.tag===18){if(X=I.return,X===null)throw Error(o(341));X.lanes|=S,ne=X.alternate,ne!==null&&(ne.lanes|=S),Eb(X,S,f),X=I.sibling}else X=I.child;if(X!==null)X.return=I;else for(X=I;X!==null;){if(X===f){X=null;break}if(I=X.sibling,I!==null){I.return=X.return,X=I;break}X=X.return}I=X}Oi(h,f,E.children,S),f=f.child}return f;case 9:return E=f.type,b=f.pendingProps.children,Zd(f,S),E=Ks(E),b=b(E),f.flags|=1,Oi(h,f,b,S),f.child;case 14:return b=f.type,E=Qt(b,f.pendingProps),E=Qt(b.type,E),gD(h,f,b,E,S);case 15:return yD(h,f,f.type,f.pendingProps,S);case 17:return b=f.type,E=f.pendingProps,E=f.elementType===b?E:Qt(b,E),h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,pi(b)?(h=!0,La(f)):h=!1,Zd(f,S),Dk(f,b,E),Ib(f,b,E,S),Jb(null,f,b,!0,h,S);case 19:return ED(h,f,S);case 22:return vD(h,f,S)}throw Error(o(156,f.tag))};function YD(h,f){return su(h,f)}function v7(h,f,S,b){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(h,f,S,b){return new v7(h,f,S,b)}function yA(h){return h=h.prototype,!(!h||!h.isReactComponent)}function x7(h){if(typeof h=="function")return yA(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===_)return 14}return 2}function zl(h,f){var S=h.alternate;return S===null?(S=Zs(h.tag,f,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=f,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,f=h.dependencies,S.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function Cv(h,f,S,b,E,I){var X=2;if(b=h,typeof h=="function")yA(h)&&(X=1);else if(typeof h=="string")X=5;else e:switch(h){case u:return yu(S.children,E,I,f);case d:X=8,E|=8;break;case p:return h=Zs(12,S,f,E|2),h.elementType=p,h.lanes=I,h;case v:return h=Zs(13,S,f,E),h.elementType=v,h.lanes=I,h;case x:return h=Zs(19,S,f,E),h.elementType=x,h.lanes=I,h;case A:return Mv(S,E,I,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:X=10;break e;case y:X=9;break e;case g:X=11;break e;case _:X=14;break e;case w:X=16,b=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return f=Zs(X,S,f,E),f.elementType=h,f.type=b,f.lanes=I,f}function yu(h,f,S,b){return h=Zs(7,h,b,f),h.lanes=S,h}function Mv(h,f,S,b){return h=Zs(22,h,b,f),h.elementType=A,h.lanes=S,h.stateNode={},h}function vA(h,f,S){return h=Zs(6,h,null,f),h.lanes=S,h}function xA(h,f,S){return f=Zs(4,h.children!==null?h.children:[],h.key,f),f.lanes=S,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function _7(h,f,S,b,E){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fp(0),this.expirationTimes=Fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.identifierPrefix=b,this.onRecoverableError=E,ge&&(this.mutableSourceEagerHydrationData=null)}function QD(h,f,S,b,E,I,X,ne,xe){return h=new _7(h,f,S,ne,xe),f===1?(f=1,I===!0&&(f|=8)):f=0,I=Zs(3,null,null,f),h.current=I,I.stateNode=h,I.memoizedState={element:b,isDehydrated:S,cache:null,transitions:null},Tb(I),h}function ZD(h){if(!h)return $n;h=h._reactInternals;e:{if(R(h)!==h||h.tag!==1)throw Error(o(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(pi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(pi(S))return F0(h,S,f)}return f}function eB(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=U(f),h===null?null:h.stateNode}function tB(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<f?S:f}}function _A(h,f){tB(h,f),(h=h.alternate)&&tB(h,f)}function S7(h){return h=U(h),h===null?null:h.stateNode}function w7(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var f=Ni();Qs(h,134217728,f),_A(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var f=Ni(),S=Nl(h);Qs(h,S,f),_A(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var S=Rl(f.pendingLanes);S!==0&&(Ll(f,S|1),Yi(f,fr()),!(Ft&6)&&(ch(),At()))}break;case 13:var b=Ni();VD(function(){return Qs(h,1,b)}),_A(h,1)}},t.batchedUpdates=function(h,f){var S=Ft;Ft|=1;try{return h(f)}finally{Ft=S,Ft===0&&(ch(),W&&At())}},t.createComponentSelector=function(h){return{$$typeof:dv,value:h}},t.createContainer=function(h,f,S,b,E,I,X){return QD(h,f,!1,null,S,b,E,I,X)},t.createHasPseudoClassSelector=function(h){return{$$typeof:hv,value:h}},t.createHydrationContainer=function(h,f,S,b,E,I,X,ne,xe){return h=QD(S,b,!0,h,E,I,X,ne,xe),h.context=ZD(null),S=h.current,b=Ni(),E=Nl(S),I=ka(b,E),I.callback=f??null,Dl(S,I),h.current.lanes=E,iu(h,E,b),Yi(h,b),h},t.createPortal=function(h,f,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:h,containerInfo:f,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:fv,value:h}},t.createTestNameSelector=function(h){return{$$typeof:pv,value:h}},t.createTextSelector=function(h){return{$$typeof:mv,value:h}},t.deferredUpdates=function(h){var f=Yt,S=pr.transition;try{return pr.transition=null,Yt=16,h()}finally{Yt=f,pr.transition=S}},t.discreteUpdates=function(h,f,S,b,E){var I=Yt,X=pr.transition;try{return pr.transition=null,Yt=1,h(f,S,b,E)}finally{Yt=I,pr.transition=X,Ft===0&&ch()}},t.findAllNodes=oA,t.findBoundingRects=function(h,f){if(!gt)throw Error(o(363));f=oA(h,f),h=[];for(var S=0;S<f.length;S++)h.push(K(f[S]));for(f=h.length-1;0<f;f--){S=h[f];for(var b=S.x,E=b+S.width,I=S.y,X=I+S.height,ne=f-1;0<=ne;ne--)if(f!==ne){var xe=h[ne],ze=xe.x,it=ze+xe.width,Pt=xe.y,yt=Pt+xe.height;if(b>=ze&&I>=Pt&&E<=it&&X<=yt){h.splice(f,1);break}else if(b!==ze||S.width!==xe.width||yt<I||Pt>X){if(!(I!==Pt||S.height!==xe.height||it<b||ze>E)){ze>b&&(xe.width+=ze-b,xe.x=b),it<E&&(xe.width=E-ze),h.splice(f,1);break}}else{Pt>I&&(xe.height+=Pt-I,xe.y=I),yt<X&&(xe.height=X-Pt),h.splice(f,1);break}}}return h},t.findHostInstance=eB,t.findHostInstanceWithNoPortals=function(h){return h=V(h),h=h!==null?J(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return eB(h)},t.flushControlled=function(h){var f=Ft;Ft|=1;var S=pr.transition,b=Yt;try{pr.transition=null,Yt=1,h()}finally{Yt=b,pr.transition=S,Ft=f,Ft===0&&(ch(),At())}},t.flushPassiveEffects=gu,t.flushSync=VD,t.focusWithin=function(h,f){if(!gt)throw Error(o(363));for(h=rA(h),f=UD(h,f),f=Array.from(f),h=0;h<f.length;){var S=f[h++];if(!fe(S)){if(S.tag===5&&Ne(S.stateNode))return!0;for(S=S.child;S!==null;)f.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Yt},t.getFindAllNodesFailureDescription=function(h,f){if(!gt)throw Error(o(363));var S=0,b=[];h=[rA(h),0];for(var E=0;E<h.length;){var I=h[E++],X=h[E++],ne=f[X];if((I.tag!==5||!fe(I))&&(iA(I,ne)&&(b.push(sA(ne)),X++,X>S&&(S=X)),X<f.length))for(I=I.child;I!==null;)h.push(I,X),I=I.sibling}if(S<f.length){for(h=[];S<f.length;S++)h.push(sA(f[S]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return se(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:S7,findFiberByHostInstance:h.findFiberByHostInstance||w7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)h=!0;else{try{Qd=f.inject(h),ys=f}catch{}h=!!f.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,f,S,b){if(!gt)throw Error(o(363));h=oA(h,f);var E=He(h,S,b).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(h,f){var S=f._getVersion;S=S(f._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[f,S]:h.mutableSourceEagerHydrationData.push(f,S)},t.runWithPriority=function(h,f){var S=Yt;try{return Yt=h,f()}finally{Yt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,f,S,b){var E=f.current,I=Ni(),X=Nl(E);return S=ZD(S),f.context===null?f.context=S:f.pendingContext=S,f=ka(I,X),f.payload={element:h},b=b===void 0?null:b,b!==null&&(f.callback=b),Dl(E,f),h=Qs(E,X,I),h!==null&&V0(h,E,X),X},t};(function(n){n.exports=Foe})(Ooe);const zoe=mS(QT);function ZV(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Ja=[];function e6(n,e,t=!1,r={}){for(const s of Ja)if(ZV(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Ja.indexOf(i);s!==-1&&Ja.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Ja.push(i),!t)throw i.promise}const Uoe=(n,e,t)=>e6(n,e,!1,t),Hoe=(n,e,t)=>void e6(n,e,!0,t),Goe=n=>{if(n===void 0||n.length===0)Ja.splice(0,Ja.length);else{const e=Ja.find(t=>ZV(n,t.keys,t.equal));if(e){const t=Ja.indexOf(e);t!==-1&&Ja.splice(t,1)}}};var uN,dN;const Voe=(n,...e)=>e.reduce((t,r)=>t==null?void 0:t[r],n),kh="ColorManagement"in YT&&Voe(YT,"ColorManagement")||null,t6=n=>n&&n.isOrthographicCamera,$oe=n=>n&&n.hasOwnProperty("current"),u0=typeof window<"u"&&((uN=window.document)!=null&&uN.createElement||((dN=window.navigator)==null?void 0:dN.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function n6(n){const e=D.useRef(n);return u0(()=>void(e.current=n),[n]),e}function Woe({set:n}){return u0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class r6 extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}r6.getDerivedStateFromError=()=>({error:!0});const i6="__default",hN=new Map,joe=n=>n&&!!n.memoized&&!!n.changes;function s6(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Cm=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Bn={obj:n=>n===Object(n)&&!Bn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Bn.str(n)||Bn.num(n))return n===e;const s=Bn.obj(n);if(s&&r==="reference")return n===e;const o=Bn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Bn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Bn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Koe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Xoe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Dh(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function ZT(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const fN=/-\d+$/;function UC(n,e,t){if(Bn.str(t)){if(fN.test(t)){const s=t.replace(fN,""),{target:o,key:a}=ZT(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=ZT(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function pN(n,e,t){var r,i;if(Bn.str(t)){const{target:s,key:o}=ZT(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function o6(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const g=Object.keys(l);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||p.unshift([g[v],i6+"remove"])}p.forEach(([g,v])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&g==="object"||Bn.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,v,!0,[]]);let _=[];g.includes("-")&&(_=g.split("-")),m.push([g,v,!1,_]);for(const w in i){const A=i[w];w.startsWith(`${g}-`)&&m.push([w,A,!1,w.split("-")])}});const y={...i};return d.memoizedProps&&d.memoizedProps.args&&(y.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(y.attach=d.memoizedProps.attach),{memoized:y,changes:m}}function HC(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=joe(e)?e:o6(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,g,v]=c[p],x=n,_=x[m];if(v.length&&(_=v.reduce((w,A)=>w[A],n),!(_&&_.set))){const[w,...A]=v.reverse();x=A.reverse().reduce((T,P)=>T[P],n),m=w}if(y===i6+"remove")if(x.constructor){let w=hN.get(x.constructor);w||(w=new x.constructor,hN.set(x.constructor,w)),y=w[m]}else y=0;if(g)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof ad)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const w=_ instanceof Ue;!w&&_.setScalar?_.setScalar(y):_ instanceof ad&&y instanceof ad?_.mask=y.mask:_.set(y),!kh&&!a.linear&&w&&_.convertSRGBToLinear()}}else x[m]=y,!a.linear&&x[m]instanceof Rn&&x[m].format===ns&&x[m].type===ml&&(x[m].encoding=zt);Bh(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&eP(n),n}function Bh(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function eP(n){n.onUpdate==null||n.onUpdate(n)}function Joe(n,e){n.manual||(t6(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Rx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function qoe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return fc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return fc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return fc.ContinuousEventPriority;default:return fc.DefaultEventPriority}}function a6(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Yoe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{a6(t.capturedMap,e,r,i)})}function Qoe(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const _=Cm(m[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(x){const _=Cm(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let g=m.flatMap(y).sort((x,_)=>{const w=Cm(x.object),A=Cm(_.object);return!w||!A?x.distance-_.distance:A.events.priority-w.events.priority||x.distance-_.distance}).filter(x=>{const _=Rx(x);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const x of g){let _=x.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&p.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())d.has(Rx(x.intersection))||p.push(x.intersection);return p}function i(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const g=Cm(y.object)||p,{raycaster:v,pointer:x,camera:_,internal:w}=g,A=new N(x.x,x.y,0).unproject(_),T=k=>{var V,U;return(V=(U=w.capturedMap.get(k))==null?void 0:U.has(y.eventObject))!=null?V:!1},P=k=>{const V={intersection:y,target:c.target};w.capturedMap.has(k)?w.capturedMap.get(k).set(y.eventObject,V):w.capturedMap.set(k,new Map([[y.eventObject,V]])),c.target.setPointerCapture(k)},L=k=>{const V=w.capturedMap.get(k);V&&a6(w.capturedMap,y.eventObject,V,k)};let M={};for(let k in c){let V=c[k];typeof V!="function"&&(M[k]=V)}let R={...y,...M,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:v.ray,camera:_,stopPropagation(){const k="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!k||k.has(y.eventObject))&&(R.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(V=>V.eventObject===y.eventObject))){const V=l.slice(0,l.indexOf(y));s([...V,y])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:L},nativeEvent:c};if(d(R),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Rx(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,m?t:void 0),x=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(w=>w.eventObject)),y&&!v.length&&x<=2&&(o(u,p.interaction),d&&d(u)),m&&s(v);function _(w){const A=w.eventObject,T=A.__r3f,P=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=Rx(w),M=p.hovered.get(L);M?M.stopped&&w.stopPropagation():(p.hovered.set(L,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const L=P[l];L?(!y||p.initialHits.includes(A))&&(o(u,p.interaction.filter(M=>!p.initialHits.includes(M))),L(w)):y&&p.initialHits.includes(A)&&o(u,p.interaction.filter(M=>!p.initialHits.includes(M)))}}i(v,u,x,_)}}return{handlePointer:a}}let tP={},Zoe=n=>void(tP={...tP,...n});function eae(n,e){function t(u,{args:d=[],attach:p,...m},y){let g=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;v=Dh(x,{type:u,root:y,attach:p,primitive:!0})}else{const x=tP[g];if(!x)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=Dh(new x(...d),{type:u,root:y,attach:p,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v instanceof St?v.__r3f.attach="geometry":v instanceof Ir&&(v.__r3f.attach="material")),g!=="inject"&&HC(v,m),v}function r(u,d){let p=!1;if(d){var m,y;(m=d.__r3f)!=null&&m.attach?UC(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||Dh(d,{}),d.__r3f.parent=u,eP(d),Bh(d)}}function i(u,d,p){let m=!1;if(d){var y,g;if((y=d.__r3f)!=null&&y.attach)UC(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const v=u.children.filter(_=>_!==d),x=v.indexOf(p);u.children=[...v.slice(0,x),d,...v.slice(x)],m=!0}m||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Dh(d,{}),d.__r3f.parent=u,eP(d),Bh(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,y,g;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==d)),(y=d.__r3f)!=null&&y.attach)pN(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var v;u.remove(d),(v=d.__r3f)!=null&&v.root&&Yoe(d.__r3f.root,d)}const _=(g=d.__r3f)==null?void 0:g.primitive,w=p===void 0?d.dispose!==null&&!_:p;if(!_){var x;s((x=d.__r3f)==null?void 0:x.objects,d,w),s(d.children,d,w)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,_||delete d.__r3f),w&&d.dispose&&d.type!=="Scene"&&ay.unstable_scheduleCallback(ay.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Bh(u)}}function a(u,d,p,m){var y;const g=(y=u.__r3f)==null?void 0:y.parent;if(!g)return;const v=t(d,p,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(v,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(v,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(g,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(g,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=v,x.ref&&(typeof x.ref=="function"?x.ref(v):x.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:zoe({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;const p=(d=u==null?void 0:u.__r3f)!=null?d:{};return Boolean(p.handlers)},prepareUpdate(u,d,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,...v}=m,{args:x=[],children:_,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,P)=>T!==x[P]))return[!0];const A=o6(u,v,w,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[d,p],m,y,g,v){d?a(u,m,g,v):HC(u,p)},commitMount(u,d,p,m){var y;const g=(y=u.__r3f)!=null?y:{};u.raycast&&g.handlers&&g.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Dh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&pN(m,u,p),u.isObject3D&&(u.visible=!1),Bh(u)},unhideInstance(u,d){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&UC(y,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Bh(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():fc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Bn.fun(performance.now)?performance.now:Bn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Bn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Bn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:HC}}const l6=n=>!!(n!=null&&n.render),c6=D.createContext(null),tae=(n,e)=>{const t=YV((a,l)=>{const c=new N,u=new N,d=new N;function p(x=l().camera,_=u,w=l().size){const{width:A,height:T,top:P,left:L}=w,M=A/T;_ instanceof N?d.copy(_):d.set(..._);const R=x.getWorldPosition(c).distanceTo(d);if(t6(x))return{width:A/x.zoom,height:T/x.zoom,top:P,left:L,factor:1,distance:R,aspect:M};{const k=x.fov*Math.PI/180,V=2*Math.tan(k/2)*R,U=V*(A/T);return{width:U,height:V,top:P,left:L,factor:A/U,distance:R,aspect:M}}}let m;const y=x=>a(_=>({performance:{..._.performance,current:x}})),g=new be;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,scene:Dh(new KI),controls:null,clock:new fR,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&y(x.performance.min),m=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,w,A,T)=>{const P=l().camera,L={width:x,height:_,top:A||0,left:T||0,updateStyle:w};a(M=>({size:L,viewport:{...M.viewport,...p(P,u,L)}}))},setDpr:x=>a(_=>{const w=s6(x);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,w)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:x,priority:_,store:w}),A.subscribers=A.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(_>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,Joe(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Lx,nae=new Set,rae=new Set,iae=new Set;function GC(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Mm(n,e){switch(n){case"before":return GC(nae,e);case"after":return GC(rae,e);case"tail":return GC(iae,e)}}let VC,$C;function WC(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),VC=e.internal.subscribers,Lx=0;Lx<VC.length;Lx++)$C=VC[Lx],$C.ref.current($C.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function sae(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Mm("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=WC(l,i))}if(Mm("after",l),t===0)return Mm("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&Mm("before",l),u)WC(l,u,d);else for(const p of n.values())WC(l,p.store.getState());c&&Mm("after",l)}return{loop:s,invalidate:o,advance:a}}function u6(){const n=D.useContext(c6);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Es(n=t=>t,e){return u6()(n,e)}function yR(n,e=0){const t=u6(),r=t.getState().internal.subscribe,i=n6(n);return u0(()=>r(i,e,t),[e,r,t]),null}function d6(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Koe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Yo(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Uoe(d6(t,r),[n,...i],{equal:Bn.equ});return Array.isArray(e)?s:s[0]}Yo.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Hoe(d6(t),[n,...r])};Yo.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Goe([n,...t])};const Jf=new Map,{invalidate:mN,advance:gN}=sae(Jf),{reconciler:M_,applyProps:pc}=eae(Jf,qoe),Ih={objects:"shallow",strict:!1},oae=(n,e)=>{const t=typeof n=="function"?n(e):n;return l6(t)?t:new KS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function aae(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function lae(n){const e=Jf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||tae(mN,gN),o=t||M_.createContainer(s,fc.ConcurrentRoot,null,!1,null,"",i,null);e||Jf.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,events:m,onCreated:y,shadows:g=!1,linear:v=!1,flat:x=!1,legacy:_=!1,orthographic:w=!1,frameloop:A="always",dpr:T=[1,2],performance:P,raycaster:L,camera:M,onPointerMissed:R}=u,k=s.getState(),V=k.gl;k.gl||k.set({gl:V=oae(d,n)});let U=k.raycaster;U||k.set({raycaster:U=new JV});const{params:F,...J}=L||{};if(Bn.equ(J,U,Ih)||pc(U,{...J}),Bn.equ(F,U.params,Ih)||pc(U,{params:{...U.params,...F}}),!k.camera||k.camera===c&&!Bn.equ(c,M,Ih)){c=M;const j=M instanceof Jy,O=j?M:w?new po(0,0,0,0,.1,1e3):new bn(75,0,.1,1e3);j||(O.position.z=5,M&&pc(O,M),!k.camera&&!(M!=null&&M.rotation)&&O.lookAt(0,0,0)),k.set({camera:O})}if(!k.xr){const j=(z,Q)=>{const de=s.getState();de.frameloop!=="never"&&gN(z,!0,de,Q)},O=()=>{const z=s.getState();z.gl.xr.enabled=z.gl.xr.isPresenting,z.gl.xr.setAnimationLoop(z.gl.xr.isPresenting?j:null),z.gl.xr.isPresenting||mN(z)},oe={connect(){const z=s.getState().gl;z.xr.addEventListener("sessionstart",O),z.xr.addEventListener("sessionend",O)},disconnect(){const z=s.getState().gl;z.xr.removeEventListener("sessionstart",O),z.xr.removeEventListener("sessionend",O)}};V.xr&&oe.connect(),k.set({xr:oe})}if(V.shadowMap){const j=V.shadowMap.enabled,O=V.shadowMap.type;if(V.shadowMap.enabled=!!g,Bn.boo(g))V.shadowMap.type=ag;else if(Bn.str(g)){var q;const oe={basic:aG,percentage:zS,soft:ag,variance:Wu};V.shadowMap.type=(q=oe[g])!=null?q:ag}else Bn.obj(g)&&Object.assign(V.shadowMap,g);(j!==V.shadowMap.enabled||O!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}kh&&("enabled"in kh?kh.enabled=!_:"legacyMode"in kh&&(kh.legacyMode=_));const se=v?gl:zt,ue=x?Vo:kI;V.outputEncoding!==se&&(V.outputEncoding=se),V.toneMapping!==ue&&(V.toneMapping=ue),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==v&&k.set(()=>({linear:v})),k.flat!==x&&k.set(()=>({flat:x})),d&&!Bn.fun(d)&&!l6(d)&&!Bn.equ(d,V,Ih)&&pc(V,d),m&&!k.events.handlers&&k.set({events:m(s)});const H=aae(n,p);return Bn.equ(H,k.size,Ih)||k.setSize(H.width,H.height,H.updateStyle,H.top,H.left),T&&k.viewport.dpr!==s6(T)&&k.setDpr(T),k.frameloop!==A&&k.setFrameloop(A),k.onPointerMissed||k.set({onPointerMissed:R}),P&&!Bn.equ(P,k.performance,Ih)&&k.set(j=>({performance:{...j.performance,...P}})),a=y,l=!0,this},render(u){return l||this.configure(),M_.updateContainer(D.createElement(cae,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){h6(n)}}}function cae({store:n,children:e,onCreated:t,rootElement:r}){return u0(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),D.createElement(c6.Provider,{value:n},e)}function h6(n,e){const t=Jf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),M_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Xoe(i),Jf.delete(n),e&&e(n)}catch{}},500)})}}M_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});function vl(){return vl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vl.apply(this,arguments)}function nP(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}nP.debounce=nP;var yN=nP;function uae(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=D.useRef(!1);D.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,y]=D.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:A,width:T,height:P,bottom:L,right:M,x:R,y:k}=l.current.element.getBoundingClientRect(),V={left:w,top:A,width:T,height:P,bottom:L,right:M,x:R,y:k};l.current.element instanceof HTMLElement&&i&&(V.height=l.current.element.offsetHeight,V.width=l.current.element.offsetWidth),Object.freeze(V),d.current&&!pae(l.current.lastBounds,V)&&a(l.current.lastBounds=V)};return[_,u?yN(_,u):_,c?yN(_,c):_]},[a,i,c,u]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(g(),l.current.element=_,l.current.scrollContainers=f6(_),v())};return hae(y,Boolean(t)),dae(m),D.useEffect(()=>{g(),v()},[t,y,m]),D.useEffect(()=>g,[]),[x,o,p]}function dae(n){D.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function hae(n,e){D.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function f6(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...f6(n.parentElement)]}const fae=["x","y","top","bottom","left","right","width","height"],pae=(n,e)=>fae.every(t=>n[t]===e[t]);var mae=Object.defineProperty,gae=Object.defineProperties,yae=Object.getOwnPropertyDescriptors,vN=Object.getOwnPropertySymbols,vae=Object.prototype.hasOwnProperty,xae=Object.prototype.propertyIsEnumerable,xN=(n,e,t)=>e in n?mae(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_N=(n,e)=>{for(var t in e||(e={}))vae.call(e,t)&&xN(n,t,e[t]);if(vN)for(var t of vN(e))xae.call(e,t)&&xN(n,t,e[t]);return n},_ae=(n,e)=>gae(n,yae(e)),SN;function p6(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=p6(r,e,t);if(i)return i;r=e?null:r.sibling}}function m6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const vR=m6(D.createContext(null));class g6 extends D.Component{render(){return D.createElement(vR.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:wN,ReactCurrentDispatcher:bN}=(SN=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)!=null?SN:{};function Sae(){const n=D.useContext(vR),e=D.useId();return D.useMemo(()=>{var r;return(r=wN==null?void 0:wN.current)!=null?r:p6(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function wae(){var n,e;const t=Sae(),[r]=D.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==vR&&!r.has(s)&&r.set(s,(e=bN==null?void 0:bN.current)==null?void 0:e.readContext(m6(s))),i=i.return}return D.useMemo(()=>Array.from(r.keys()).reduce((s,o)=>a=>D.createElement(s,null,D.createElement(o.Provider,_ae(_N({},a),{value:r.get(o)}))),s=>D.createElement(g6,_N({},s))),[r])}const jC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function bae(n){const{handlePointer:e}=Qoe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(jC).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=jC[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=jC[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Aae=D.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=bae,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:v,raycaster:x,camera:_,onPointerMissed:w,onCreated:A,...T},P){D.useMemo(()=>Zoe(YT),[]);const L=wae(),[M,R]=uae({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=D.useRef(null),V=D.useRef(null);D.useImperativeHandle(P,()=>k.current);const U=n6(w),[F,J]=D.useState(!1),[q,se]=D.useState(!1);if(F)throw F;if(q)throw q;const ue=D.useRef(null);u0(()=>{const j=k.current;R.width>0&&R.height>0&&j&&(ue.current||(ue.current=lae(j)),ue.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:y,dpr:g,performance:v,raycaster:x,camera:_,size:R,onPointerMissed:(...O)=>U.current==null?void 0:U.current(...O),onCreated:O=>{O.events.connect==null||O.events.connect(a?$oe(a)?a.current:a:V.current),l&&O.setEvents({compute:(oe,z)=>{const Q=oe[l+"X"],de=oe[l+"Y"];z.pointer.set(Q/z.size.width*2-1,-(de/z.size.height)*2+1),z.raycaster.setFromCamera(z.pointer,z.camera)}}),A==null||A(O)}}),ue.current.render(D.createElement(L,null,D.createElement(r6,{set:se},D.createElement(D.Suspense,{fallback:D.createElement(Woe,{set:J})},e)))))}),D.useEffect(()=>{const j=k.current;if(j)return()=>h6(j)},[]);const H=a?"none":"auto";return D.createElement("div",vl({ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:H,...i}},T),D.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},D.createElement("canvas",{ref:k,style:{display:"block"}},t)))}),xR=D.forwardRef(function(e,t){return D.createElement(g6,null,D.createElement(Aae,vl({},e,{ref:t})))}),d0=new N,_R=new N,Cae=new N;function Mae(n,e,t){const r=d0.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function Eae(n,e){const t=d0.setFromMatrixPosition(n.matrixWorld),r=_R.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(Cae);return i.angleTo(s)>Math.PI/2}function Tae(n,e,t,r){const i=d0.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function Pae(n,e){if(e instanceof po)return e.zoom;if(e instanceof bn){const t=d0.setFromMatrixPosition(n.matrixWorld),r=_R.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Iae(n,e,t){if(e instanceof bn||e instanceof po){const r=d0.setFromMatrixPosition(n.matrixWorld),i=_R.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const rP=n=>Math.abs(n)<1e-10?0:n;function y6(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=rP(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const Rae=(n=>e=>y6(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Lae=(n=>(e,t)=>y6(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function kae(n){return n&&typeof n=="object"&&"current"in n}const Dae=D.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:y,material:g,geometry:v,zIndexRange:x=[16777271,0],calculatePosition:_=Mae,as:w="div",wrapperClass:A,pointerEvents:T="auto",...P},L)=>{const{gl:M,camera:R,scene:k,size:V,raycaster:U,events:F,viewport:J}=Es(),[q]=D.useState(()=>document.createElement(w)),se=D.useRef(),ue=D.useRef(null),H=D.useRef(0),j=D.useRef([0,0]),O=D.useRef(null),oe=D.useRef(null),z=(a==null?void 0:a.current)||F.connected||M.domElement.parentNode,Q=D.useRef(null),de=D.useRef(!1),Z=D.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&kae(d[0]),[d]);D.useLayoutEffect(()=>{const Re=M.domElement;d&&d==="blending"?(Re.style.zIndex=`${Math.floor(x[0]/2)}`,Re.style.position="absolute",Re.style.pointerEvents="none"):(Re.style.zIndex=null,Re.style.position=null,Re.style.pointerEvents=null)},[d]),D.useLayoutEffect(()=>{if(ue.current){const Re=se.current=yH(q);if(k.updateMatrixWorld(),u)q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Pe=_(ue.current,R,V);q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Pe[0]}px,${Pe[1]}px,0);transform-origin:0 0;`}return z&&(i?z.prepend(q):z.appendChild(q)),()=>{z&&z.removeChild(q),Re.unmount()}}},[z,u]),D.useLayoutEffect(()=>{A&&(q.className=A)},[A]);const Ae=D.useMemo(()=>u?{position:"absolute",top:0,left:0,width:V.width,height:V.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-V.height/2,left:-V.width/2,width:V.width,height:V.height},...t},[t,s,o,V,u]),Te=D.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);D.useLayoutEffect(()=>{if(de.current=!1,u){var Re;(Re=se.current)==null||Re.render(D.createElement("div",{ref:O,style:Ae},D.createElement("div",{ref:oe,style:Te},D.createElement("div",{ref:L,className:r,style:t,children:n}))))}else{var Pe;(Pe=se.current)==null||Pe.render(D.createElement("div",{ref:L,style:Ae,className:r,children:n}))}});const Be=D.useRef(!0);yR(Re=>{if(ue.current){R.updateMatrixWorld(),ue.current.updateWorldMatrix(!0,!1);const Pe=u?j.current:_(ue.current,R,V);if(u||Math.abs(H.current-R.zoom)>e||Math.abs(j.current[0]-Pe[0])>e||Math.abs(j.current[1]-Pe[1])>e){const pe=Eae(ue.current,R);let ge=!1;Z&&(d!=="blending"?ge=[k]:Array.isArray(d)&&(ge=d.map(Ge=>Ge.current)));const Ce=Be.current;if(ge){const Ge=Tae(ue.current,R,U,ge);Be.current=Ge&&!pe}else Be.current=!pe;Ce!==Be.current&&(p?p(!Be.current):q.style.display=Be.current?"block":"none");const We=Math.floor(x[0]/2),ke=d?Z?[x[0],We]:[We-1,0]:x;if(q.style.zIndex=`${Iae(ue.current,R,ke)}`,u){const[Ge,Ye]=[V.width/2,V.height/2],et=R.projectionMatrix.elements[5]*Ye,{isOrthographicCamera:gt,top:Mt,left:K,bottom:B,right:fe}=R,De=Rae(R.matrixWorldInverse),Ne=gt?`scale(${et})translate(${rP(-(fe+K)/2)}px,${rP((Mt+B)/2)}px)`:`translateZ(${et}px)`;let He=ue.current.matrixWorld;c&&(He=R.matrixWorldInverse.clone().transpose().copyPosition(He).scale(ue.current.scale),He.elements[3]=He.elements[7]=He.elements[11]=0,He.elements[15]=1),q.style.width=V.width+"px",q.style.height=V.height+"px",q.style.perspective=gt?"":`${et}px`,O.current&&oe.current&&(O.current.style.transform=`${Ne}${De}translate(${Ge}px,${Ye}px)`,oe.current.style.transform=Lae(He,1/((l||10)/400)))}else{const Ge=l===void 0?1:Pae(ue.current,R)*l;q.style.transform=`translate3d(${Pe[0]}px,${Pe[1]}px,0) scale(${Ge})`}j.current=Pe,H.current=R.zoom}}if(!Z&&Q.current&&!de.current)if(u){if(O.current){const Pe=O.current.children[0];if(Pe!=null&&Pe.clientWidth&&Pe!=null&&Pe.clientHeight){const{isOrthographicCamera:pe}=R;if(pe||v)P.scale&&(Array.isArray(P.scale)?P.scale instanceof N?Q.current.scale.copy(P.scale.clone().divideScalar(1)):Q.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):Q.current.scale.setScalar(1/P.scale));else{const ge=(l||10)/400,Ce=Pe.clientWidth*ge,We=Pe.clientHeight*ge;Q.current.scale.set(Ce,We,1)}de.current=!0}}}else{const Pe=q.children[0];if(Pe!=null&&Pe.clientWidth&&Pe!=null&&Pe.clientHeight){const pe=1/J.factor,ge=Pe.clientWidth*pe,Ce=Pe.clientHeight*pe;Q.current.scale.set(ge,Ce,1),de.current=!0}Q.current.lookAt(Re.camera.position)}});const Ve=D.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return D.createElement("group",vl({},P,{ref:ue}),d&&!Z&&D.createElement("mesh",{castShadow:m,receiveShadow:y,ref:Q},v||D.createElement("planeGeometry",null),g||D.createElement("shaderMaterial",{side:zo,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader})))});let Em=0;const Bae=YV(n=>(ef.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Em)/(r-Em)*100})},ef.onLoad=()=>{n({active:!1})},ef.onError=e=>n(t=>({errors:[...t.errors,e]})),ef.onProgress=(e,t,r)=>{t===r&&(Em=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Em)/(r-Em)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Oae(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function ly(n){return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(n)}function Nae(n,e){if(ly(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ly(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Fae(n){var e=Nae(n,"string");return ly(e)==="symbol"?e:String(e)}function Et(n,e,t){return e=Fae(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var co=Uint8Array,mc=Uint16Array,iP=Uint32Array,v6=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x6=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zae=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_6=function(n,e){for(var t=new mc(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new iP(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},S6=_6(v6,2),w6=S6[0],Uae=S6[1];w6[28]=258,Uae[258]=28;var Hae=_6(x6,0),Gae=Hae[0],sP=new mc(32768);for(var Nn=0;Nn<32768;++Nn){var Kl=(Nn&43690)>>>1|(Nn&21845)<<1;Kl=(Kl&52428)>>>2|(Kl&13107)<<2,Kl=(Kl&61680)>>>4|(Kl&3855)<<4,sP[Nn]=((Kl&65280)>>>8|(Kl&255)<<8)>>>1}var hg=function(n,e,t){for(var r=n.length,i=0,s=new mc(e);i<r;++i)++s[n[i]-1];var o=new mc(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new mc(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=o[n[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)a[sP[d]>>>l]=c}else for(a=new mc(r),i=0;i<r;++i)n[i]&&(a[i]=sP[o[n[i]-1]++]>>>15-n[i]);return a},h0=new co(288);for(var Nn=0;Nn<144;++Nn)h0[Nn]=8;for(var Nn=144;Nn<256;++Nn)h0[Nn]=9;for(var Nn=256;Nn<280;++Nn)h0[Nn]=7;for(var Nn=280;Nn<288;++Nn)h0[Nn]=8;var b6=new co(32);for(var Nn=0;Nn<32;++Nn)b6[Nn]=5;var Vae=hg(h0,9,1),$ae=hg(b6,5,1),KC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Po=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},XC=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Wae=function(n){return(n/8|0)+(n&7&&1)},jae=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof mc?mc:n instanceof iP?iP:co)(t-e);return r.set(n.subarray(e,t)),r},Kae=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new co(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new co(r*3));var o=function(Ae){var Te=e.length;if(Ae>Te){var Be=new co(Math.max(Te*2,Ae));Be.set(e),e=Be}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,d=t.d,p=t.m,m=t.n,y=r*8;do{if(!u){t.f=a=Po(n,l,1);var g=Po(n,l+1,3);if(l+=3,g)if(g==1)u=Vae,d=$ae,p=9,m=5;else if(g==2){var w=Po(n,l,31)+257,A=Po(n,l+10,15)+4,T=w+Po(n,l+5,31)+1;l+=14;for(var P=new co(T),L=new co(19),M=0;M<A;++M)L[zae[M]]=Po(n,l+M*3,7);l+=A*3;for(var R=KC(L),k=(1<<R)-1,V=hg(L,R,1),M=0;M<T;){var U=V[Po(n,l,k)];l+=U&15;var v=U>>>4;if(v<16)P[M++]=v;else{var F=0,J=0;for(v==16?(J=3+Po(n,l,3),l+=2,F=P[M-1]):v==17?(J=3+Po(n,l,7),l+=3):v==18&&(J=11+Po(n,l,127),l+=7);J--;)P[M++]=F}}var q=P.subarray(0,w),se=P.subarray(w);p=KC(q),m=KC(se),u=hg(q,p,1),d=hg(se,m,1)}else throw"invalid block type";else{var v=Wae(l)+4,x=n[v-4]|n[v-3]<<8,_=v+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+x),e.set(n.subarray(v,_),c),t.b=c+=x,t.p=l=_*8;continue}if(l>y){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var ue=(1<<p)-1,H=(1<<m)-1,j=l;;j=l){var F=u[XC(n,l)&ue],O=F>>>4;if(l+=F&15,l>y){if(s)throw"unexpected EOF";break}if(!F)throw"invalid length/literal";if(O<256)e[c++]=O;else if(O==256){j=l,u=null;break}else{var oe=O-254;if(O>264){var M=O-257,z=v6[M];oe=Po(n,l,(1<<z)-1)+w6[M],l+=z}var Q=d[XC(n,l)&H],de=Q>>>4;if(!Q)throw"invalid distance";l+=Q&15;var se=Gae[de];if(de>3){var z=x6[de];se+=XC(n,l)&(1<<z)-1,l+=z}if(l>y){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Z=c+oe;c<Z;c+=4)e[c]=e[c-se],e[c+1]=e[c+1-se],e[c+2]=e[c+2-se],e[c+3]=e[c+3-se];c=Z}}t.l=u,t.p=j,t.b=c,u&&(a=1,t.m=p,t.d=d,t.n=m)}while(!a);return c==e.length?e:jae(e,0,c)},Xae=new co(0),Jae=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function qae(n,e){return Kae((Jae(n),n.subarray(2,-4)),e)}var Yae=typeof TextDecoder<"u"&&new TextDecoder,Qae=0;try{Yae.decode(Xae,{stream:!0}),Qae=1}catch{}const AN=(n,e)=>(n%e+e)%e;let Zae=class extends Ra{constructor(e,t){super(),Et(this,"object",void 0),Et(this,"domElement",void 0),Et(this,"enabled",!0),Et(this,"target",new N),Et(this,"minDistance",0),Et(this,"maxDistance",1/0),Et(this,"minZoom",0),Et(this,"maxZoom",1/0),Et(this,"minPolarAngle",0),Et(this,"maxPolarAngle",Math.PI),Et(this,"minAzimuthAngle",-1/0),Et(this,"maxAzimuthAngle",1/0),Et(this,"enableDamping",!1),Et(this,"dampingFactor",.05),Et(this,"enableZoom",!0),Et(this,"zoomSpeed",1),Et(this,"enableRotate",!0),Et(this,"rotateSpeed",1),Et(this,"enablePan",!0),Et(this,"panSpeed",1),Et(this,"screenSpacePanning",!0),Et(this,"keyPanSpeed",7),Et(this,"autoRotate",!1),Et(this,"autoRotateSpeed",2),Et(this,"reverseOrbit",!1),Et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Et(this,"mouseButtons",{LEFT:Iu.ROTATE,MIDDLE:Iu.DOLLY,RIGHT:Iu.PAN}),Et(this,"touches",{ONE:Ru.ROTATE,TWO:Ru.DOLLY_PAN}),Et(this,"target0",void 0),Et(this,"position0",void 0),Et(this,"zoom0",void 0),Et(this,"_domElementKeyEvents",null),Et(this,"getPolarAngle",void 0),Et(this,"getAzimuthalAngle",void 0),Et(this,"setPolarAngle",void 0),Et(this,"setAzimuthalAngle",void 0),Et(this,"getDistance",void 0),Et(this,"listenToKeyEvents",void 0),Et(this,"saveState",void 0),Et(this,"reset",void 0),Et(this,"update",void 0),Et(this,"connect",void 0),Et(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof bn?this.object.zoom:1,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Y=>{let _e=AN(Y,2*Math.PI),Ie=u.phi;Ie<0&&(Ie+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let Fe=Math.abs(_e-Ie);2*Math.PI-Fe<Fe&&(_e<Ie?_e+=2*Math.PI:Ie+=2*Math.PI),d.phi=_e-Ie,r.update()},this.setAzimuthalAngle=Y=>{let _e=AN(Y,2*Math.PI),Ie=u.theta;Ie<0&&(Ie+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let Fe=Math.abs(_e-Ie);2*Math.PI-Fe<Fe&&(_e<Ie?_e+=2*Math.PI:Ie+=2*Math.PI),d.theta=_e-Ie,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",fe),this._domElementKeyEvents=Y},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof bn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof bn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Y=new N,_e=new xr().setFromUnitVectors(e.up,new N(0,1,0)),Ie=_e.clone().invert(),Fe=new N,at=new xr,Lt=2*Math.PI;return function(){const te=r.object.position;Y.copy(te).sub(r.target),Y.applyQuaternion(_e),u.setFromVector3(Y),r.autoRotate&&l===a.NONE&&U(k()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let ve=r.minAzimuthAngle,Ee=r.maxAzimuthAngle;return isFinite(ve)&&isFinite(Ee)&&(ve<-Math.PI?ve+=Lt:ve>Math.PI&&(ve-=Lt),Ee<-Math.PI?Ee+=Lt:Ee>Math.PI&&(Ee-=Lt),ve<=Ee?u.theta=Math.max(ve,Math.min(Ee,u.theta)):u.theta=u.theta>(ve+Ee)/2?Math.max(ve,u.theta):Math.min(Ee,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),Y.setFromSpherical(u),Y.applyQuaternion(Ie),te.copy(r.target).add(Y),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0)),p=1,y||Fe.distanceToSquared(r.object.position)>c||8*(1-at.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Fe.copy(r.object.position),at.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Y,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",He),r.domElement.addEventListener("pointerdown",Ge),r.domElement.addEventListener("pointercancel",gt),r.domElement.addEventListener("wheel",B)},this.dispose=()=>{var Y,_e,Ie,Fe,at,Lt;(Y=r.domElement)===null||Y===void 0||Y.removeEventListener("contextmenu",He),(_e=r.domElement)===null||_e===void 0||_e.removeEventListener("pointerdown",Ge),(Ie=r.domElement)===null||Ie===void 0||Ie.removeEventListener("pointercancel",gt),(Fe=r.domElement)===null||Fe===void 0||Fe.removeEventListener("wheel",B),(at=r.domElement)===null||at===void 0||at.ownerDocument.removeEventListener("pointermove",Ye),(Lt=r.domElement)===null||Lt===void 0||Lt.ownerDocument.removeEventListener("pointerup",et),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",fe)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new qT,d=new qT;let p=1;const m=new N;let y=!1;const g=new be,v=new be,x=new be,_=new be,w=new be,A=new be,T=new be,P=new be,L=new be,M=[],R={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function U(Y){r.reverseOrbit?d.theta+=Y:d.theta-=Y}function F(Y){r.reverseOrbit?d.phi+=Y:d.phi-=Y}const J=(()=>{const Y=new N;return function(Ie,Fe){Y.setFromMatrixColumn(Fe,0),Y.multiplyScalar(-Ie),m.add(Y)}})(),q=(()=>{const Y=new N;return function(Ie,Fe){r.screenSpacePanning===!0?Y.setFromMatrixColumn(Fe,1):(Y.setFromMatrixColumn(Fe,0),Y.crossVectors(r.object.up,Y)),Y.multiplyScalar(Ie),m.add(Y)}})(),se=(()=>{const Y=new N;return function(Ie,Fe){const at=r.domElement;if(at&&r.object instanceof bn&&r.object.isPerspectiveCamera){const Lt=r.object.position;Y.copy(Lt).sub(r.target);let An=Y.length();An*=Math.tan(r.object.fov/2*Math.PI/180),J(2*Ie*An/at.clientHeight,r.object.matrix),q(2*Fe*An/at.clientHeight,r.object.matrix)}else at&&r.object instanceof po&&r.object.isOrthographicCamera?(J(Ie*(r.object.right-r.object.left)/r.object.zoom/at.clientWidth,r.object.matrix),q(Fe*(r.object.top-r.object.bottom)/r.object.zoom/at.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ue(Y){r.object instanceof bn&&r.object.isPerspectiveCamera?p/=Y:r.object instanceof po&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Y)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(Y){r.object instanceof bn&&r.object.isPerspectiveCamera?p*=Y:r.object instanceof po&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Y)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(Y){g.set(Y.clientX,Y.clientY)}function O(Y){T.set(Y.clientX,Y.clientY)}function oe(Y){_.set(Y.clientX,Y.clientY)}function z(Y){v.set(Y.clientX,Y.clientY),x.subVectors(v,g).multiplyScalar(r.rotateSpeed);const _e=r.domElement;_e&&(U(2*Math.PI*x.x/_e.clientHeight),F(2*Math.PI*x.y/_e.clientHeight)),g.copy(v),r.update()}function Q(Y){P.set(Y.clientX,Y.clientY),L.subVectors(P,T),L.y>0?ue(V()):L.y<0&&H(V()),T.copy(P),r.update()}function de(Y){w.set(Y.clientX,Y.clientY),A.subVectors(w,_).multiplyScalar(r.panSpeed),se(A.x,A.y),_.copy(w),r.update()}function Z(Y){Y.deltaY<0?H(V()):Y.deltaY>0&&ue(V()),r.update()}function Ae(Y){let _e=!1;switch(Y.code){case r.keys.UP:se(0,r.keyPanSpeed),_e=!0;break;case r.keys.BOTTOM:se(0,-r.keyPanSpeed),_e=!0;break;case r.keys.LEFT:se(r.keyPanSpeed,0),_e=!0;break;case r.keys.RIGHT:se(-r.keyPanSpeed,0),_e=!0;break}_e&&(Y.preventDefault(),r.update())}function Te(){if(M.length==1)g.set(M[0].pageX,M[0].pageY);else{const Y=.5*(M[0].pageX+M[1].pageX),_e=.5*(M[0].pageY+M[1].pageY);g.set(Y,_e)}}function Be(){if(M.length==1)_.set(M[0].pageX,M[0].pageY);else{const Y=.5*(M[0].pageX+M[1].pageX),_e=.5*(M[0].pageY+M[1].pageY);_.set(Y,_e)}}function Ve(){const Y=M[0].pageX-M[1].pageX,_e=M[0].pageY-M[1].pageY,Ie=Math.sqrt(Y*Y+_e*_e);T.set(0,Ie)}function Re(){r.enableZoom&&Ve(),r.enablePan&&Be()}function Pe(){r.enableZoom&&Ve(),r.enableRotate&&Te()}function pe(Y){if(M.length==1)v.set(Y.pageX,Y.pageY);else{const Ie=ct(Y),Fe=.5*(Y.pageX+Ie.x),at=.5*(Y.pageY+Ie.y);v.set(Fe,at)}x.subVectors(v,g).multiplyScalar(r.rotateSpeed);const _e=r.domElement;_e&&(U(2*Math.PI*x.x/_e.clientHeight),F(2*Math.PI*x.y/_e.clientHeight)),g.copy(v)}function ge(Y){if(M.length==1)w.set(Y.pageX,Y.pageY);else{const _e=ct(Y),Ie=.5*(Y.pageX+_e.x),Fe=.5*(Y.pageY+_e.y);w.set(Ie,Fe)}A.subVectors(w,_).multiplyScalar(r.panSpeed),se(A.x,A.y),_.copy(w)}function Ce(Y){const _e=ct(Y),Ie=Y.pageX-_e.x,Fe=Y.pageY-_e.y,at=Math.sqrt(Ie*Ie+Fe*Fe);P.set(0,at),L.set(0,Math.pow(P.y/T.y,r.zoomSpeed)),ue(L.y),T.copy(P)}function We(Y){r.enableZoom&&Ce(Y),r.enablePan&&ge(Y)}function ke(Y){r.enableZoom&&Ce(Y),r.enableRotate&&pe(Y)}function Ge(Y){if(r.enabled!==!1){if(M.length===0){var _e,Ie;(_e=r.domElement)===null||_e===void 0||_e.ownerDocument.addEventListener("pointermove",Ye),(Ie=r.domElement)===null||Ie===void 0||Ie.ownerDocument.addEventListener("pointerup",et)}ot(Y),Y.pointerType==="touch"?De(Y):Mt(Y)}}function Ye(Y){r.enabled!==!1&&(Y.pointerType==="touch"?Ne(Y):K(Y))}function et(Y){if(je(Y),M.length===0){var _e,Ie,Fe;(_e=r.domElement)===null||_e===void 0||_e.releasePointerCapture(Y.pointerId),(Ie=r.domElement)===null||Ie===void 0||Ie.ownerDocument.removeEventListener("pointermove",Ye),(Fe=r.domElement)===null||Fe===void 0||Fe.ownerDocument.removeEventListener("pointerup",et)}r.dispatchEvent(o),l=a.NONE}function gt(Y){je(Y)}function Mt(Y){let _e;switch(Y.button){case 0:_e=r.mouseButtons.LEFT;break;case 1:_e=r.mouseButtons.MIDDLE;break;case 2:_e=r.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Iu.DOLLY:if(r.enableZoom===!1)return;O(Y),l=a.DOLLY;break;case Iu.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enablePan===!1)return;oe(Y),l=a.PAN}else{if(r.enableRotate===!1)return;j(Y),l=a.ROTATE}break;case Iu.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enableRotate===!1)return;j(Y),l=a.ROTATE}else{if(r.enablePan===!1)return;oe(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function K(Y){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;z(Y);break;case a.DOLLY:if(r.enableZoom===!1)return;Q(Y);break;case a.PAN:if(r.enablePan===!1)return;de(Y);break}}function B(Y){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),r.dispatchEvent(s),Z(Y),r.dispatchEvent(o))}function fe(Y){r.enabled===!1||r.enablePan===!1||Ae(Y)}function De(Y){switch(we(Y),M.length){case 1:switch(r.touches.ONE){case Ru.ROTATE:if(r.enableRotate===!1)return;Te(),l=a.TOUCH_ROTATE;break;case Ru.PAN:if(r.enablePan===!1)return;Be(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Ru.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(),l=a.TOUCH_DOLLY_PAN;break;case Ru.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ne(Y){switch(we(Y),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(Y),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ge(Y),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;We(Y),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ke(Y),r.update();break;default:l=a.NONE}}function He(Y){r.enabled!==!1&&Y.preventDefault()}function ot(Y){M.push(Y)}function je(Y){delete R[Y.pointerId];for(let _e=0;_e<M.length;_e++)if(M[_e].pointerId==Y.pointerId){M.splice(_e,1);return}}function we(Y){let _e=R[Y.pointerId];_e===void 0&&(_e=new be,R[Y.pointerId]=_e),_e.set(Y.pageX,Y.pageY)}function ct(Y){const _e=Y.pointerId===M[0].pointerId?M[1]:M[0];return R[_e.pointerId]}t!==void 0&&this.connect(t),this.update()}};class SR extends Di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ile(t)}),this.register(function(t){return new dle(t)}),this.register(function(t){return new hle(t)}),this.register(function(t){return new ole(t)}),this.register(function(t){return new ale(t)}),this.register(function(t){return new lle(t)}),this.register(function(t){return new cle(t)}),this.register(function(t){return new rle(t)}),this.register(function(t){return new ule(t)}),this.register(function(t){return new sle(t)}),this.register(function(t){return new tle(t)}),this.register(function(t){return new fle(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ds.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new us(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(Ds.decodeText(new Uint8Array(e,0,4))===A6){try{o[jt.KHR_BINARY_GLTF]=new ple(e)}catch(d){i&&i(d);return}s=o[jt.KHR_BINARY_GLTF].content}else s=Ds.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Ele(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],p=l.extensionsRequired||[];switch(d){case jt.KHR_MATERIALS_UNLIT:o[d]=new nle;break;case jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new yle;break;case jt.KHR_DRACO_MESH_COMPRESSION:o[d]=new mle(l,this.dracoLoader);break;case jt.KHR_TEXTURE_TRANSFORM:o[d]=new gle;break;case jt.KHR_MESH_QUANTIZATION:o[d]=new vle;break;default:p.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function ele(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const jt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class tle{constructor(e){this.parser=e,this.name=jt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Ue(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new nw(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new oy(u),c.distance=d;break;case"spot":c=new tw(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class nle{constructor(){this.name=jt.KHR_MATERIALS_UNLIT}getMaterialType(){return Is}extendParams(e,t,r){const i=[];e.color=new Ue(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,zt))}return Promise.all(i)}}class rle{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class ile{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new be(a,a)}return Promise.all(s)}}class sle{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class ole{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ue(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,zt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class ale{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class lle{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ue(a[0],a[1],a[2]),Promise.all(s)}}class cle{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ule{constructor(e){this.parser=e,this.name=jt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Pl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ue(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,zt)),Promise.all(s)}}class dle{constructor(e){this.parser=e,this.name=jt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class hle{constructor(e){this.parser=e,this.name=jt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class fle{constructor(e){this.name=jt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,i.mode,i.filter),m})})}else return null}}const A6="glTF",Tm=12,CN={JSON:1313821514,BIN:5130562};class ple{constructor(e){this.name=jt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Tm);if(this.header={magic:Ds.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==A6)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Tm,i=new DataView(e,Tm);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===CN.JSON){const l=new Uint8Array(e,Tm+s,o);this.content=Ds.decodeText(l)}else if(a===CN.BIN){const l=Tm+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class mle{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=jt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=aP[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=aP[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=cy[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const y=p.attributes[m],g=l[m];g!==void 0&&(y.normalized=g)}d(p)},a,c)})})}}class gle{constructor(){this.name=jt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class oP extends Sp{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ue().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class yle{constructor(){this.name=jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return oP}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Ue(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,zt)),e.emissive=new Ue(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ue(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,zt))}return Promise.all(s)}createMaterial(e){const t=new oP(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=El,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class vle{constructor(){this.name=jt.KHR_MESH_QUANTIZATION}}class C6 extends wp{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,d=(r-t)/u,p=d*d,m=p*d,y=e*c,g=y-c,v=-2*m+3*p,x=m-p,_=1-v,w=x-p+d;for(let A=0;A!==a;A++){const T=o[g+A+a],P=o[g+A+l]*u,L=o[y+A+a],M=o[y+A]*u;s[A]=_*T+w*P+v*L+x*M}return s}}const xle=new xr;class _le extends C6{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return xle.fromArray(s).normalize().toArray(s),s}}const $a={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},cy={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},MN={9728:dr,9729:tr,9984:qg,9985:HS,9986:mf,9987:Ma},EN={33071:Dr,33648:Gf,10497:Ca},TN={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},aP={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Xl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Sle={CUBICSPLINE:void 0,LINEAR:_d,STEP:$f},JC={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function wle(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Sp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Aa})),n.DefaultMaterial}function Pm(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function ku(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function ble(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Ale(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Cle(n){const e=n.extensions&&n.extensions[jt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+PN(e.attributes):t=n.indices+":"+PN(n.attributes)+":"+n.mode,t}function PN(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function lP(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Mle(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Ele{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new ele,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new bp(this.options.manager):this.textureLoader=new jV(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new us(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Pm(s,a,i),ku(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[jt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ds.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=TN[i.type],c=cy[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let g,v;if(m&&m!==d){const x=Math.floor(p/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=t.cache.get(_);w||(g=new c(a,x*m,i.count*m/u),w=new Yy(g,m/u),t.cache.add(_,w)),v=new Fc(w,l,p%m/u,y)}else a===null?g=new c(i.count*l):g=new c(a,p,i.count*l),v=new fn(g,l,y);if(i.sparse!==void 0){const x=TN.SCALAR,_=cy[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,T=new _(o[1],w,i.sparse.count*x),P=new c(o[2],A,i.sparse.count*l);a!==null&&(v=new fn(v.array.slice(),v.itemSize,v.normalized));for(let L=0,M=T.length;L<M;L++){const R=T[L];if(v.setX(R,P[L*l]),l>=2&&v.setY(R,P[L*l+1]),l>=3&&v.setZ(R,P[L*l+2]),l>=4&&v.setW(R,P[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,o.name&&(u.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=MN[p.magFilter]||tr,u.minFilter=MN[p.minFilter]||Ma,u.wrapS=EN[p.wrapS]||Ca,u.wrapT=EN[p.wrapT]||Ca,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(g){const v=new Rn(g);v.needsUpdate=!0,p(v)}),t.load(Ds.resolveURL(d,s.path),y,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||Mle(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[jt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[jt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[jt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new YS,Ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new di,Ir.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Sp}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else if(l[jt.KHR_MATERIALS_UNLIT]){const d=i[jt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Ue(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,zt)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=zo);const u=s.alphaMode||JC.OPAQUE;if(u===JC.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===JC.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Is&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new be(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==Is&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Is&&(a.emissive=new Ue().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Is&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,zt)),Promise.all(c).then(function(){let d;return o===oP?d=i[jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),ku(d,s),t.associations.set(d,{materials:e}),s.extensions&&Pm(i,d,s),d})}createUniqueName(e){const t=Ht.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[jt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return IN(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Cle(c),d=i[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[jt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=IN(new St,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?wle(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,y=u.length;m<y;m++){const g=u[m],v=o[m];let x;const _=c[m];if(v.mode===$a.TRIANGLES||v.mode===$a.TRIANGLE_STRIP||v.mode===$a.TRIANGLE_FAN||v.mode===void 0)x=s.isSkinnedMesh===!0?new qS(g,_):new Pr(g,_),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),v.mode===$a.TRIANGLE_STRIP?x.geometry=RN(x.geometry,YG):v.mode===$a.TRIANGLE_FAN&&(x.geometry=RN(x.geometry,OI));else if(v.mode===$a.LINES)x=new Jo(g,_);else if(v.mode===$a.LINE_STRIP)x=new Ta(g,_);else if(v.mode===$a.LINE_LOOP)x=new JI(g,_);else if(v.mode===$a.POINTS)x=new qI(g,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(x.geometry.morphAttributes).length>0&&Ale(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),ku(x,s),v.extensions&&Pm(i,x,v),t.assignFinalMaterial(x),d.push(x)}for(let m=0,y=d.length;m<y;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return d[0];const p=new Uo;t.associations.set(p,{meshes:e});for(let m=0,y=d.length;m<y;m++)p.add(d[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new bn(Ts.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new po(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),ku(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],p=r.samplers[d.sampler],m=d.target,y=m.node,g=r.parameters!==void 0?r.parameters[p.input]:p.input,v=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",v)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2],m=c[3],y=c[4],g=[];for(let x=0,_=u.length;x<_;x++){const w=u[x],A=d[x],T=p[x],P=m[x],L=y[x];if(w===void 0)continue;w.updateMatrix();let M;switch(Xl[L.path]){case Xl.weights:M=wd;break;case Xl.rotation:M=yl;break;case Xl.position:case Xl.scale:default:M=bd;break}const R=w.name?w.name:w.uuid,k=P.interpolation!==void 0?Sle[P.interpolation]:_d,V=[];Xl[L.path]===Xl.weights?w.traverse(function(F){F.morphTargetInfluences&&V.push(F.name?F.name:F.uuid)}):V.push(R);let U=T.array;if(T.normalized){const F=lP(U.constructor),J=new Float32Array(U.length);for(let q=0,se=U.length;q<se;q++)J[q]=U[q]*F;U=J}for(let F=0,J=V.length;F<J;F++){const q=new M(V[F]+"."+Xl[L.path],A.array,U,k);P.interpolation==="CUBICSPLINE"&&(q.createInterpolant=function(ue){const H=this instanceof yl?_le:C6;return new H(this.times,this.values,this.getValueSize()/3,ue)},q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(q)}}const v=r.name?r.name:"animation_"+e;return new Ad(v,void 0,g)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new Kf:a.length>1?l=new Uo:a.length===1?l=a[0]:l=new Kt,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),ku(l,s),s.extensions&&Pm(r,l,s),s.matrix!==void 0){const c=new tt;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Uo;i.name&&(o.name=s.createUniqueName(i.name)),ku(o,i),i.extensions&&Pm(r,o,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(M6(a[c],o,t,s));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[p,m]of s.associations)(p instanceof Ir||p instanceof Rn)&&d.set(p,m);return u.traverse(p=>{const m=s.associations.get(p);m!=null&&d.set(p,m)}),d};return s.associations=c(o),o})}}function M6(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(r.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,p=a.length;d<p;d++){const m=a[d];if(m){c.push(m);const y=new tt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,d*16),u.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new yp(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(M6(u,s,t,r))}}return Promise.all(o)})}function Tle(n,e,t){const r=e.attributes,i=new Xc;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new N(l[0],l[1],l[2]),new N(c[0],c[1],c[2])),a.normalized){const u=lP(cy[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const g=lP(cy[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Jc;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function IN(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=aP[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return ku(n,e),Tle(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?ble(n,e.targets,t):n})}function RN(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===OI)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}class Ple extends St{constructor(e,t,r,i){super();const s=[],o=[],a=[],l=new N,c=new tt;c.makeRotationFromEuler(r),c.setPosition(t);const u=new tt;u.copy(c).invert(),d(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2));function d(){let g,v=[];const x=new N,_=new N;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const w=e.geometry,A=w.attributes.position,T=w.attributes.normal;if(w.index!==null){const P=w.index;for(g=0;g<P.count;g++)x.fromBufferAttribute(A,P.getX(g)),_.fromBufferAttribute(T,P.getX(g)),p(v,x,_)}else for(g=0;g<A.count;g++)x.fromBufferAttribute(A,g),_.fromBufferAttribute(T,g),p(v,x,_);for(v=m(v,l.set(1,0,0)),v=m(v,l.set(-1,0,0)),v=m(v,l.set(0,1,0)),v=m(v,l.set(0,-1,0)),v=m(v,l.set(0,0,1)),v=m(v,l.set(0,0,-1)),g=0;g<v.length;g++){const P=v[g];a.push(.5+P.position.x/i.x,.5+P.position.y/i.y),P.position.applyMatrix4(c),s.push(P.position.x,P.position.y,P.position.z),o.push(P.normal.x,P.normal.y,P.normal.z)}}function p(g,v,x){v.applyMatrix4(e.matrixWorld),v.applyMatrix4(u),x.transformDirection(e.matrixWorld),g.push(new LN(v.clone(),x.clone()))}function m(g,v){const x=[],_=.5*Math.abs(i.dot(v));for(let w=0;w<g.length;w+=3){let A,T,P,L=0,M,R,k,V;const U=g[w+0].position.dot(v)-_,F=g[w+1].position.dot(v)-_,J=g[w+2].position.dot(v)-_;switch(A=U>0,T=F>0,P=J>0,L=(A?1:0)+(T?1:0)+(P?1:0),L){case 0:{x.push(g[w]),x.push(g[w+1]),x.push(g[w+2]);break}case 1:{if(A&&(M=g[w+1],R=g[w+2],k=y(g[w],M,v,_),V=y(g[w],R,v,_)),T){M=g[w],R=g[w+2],k=y(g[w+1],M,v,_),V=y(g[w+1],R,v,_),x.push(k),x.push(R.clone()),x.push(M.clone()),x.push(R.clone()),x.push(k.clone()),x.push(V);break}P&&(M=g[w],R=g[w+1],k=y(g[w+2],M,v,_),V=y(g[w+2],R,v,_)),x.push(M.clone()),x.push(R.clone()),x.push(k),x.push(V),x.push(k.clone()),x.push(R.clone());break}case 2:{A||(M=g[w].clone(),R=y(M,g[w+1],v,_),k=y(M,g[w+2],v,_),x.push(M),x.push(R),x.push(k)),T||(M=g[w+1].clone(),R=y(M,g[w+2],v,_),k=y(M,g[w],v,_),x.push(M),x.push(R),x.push(k)),P||(M=g[w+2].clone(),R=y(M,g[w],v,_),k=y(M,g[w+1],v,_),x.push(M),x.push(R),x.push(k));break}}}return x}function y(g,v,x,_){const w=g.position.dot(x)-_,A=v.position.dot(x)-_,T=w/(w-A);return new LN(new N(g.position.x+T*(v.position.x-g.position.x),g.position.y+T*(v.position.y-g.position.y),g.position.z+T*(v.position.z-g.position.z)),new N(g.normal.x+T*(v.normal.x-g.normal.x),g.normal.y+T*(v.normal.y-g.normal.y),g.normal.z+T*(v.normal.z-g.normal.z)))}}}class LN{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}function E6(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function Ile(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],d=s[a-c],p=i[c]/(u+d);i[c]=l+u*p,l=d*p}i[a]=l}return i}function Rle(n,e,t,r){const i=E6(n,r,e),s=Ile(i,r,n,e),o=new rn(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function Lle(n,e,t,r,i){const s=[];for(let p=0;p<=t;++p)s[p]=0;const o=[];for(let p=0;p<=r;++p)o[p]=s.slice(0);const a=[];for(let p=0;p<=t;++p)a[p]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let p=1;p<=t;++p){l[p]=e-i[n+1-p],c[p]=i[n+p]-e;let m=0;for(let y=0;y<p;++y){const g=c[y+1],v=l[p-y];a[p][y]=g+v;const x=a[y][p-1]/a[p][y];a[y][p]=m+g*x,m=v*x}a[p][p]=m}for(let p=0;p<=t;++p)o[0][p]=a[p][t];for(let p=0;p<=t;++p){let m=0,y=1;const g=[];for(let v=0;v<=t;++v)g[v]=s.slice(0);g[0][0]=1;for(let v=1;v<=r;++v){let x=0;const _=p-v,w=t-v;p>=v&&(g[y][0]=g[m][0]/a[w+1][_],x=g[y][0]*a[_][w]);const A=_>=-1?1:-_,T=p-1<=w?v-1:t-p;for(let P=A;P<=T;++P)g[y][P]=(g[m][P]-g[m][P-1])/a[w+1][_+P],x+=g[y][P]*a[_+P][w];p<=w&&(g[y][v]=-g[m][v-1]/a[w+1][p],x+=g[y][v]*a[p][w]),o[v][p]=x;var u=m;m=y,y=u}}var d=t;for(let p=1;p<=r;++p){for(let m=0;m<=t;++m)o[p][m]*=d;d*=t-p}return o}function kle(n,e,t,r,i){const s=i<n?i:n,o=[],a=E6(n,r,e),l=Lle(a,r,n,s,e),c=[];for(let d=0;d<t.length;++d){var u=t[d].clone();const p=u.w;u.x*=p,u.y*=p,u.z*=p,c[d]=u}for(let d=0;d<=s;++d){var u=c[a-n].clone().multiplyScalar(l[d][0]);for(let m=1;m<=n;++m)u.add(c[a-n+m].clone().multiplyScalar(l[d][m]));o[d]=u}for(let d=s+1;d<=i+1;++d)o[d]=new rn(0,0,0);return o}function Dle(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function Ble(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new N(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(Dle(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function Ole(n,e,t,r,i){const s=kle(n,e,t,r,i);return Ble(s)}class kN extends xo{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new rn(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new N,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=Rle(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new N,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=Ole(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let Wt,gr,es;class wR extends Di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?Ds.extractUrlBase(e):s.path,a=new us(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(Gle(e))Wt=new Hle().parse(e);else{const i=R6(e);if(!Vle(i))throw new Error("THREE.FBXLoader: Unknown format.");if(BN(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+BN(i));Wt=new Ule().parse(i)}const r=new bp(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Nle(r,this.manager).parse(Wt)}}class Nle{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){gr=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new Fle().parse(i);return this.parseScene(i,s,r),es}parseConnections(){const e=new Map;return"Connections"in Wt&&Wt.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Wt.Objects){const r=Wt.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in Wt.Objects){const r=Wt.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?Ca:Dr,r.wrapT=a===0?Ca:Dr,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=gr.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new Rn):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new Rn):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in Wt.Objects){const r=Wt.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!gr.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new dg;break;case"lambert":a=new iR;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new dg;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new Ue().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new Ue().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new Ue().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new Ue().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new Ue().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new Ue().fromArray(e.SpecularColor.value));const s=this;return gr.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&(i.map.encoding=zt);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=zt);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=Hf,i.envMap.encoding=zt);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&(i.specularMap.encoding=zt);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in Wt.Objects&&t in Wt.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=gr.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Wt.Objects){const r=Wt.Objects.Deformer;for(const i in r){const s=r[i],o=gr.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new tt().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=gr.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){es=new Uo;const i=this.parseModels(e.skeletons,t,r),s=Wt.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),gr.get(l.ID).parents.forEach(function(d){const p=i.get(d.ID);p!==void 0&&p.add(l)}),l.parent===null&&es.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),es.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=P6(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new zle().parse();es.children.length===1&&es.children[0].isGroup&&(es.children[0].animations=a,es=es.children[0]),es.animations=a}parseModels(e,t,r){const i=new Map,s=Wt.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=gr.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new Kf;break;case"Null":default:u=new Uo;break}u.name=l.attrName?Ht.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const d=s;s=new Kf,s.matrixWorld.copy(c.transformLink),s.name=i?Ht.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,d!==null&&s.add(d)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=Wt.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Kt;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new bn(u,c,s,o),d!==null&&t.setFocalLength(d);break;case 1:t=new po(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Kt;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=Wt.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new Kt;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new Ue().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new oy(s,o,a,l);break;case 1:t=new nw(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Ts.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Ts.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new tw(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new oy(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new dg({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new qS(s,o),i.normalizeSkinWeights()):i=new Pr(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new di({color:3342591,linewidth:1});return new Ta(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=I6(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&gr.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=Wt.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),es.add(e.target)):e.lookAt(new N().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];gr.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;gr.get(c).parents.forEach(function(d){r.has(d.ID)&&r.get(d.ID).bind(new yp(o.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Wt.Objects){const t=Wt.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new tt().fromArray(s.Matrix.a)}):e[i.Node]=new tt().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Wt&&"AmbientColor"in Wt.GlobalSettings){const e=Wt.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new Ue(t,r,i);es.add(new dR(s,1))}}}}class Fle{parse(e){const t=new Map;if("Geometry"in Wt.Objects){const r=Wt.Objects.Geometry;for(const i in r){const s=gr.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(d){return Wt.Objects.Model[d.ID]});if(o.length===0)return;const a=e.children.reduce(function(d,p){return i[p.ID]!==void 0&&(d=i[p.ID]),d},null);e.children.forEach(function(d){r.morphTargets[d.ID]!==void 0&&s.push(r.morphTargets[d.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=I6(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=P6(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new St;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new Qe(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new Qe(a.colors,3)),t&&(s.setAttribute("skinIndex",new $S(a.weightsIndices,4)),s.setAttribute("skinWeight",new Qe(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new qr().getNormalMatrix(i),u=new Qe(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let d="uv"+(u+1).toString();u===0&&(d="uv"),s.setAttribute(d,new Qe(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(d,p){d!==c&&(s.addGroup(u,p-u,c),c=d,u=p)}),s.groups.length>0){const d=s.groups[s.groups.length-1],p=d.start+d.count;p!==a.materialIndex.length&&s.addGroup(p,a.materialIndex.length-p,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],d=[];const p=this;return e.vertexIndices.forEach(function(m,y){let g,v=!1;m<0&&(m=m^-1,v=!0);let x=[],_=[];if(o.push(m*3,m*3+1,m*3+2),e.color){const w=kx(y,r,m,e.color);l.push(w[0],w[1],w[2])}if(e.skeleton){if(e.weightTable[m]!==void 0&&e.weightTable[m].forEach(function(w){_.push(w.weight),x.push(w.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const w=[0,0,0,0],A=[0,0,0,0];_.forEach(function(T,P){let L=T,M=x[P];A.forEach(function(R,k,V){if(L>R){V[k]=L,L=R;const U=w[k];w[k]=M,M=U}})}),x=w,_=A}for(;_.length<4;)_.push(0),x.push(0);for(let w=0;w<4;++w)u.push(_[w]),d.push(x[w])}if(e.normal){const w=kx(y,r,m,e.normal);a.push(w[0],w[1],w[2])}e.material&&e.material.mappingType!=="AllSame"&&(g=kx(y,r,m,e.material)[0]),e.uv&&e.uv.forEach(function(w,A){const T=kx(y,r,m,w);c[A]===void 0&&(c[A]=[]),c[A].push(T[0]),c[A].push(T[1])}),i++,v&&(p.genFace(t,e,o,g,a,l,c,u,d,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],d=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let d=2;d<u;d++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(d-1)*3]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[r[d*3]]),e.vertex.push(t.vertexPositions[r[d*3+1]]),e.vertex.push(t.vertexPositions[r[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(d-1)*3]),e.colors.push(o[(d-1)*3+1]),e.colors.push(o[(d-1)*3+2]),e.colors.push(o[d*3]),e.colors.push(o[d*3+1]),e.colors.push(o[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(d-1)*3]),e.normal.push(s[(d-1)*3+1]),e.normal.push(s[(d-1)*3+2]),e.normal.push(s[d*3]),e.normal.push(s[d*3+1]),e.normal.push(s[d*3+2])),t.uv&&t.uv.forEach(function(p,m){e.uvs[m]===void 0&&(e.uvs[m]=[]),e.uvs[m].push(a[m][0]),e.uvs[m].push(a[m][1]),e.uvs[m].push(a[m][(d-1)*2]),e.uvs[m].push(a[m][(d-1)*2+1]),e.uvs[m].push(a[m][d*2]),e.uvs[m].push(a[m][d*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=Wt.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let y=0;y<l.length;y++){const g=l[y]*3;u[g]=a[y*3],u[g+1]=a[y*3+1],u[g+2]=a[y*3+2]}const d={vertexIndices:o,vertexPositions:u},p=this.genBuffers(d),m=new Qe(p.vertex,3);m.name=s||r.attrName,m.applyMatrix4(i),e.morphAttributes.position.push(m)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(kN===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new St;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new St;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let d=0,p=o.length;d<p;d+=4)s.push(new rn().fromArray(o,d));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let d=0;d<r;++d)s.push(s[d])}const u=new kN(r,i,s,a,l).getPoints(s.length*12);return new St().setFromPoints(u)}}class zle{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(Wt.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Wt.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=Wt.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map($le),values:t[r].KeyValueFloat.a},s=gr.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=Wt.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=gr.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const d=gr.get(l.ID).parents.filter(function(p){return p.relationship!==void 0})[0].ID;if(d!==void 0){const p=Wt.Objects.Model[d.toString()];if(p===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const m={modelName:p.attrName?Ht.sanitizeNodeName(p.attrName):"",ID:p.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};es.traverse(function(y){y.ID===p.id&&(m.transform=y.matrix,y.userData.transformData&&(m.eulerOrder=y.userData.transformData.eulerOrder))}),m.transform||(m.transform=new tt),"PreRotation"in p&&(m.preRotation=p.PreRotation.value),"PostRotation"in p&&(m.postRotation=p.PostRotation.value),s[c]=m}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const d=gr.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,p=gr.get(d).parents[0].ID,m=gr.get(p).parents[0].ID,y=gr.get(m).parents[0].ID,g=Wt.Objects.Model[y],v={modelName:g.attrName?Ht.sanitizeNodeName(g.attrName):"",morphName:Wt.Objects.Deformer[d].attrName};s[c]=v}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=Wt.Objects.AnimationStack,r={};for(const i in t){const s=gr.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new Ad(e.name,-1,t)}generateTracks(e){const t=[];let r=new N,i=new xr,s=new N;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new ho().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new bd(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ts.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ts.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ts.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(Ts.degToRad),i.push(o),i=new ho().fromArray(i),i=new xr().setFromEuler(i)),s!==void 0&&(s=s.map(Ts.degToRad),s.push(o),s=new ho().fromArray(s),s=new xr().setFromEuler(s).invert());const c=new xr,u=new ho,d=[];for(let p=0;p<l.length;p+=3)u.set(l[p],l[p+1],l[p+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(d,p/3*4);return new yl(e+".quaternion",a,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=es.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new wd(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],d=(e.times[t]-c)/o;let p=c+d;const m=[],y=[];for(;p<e.times[t];)m.push(p),p+=d,y.push(l),l+=a;e.times=ON(e.times,t,m),e.values=ON(e.values,t,y)}}}}class Ule{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new T6,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let d=s.split(",").slice(3);d=d.map(function(p){return p.trim().replace(/^"/,"")}),i="connections",s=[c,u],jle(s,d),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=YC(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=YC(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=YC(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class Hle{parse(e){const t=new DN(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new T6;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let p=0;p<s;p++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const p=this.parseNode(e,t);p!==null&&this.parseSubNode(a,r,p)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),d!==""&&(r.attrType=d),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=qae(new Uint8Array(e.getArrayBuffer(o))),l=new DN(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class DN{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Ds.decodeText(new Uint8Array(t))}}class T6{add(e,t){this[e]=t}}function Gle(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===R6(n,0,e.length)}function Vle(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function BN(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function $le(n){return n/46186158e3}const Wle=[];function kx(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return Kle(Wle,r.buffer,s,o)}const qC=new ho,Rh=new N;function P6(n){const e=new tt,t=new tt,r=new tt,i=new tt,s=new tt,o=new tt,a=new tt,l=new tt,c=new tt,u=new tt,d=new tt,p=new tt,m=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(Rh.fromArray(n.translation)),n.preRotation){const k=n.preRotation.map(Ts.degToRad);k.push(n.eulerOrder),t.makeRotationFromEuler(qC.fromArray(k))}if(n.rotation){const k=n.rotation.map(Ts.degToRad);k.push(n.eulerOrder),r.makeRotationFromEuler(qC.fromArray(k))}if(n.postRotation){const k=n.postRotation.map(Ts.degToRad);k.push(n.eulerOrder),i.makeRotationFromEuler(qC.fromArray(k)),i.invert()}n.scale&&s.scale(Rh.fromArray(n.scale)),n.scalingOffset&&a.setPosition(Rh.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(Rh.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(Rh.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(Rh.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(d.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const y=t.clone().multiply(r).multiply(i),g=new tt;g.extractRotation(u);const v=new tt;v.copyPosition(u);const x=v.clone().invert().multiply(u),_=g.clone().invert().multiply(x),w=s,A=new tt;if(m===0)A.copy(g).multiply(y).multiply(_).multiply(w);else if(m===1)A.copy(g).multiply(_).multiply(y).multiply(w);else{const V=new tt().scale(new N().setFromMatrixScale(d)).clone().invert(),U=_.clone().multiply(V);A.copy(g).multiply(y).multiply(U).multiply(w)}const T=c.clone().invert(),P=o.clone().invert();let L=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(T).multiply(a).multiply(o).multiply(s).multiply(P);const M=new tt().copyPosition(L),R=u.clone().multiply(M);return p.copyPosition(R),L=p.clone().multiply(A),L.premultiply(u.invert()),L}function I6(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function YC(n){return n.split(",").map(function(t){return parseFloat(t)})}function R6(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Ds.decodeText(new Uint8Array(n,e,t))}function jle(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function Kle(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function ON(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const QC=new WeakMap;class Xle extends Di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new us(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(QC.has(e)){const l=QC.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),QC.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new St;e.index&&t.setIndex(new fn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new fn(o,a))}return t}_loadLibrary(e,t){const r=new us(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Jle.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Jle(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(d,p,m,c),g=y.attributes.map(v=>v.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const v in u){const x=self[d[v]];let _,w;if(c.useUniqueIDs)w=u[v],_=a.GetAttributeByUniqueId(p,w);else{if(w=a.GetAttributeId(p,o[u[v]]),w===-1)continue;_=a.GetAttribute(p,w)}g.attributes.push(i(o,a,p,v,x,_))}return y===o.TRIANGULAR_MESH&&(g.index=r(o,a,p)),o.destroy(p),g}function r(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,d){const p=d.num_components(),y=l.num_points()*p,g=y*u.BYTES_PER_ELEMENT,v=s(o,u),x=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,d,v,g,x);const _=new u(o.HEAPF32.buffer,x,y).slice();return o._free(x),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Dx;const ZC=()=>{if(Dx)return Dx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let y=0;y<d.length;++y){const g=d.charCodeAt(y);p[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<d.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(d,p,m,y,g,v){const x=s.exports.sbrk,_=m+3&-4,w=x(_*y),A=x(g.length),T=new Uint8Array(s.exports.memory.buffer);T.set(g,A);const P=d(w,m,y,A,g.length);if(P===0&&v&&v(w,_,y),p.set(T.subarray(w,w+m*y)),x(w-x(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Dx={ready:o,supported:!0,decodeVertexBuffer(d,p,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,y,s.exports[c[g]])},decodeIndexBuffer(d,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,y)},decodeIndexSequence(d,p,m,y){l(s.exports.meshopt_decodeIndexSequence,d,p,m,y)},decodeGltfBuffer(d,p,m,y,g,v){l(s.exports[u[g]],d,p,m,y,s.exports[c[v]])}},Dx},NN=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function bR(n,e){const t=Es(i=>i.gl),r=Yo(bp,NN(n)?Object.values(n):n);if(D.useLayoutEffect(()=>{e==null||e(r)},[e]),D.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),NN(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}bR.preload=n=>Yo.preload(bp,n);bR.clear=n=>Yo.clear(bp,n);function qle(n){return Array.isArray(n)}function eM(n=[0,0,0]){return qle(n)?n:n instanceof N||n instanceof ho?[n.x,n.y,n.z]:[n,n,n]}function Yle({debug:n,mesh:e,children:t,position:r,rotation:i,scale:s,...o}){const a=D.useRef(null),l=D.useRef(null);return D.useLayoutEffect(()=>{const c=(e==null?void 0:e.current)||a.current.parent,u=a.current;if(!(c instanceof Pr))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const d={position:new N,rotation:new ho,scale:new N(1,1,1)};if(c){pc(d,{position:r,scale:s});const p=c.matrixWorld.clone();if(c.matrixWorld.identity(),!i||typeof i=="number"){const m=new Kt;m.position.copy(d.position),m.lookAt(c.position),typeof i=="number"&&m.rotateZ(i),pc(d,{rotation:m.rotation})}else pc(d,{rotation:i});return u.geometry=new Ple(c,d.position,d.rotation,d.scale),l.current&&pc(l.current,d),c.matrixWorld=p,()=>{u.geometry.dispose()}}},[e,...eM(r),...eM(s),...eM(i)]),D.createElement("mesh",{ref:a},t||D.createElement("meshStandardMaterial",vl({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},o)),n&&D.createElement("mesh",{ref:l},D.createElement("boxGeometry",null),D.createElement("meshNormalMaterial",{wireframe:!0}),D.createElement("axesHelper",null)))}let Bx=null;function L6(n,e,t){return r=>{t&&t(r),n&&(Bx||(Bx=new Xle),Bx.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Bx)),e&&r.setMeshoptDecoder(typeof ZC=="function"?ZC():ZC)}}function AR(n,e=!0,t=!0,r){return Yo(SR,n,L6(e,t,r))}AR.preload=(n,e=!0,t=!0,r)=>Yo.preload(SR,n,L6(e,t,r));AR.clear=n=>Yo.clear(SR,n);const CR=D.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const u=Es(T=>T.invalidate),d=Es(T=>T.camera),p=Es(T=>T.gl),m=Es(T=>T.events),y=Es(T=>T.setEvents),g=Es(T=>T.set),v=Es(T=>T.get),x=Es(T=>T.performance),_=e||d,w=r||m.connected||p.domElement,A=D.useMemo(()=>new Zae(_),[_]);return yR(()=>{A.enabled&&A.update()},-1),D.useEffect(()=>(A.connect(w),()=>void A.dispose()),[w,t,A,u]),D.useEffect(()=>{const T=M=>{u(),t&&x.regress(),s&&s(M)},P=M=>{o&&o(M)},L=M=>{a&&a(M)};return A.addEventListener("change",T),A.addEventListener("start",P),A.addEventListener("end",L),()=>{A.removeEventListener("start",P),A.removeEventListener("end",L),A.removeEventListener("change",T)}},[s,o,a,A,u,y]),D.useEffect(()=>{if(n){const T=v().controls;return g({controls:A}),()=>g({controls:T})}},[n,A]),D.createElement("primitive",vl({ref:c,object:A,enableDamping:i},l))});function MR(n){return Yo(wR,n)}MR.preload=n=>Yo.preload(wR,n);MR.clear=n=>Yo.clear(wR,n);const Qle=D.forwardRef(({children:n,speed:e=1,rotationIntensity:t=1,floatIntensity:r=1,floatingRange:i=[-.1,.1],...s},o)=>{const a=D.useRef(null),l=D.useRef(Math.random()*1e4);return yR(c=>{var u,d;const p=l.current+c.clock.getElapsedTime();a.current.rotation.x=Math.cos(p/4*e)/8*t,a.current.rotation.y=Math.sin(p/4*e)/8*t,a.current.rotation.z=Math.sin(p/4*e)/20*t;let m=Math.sin(p/4*e)/10;m=Ts.mapLinear(m,-.1,.1,(u=i==null?void 0:i[0])!==null&&u!==void 0?u:-.1,(d=i==null?void 0:i[1])!==null&&d!==void 0?d:.1),a.current.position.y=m*r}),D.createElement("group",s,D.createElement("group",{ref:Oae([a,o])},n))});function k6({all:n,scene:e,camera:t}){const r=Es(({gl:o})=>o),i=Es(({camera:o})=>o),s=Es(({scene:o})=>o);return D.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,t||i);const a=new VI(128);new GI(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const ER=()=>{const{progress:n}=Bae();return G(Dae,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[C("span",{className:"canvas-loader"}),G("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},Zle=n=>{const e=MR("Walking.fbx");return G("mesh",{children:[C("hemisphereLight",{intensity:.15,groundColor:"black"}),C("pointLight",{intensity:1}),C("primitive",{object:e,position:[0,-9.45,-1.5],scale:.13})]})},ece=()=>G(xR,{style:{height:600},frameloop:"demand",shadows:!0,camera:{position:[40,100,10],fov:15},gl:{preserveDrawing:!0},children:[G(D.Suspense,{fallback:C(ER,{}),children:[C(CR,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),C(Zle,{})]}),C(k6,{all:!0})]}),tce="/money-can/assets/azzurra-77526470.png",nce="/money-can/assets/bianco-89b849c2.png",rce="/money-can/assets/nero-3c5b028f.png",ice="/money-can/assets/bluette-17848b2b.png",sce="/money-can/assets/fragola-cf4a55e5.png",oce="/money-can/assets/verde_prato-8dc63d3d.png",ace=[{id:1,img:tce},{id:2,img:nce},{id:3,img:rce},{id:4,img:ice},{id:5,img:sce},{id:6,img:oce}],lce=()=>C("div",{className:"constructor",children:G("div",{className:"container",children:[C("div",{className:"constructor__slider",children:G(jy,{...{infinite:!0,slidesToShow:1,centerMode:!0,className:"center",slidesToScroll:1,vertical:!0,verticalSwiping:!0,beforeChange:function(e,t){console.log("before change",e,t)},afterChange:function(e){console.log("after change",e)}},children:[C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})}),C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})}),C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})}),C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})}),C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})}),C("div",{className:"constructor__slider_card",children:C("img",{src:Pu,alt:""})})]})}),G("div",{className:"constructor__model",children:[C(ece,{}),C("img",{src:MQ,alt:""})]}),G("div",{className:"constructor__deps",children:[G("div",{className:"constructor__deps__types",children:[G("div",{className:"constructor__deps__textile",children:[C("h4",{children:""}),C("div",{children:ace.map(e=>C("span",{className:"constructor__textile",children:C("img",{src:e.img,alt:""})},e.id))})]}),G("div",{className:"constructor__deps__colors",children:[C("h4",{children:""}),G("div",{className:"constructor__deps__colors_block",children:[C("span",{className:"grey"}),C("span",{className:"violet"}),C("span",{className:"red"}),C("span",{className:"grey"}),C("span",{className:"khaki"}),C("span",{className:"dark"}),C("span",{className:"yellow"}),C("span",{className:"orange"}),C("span",{className:"green"}),C("span",{className:"white"})]})]}),G("div",{className:"constructor__deps__sizes",children:[C("h4",{children:""}),G("div",{children:[G("span",{children:[C("strong",{children:"XS"})," "]}),G("span",{children:[C("strong",{children:"S"})," "]}),G("span",{children:[C("strong",{children:"L"})," "]}),C("span",{children:C("strong",{children:"M"})}),G("span",{children:[C("strong",{children:"XL"})," "]}),G("span",{children:[C("strong",{children:"XXL"})," "]})]})]})]}),G("div",{className:"constructor__items__count",children:[C("h4",{children:"-"}),G("div",{children:[G("div",{children:[C(En,{children:C("img",{src:EQ,alt:""})}),G("span",{children:[C("strong",{children:"300"})," "]}),C(En,{children:C("img",{src:TQ,alt:""})})]}),C("p",{children:" : 300 "})]})]}),G("div",{className:"constructor__items__price",children:[G("div",{children:[C("h4",{children:""}),G("div",{children:[G("div",{children:[G("span",{children:[C("strong",{children:"0.00"})," RUB"]}),C("p",{children:" : 1 - 9 "})]}),G("div",{children:[G("span",{children:[C("strong",{children:"0.00"})," RUB"]}),C("span",{children:"  ."})]})]})]}),C("p",{children:"*     .     "})]}),G("div",{className:"constructor__btn",children:[C(En,{children:C("img",{src:iG,alt:""})}),C(En,{children:" "})]})]})]})}),cce=n=>C("div",{className:"skeleton"});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uce=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},B6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(t[u],t[d],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(D6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uce(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw Error();const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const y=c<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},dce=function(n){const e=D6(n);return B6.encodeByteArray(e,!0)},E_=function(n){return dce(n).replace(/\./g,"")},hce=function(n){try{return B6.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce=()=>fce().__FIREBASE_DEFAULTS__,mce=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gce=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hce(n[1]);return e&&JSON.parse(e)},O6=()=>{try{return pce()||mce()||gce()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yce=n=>{var e,t;return(t=(e=O6())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vce=n=>{const e=yce(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xce=()=>{var n;return(n=O6())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[E_(JSON.stringify(t)),E_(JSON.stringify(o)),a].join(".")}function wce(){try{return typeof indexedDB=="object"}catch{return!1}}function bce(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ace="FirebaseError";class Ap extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ace,Object.setPrototypeOf(this,Ap.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N6.prototype.create)}}class N6{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Cce(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ap(i,a,r)}}function Cce(n,e){return n.replace(Mce,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mce=/\{\$([^}]+)}/g;function cP(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(FN(s)&&FN(o)){if(!cP(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FN(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){return n&&n._delegate?n._delegate:n}class uy{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ece=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _ce;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pce(e))try{this.getOrInitializeService({instanceIdentifier:Du})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Du){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Du){return this.instances.has(e)}getOptions(e=Du){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Tce(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Du){return this.component?this.component.multipleInstances?e:Du:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Tce(n){return n===Du?void 0:n}function Pce(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ece(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mn||(mn={}));const Rce={debug:mn.DEBUG,verbose:mn.VERBOSE,info:mn.INFO,warn:mn.WARN,error:mn.ERROR,silent:mn.SILENT},Lce=mn.INFO,kce={[mn.DEBUG]:"log",[mn.VERBOSE]:"log",[mn.INFO]:"info",[mn.WARN]:"warn",[mn.ERROR]:"error"},Dce=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=kce[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F6{constructor(e){this.name=e,this._logLevel=Lce,this._logHandler=Dce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mn.DEBUG,...e),this._logHandler(this,mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mn.VERBOSE,...e),this._logHandler(this,mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mn.INFO,...e),this._logHandler(this,mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mn.WARN,...e),this._logHandler(this,mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mn.ERROR,...e),this._logHandler(this,mn.ERROR,...e)}}const Bce=(n,e)=>e.some(t=>n instanceof t);let zN,UN;function Oce(){return zN||(zN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nce(){return UN||(UN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z6=new WeakMap,uP=new WeakMap,U6=new WeakMap,tM=new WeakMap,TR=new WeakMap;function Fce(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Mc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&z6.set(t,n)}).catch(()=>{}),TR.set(e,n),e}function zce(n){if(uP.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});uP.set(n,e)}let dP={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uP.get(n);if(e==="objectStoreNames")return n.objectStoreNames||U6.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Uce(n){dP=n(dP)}function Hce(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(nM(this),e,...t);return U6.set(r,e.sort?e.sort():[e]),Mc(r)}:Nce().includes(n)?function(...e){return n.apply(nM(this),e),Mc(z6.get(this))}:function(...e){return Mc(n.apply(nM(this),e))}}function Gce(n){return typeof n=="function"?Hce(n):(n instanceof IDBTransaction&&zce(n),Bce(n,Oce())?new Proxy(n,dP):n)}function Mc(n){if(n instanceof IDBRequest)return Fce(n);if(tM.has(n))return tM.get(n);const e=Gce(n);return e!==n&&(tM.set(n,e),TR.set(e,n)),e}const nM=n=>TR.get(n);function Vce(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Mc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mc(o.result),l.oldVersion,l.newVersion,Mc(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const $ce=["get","getKey","getAll","getAllKeys","count"],Wce=["put","add","delete","clear"],rM=new Map;function HN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rM.get(e))return rM.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Wce.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$ce.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return rM.set(e,s),s}Uce(n=>({...n,get:(e,t,r)=>HN(e,t)||n.get(e,t,r),has:(e,t)=>!!HN(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kce(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Kce(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hP="@firebase/app",GN="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new F6("@firebase/app"),Xce="@firebase/app-compat",Jce="@firebase/analytics-compat",qce="@firebase/analytics",Yce="@firebase/app-check-compat",Qce="@firebase/app-check",Zce="@firebase/auth",eue="@firebase/auth-compat",tue="@firebase/database",nue="@firebase/database-compat",rue="@firebase/functions",iue="@firebase/functions-compat",sue="@firebase/installations",oue="@firebase/installations-compat",aue="@firebase/messaging",lue="@firebase/messaging-compat",cue="@firebase/performance",uue="@firebase/performance-compat",due="@firebase/remote-config",hue="@firebase/remote-config-compat",fue="@firebase/storage",pue="@firebase/storage-compat",mue="@firebase/firestore",gue="@firebase/firestore-compat",yue="firebase",vue="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="[DEFAULT]",xue={[hP]:"fire-core",[Xce]:"fire-core-compat",[qce]:"fire-analytics",[Jce]:"fire-analytics-compat",[Qce]:"fire-app-check",[Yce]:"fire-app-check-compat",[Zce]:"fire-auth",[eue]:"fire-auth-compat",[tue]:"fire-rtdb",[nue]:"fire-rtdb-compat",[rue]:"fire-fn",[iue]:"fire-fn-compat",[sue]:"fire-iid",[oue]:"fire-iid-compat",[aue]:"fire-fcm",[lue]:"fire-fcm-compat",[cue]:"fire-perf",[uue]:"fire-perf-compat",[due]:"fire-rc",[hue]:"fire-rc-compat",[fue]:"fire-gcs",[pue]:"fire-gcs-compat",[mue]:"fire-fst",[gue]:"fire-fst-compat","fire-js":"fire-js",[yue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=new Map,pP=new Map;function _ue(n,e){try{n.container.addComponent(e)}catch(t){Md.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function P_(n){const e=n.name;if(pP.has(e))return Md.debug(`There were multiple attempts to register component ${e}.`),!1;pP.set(e,n);for(const t of T_.values())_ue(t,n);return!0}function Sue(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wue={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ec=new N6("app","Firebase",wue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uy("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ec.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=vue;function H6(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fP,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ec.create("bad-app-name",{appName:String(i)});if(t||(t=xce()),!t)throw Ec.create("no-options");const s=T_.get(i);if(s){if(cP(t,s.options)&&cP(r,s.config))return s;throw Ec.create("duplicate-app",{appName:i})}const o=new Ice(i);for(const l of pP.values())o.addComponent(l);const a=new bue(t,r,o);return T_.set(i,a),a}function Cue(n=fP){const e=T_.get(n);if(!e&&n===fP)return H6();if(!e)throw Ec.create("no-app",{appName:n});return e}function vf(n,e,t){var r;let i=(r=xue[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Md.warn(a.join(" "));return}P_(new uy(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue="firebase-heartbeat-database",Eue=1,dy="firebase-heartbeat-store";let iM=null;function G6(){return iM||(iM=Vce(Mue,Eue,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(dy)}}}).catch(n=>{throw Ec.create("idb-open",{originalErrorMessage:n.message})})),iM}async function Tue(n){try{return(await G6()).transaction(dy).objectStore(dy).get(V6(n))}catch(e){if(e instanceof Ap)Md.warn(e.message);else{const t=Ec.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Md.warn(t.message)}}}async function VN(n,e){try{const r=(await G6()).transaction(dy,"readwrite");return await r.objectStore(dy).put(e,V6(n)),r.done}catch(t){if(t instanceof Ap)Md.warn(t.message);else{const r=Ec.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Md.warn(r.message)}}}function V6(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=1024,Iue=30*24*60*60*1e3;class Rue{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kue(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$N();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Iue}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$N(),{heartbeatsToSend:t,unsentEntries:r}=Lue(this._heartbeatsCache.heartbeats),i=E_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $N(){return new Date().toISOString().substring(0,10)}function Lue(n,e=Pue){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WN(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),WN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wce()?bce().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Tue(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return VN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return VN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WN(n){return E_(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(n){P_(new uy("platform-logger",e=>new jce(e),"PRIVATE")),P_(new uy("heartbeat",e=>new Rue(e),"PRIVATE")),vf(hP,GN,n),vf(hP,GN,"esm2017"),vf("fire-js","")}Due("");var Bue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lt,PR=PR||{},Ct=Bue||self;function I_(){}function sw(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function f0(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function Oue(n){return Object.prototype.hasOwnProperty.call(n,sM)&&n[sM]||(n[sM]=++Nue)}var sM="closure_uid_"+(1e9*Math.random()>>>0),Nue=0;function Fue(n,e,t){return n.call.apply(n.bind,arguments)}function zue(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ii=Fue:Ii=zue,Ii.apply(null,arguments)}function Ox(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qc(){this.s=this.s,this.o=this.o}var Uue=0;Qc.prototype.s=!1;Qc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Uue!=0)&&Oue(this)};Qc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $6=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function IR(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sw(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ri.prototype.h=function(){this.defaultPrevented=!0};var Hue=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",I_,e),Ct.removeEventListener("test",I_,e)}catch{}return n}();function R_(n){return/^[\s\xa0]*$/.test(n)}var KN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function oM(n,e){return n<e?-1:n>e?1:0}function ow(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function da(n){return ow().indexOf(n)!=-1}function RR(n){return RR[" "](n),n}RR[" "]=I_;function Gue(n){var e=Wue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}var Vue=da("Opera"),qf=da("Trident")||da("MSIE"),W6=da("Edge"),mP=W6||qf,j6=da("Gecko")&&!(ow().toLowerCase().indexOf("webkit")!=-1&&!da("Edge"))&&!(da("Trident")||da("MSIE"))&&!da("Edge"),$ue=ow().toLowerCase().indexOf("webkit")!=-1&&!da("Edge");function K6(){var n=Ct.document;return n?n.documentMode:void 0}var L_;e:{var aM="",lM=function(){var n=ow();if(j6)return/rv:([^\);]+)(\)|;)/.exec(n);if(W6)return/Edge\/([\d\.]+)/.exec(n);if(qf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if($ue)return/WebKit\/(\S+)/.exec(n);if(Vue)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(lM&&(aM=lM?lM[1]:""),qf){var cM=K6();if(cM!=null&&cM>parseFloat(aM)){L_=String(cM);break e}}L_=aM}var Wue={};function jue(){return Gue(function(){let n=0;const e=KN(String(L_)).split("."),t=KN("9").split("."),r=Math.max(e.length,t.length);for(let o=0;n==0&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;n=oM(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||oM(i[2].length==0,s[2].length==0)||oM(i[2],s[2]),i=i[3],s=s[3]}while(n==0)}return 0<=n})}var gP;if(Ct.document&&qf){var XN=K6();gP=XN||parseInt(L_,10)||void 0}else gP=void 0;var Kue=gP;function hy(n,e){if(Ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(j6){e:{try{RR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Xue[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hy.X.h.call(this)}}hi(hy,Ri);var Xue={2:"touch",3:"pen",4:"mouse"};hy.prototype.h=function(){hy.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var p0="closure_listenable_"+(1e6*Math.random()|0),Jue=0;function que(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Jue,this.ba=this.ea=!1}function aw(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function LR(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function X6(n){const e={};for(const t in n)e[t]=n[t];return e}const JN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J6(n,e){let t,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(let s=0;s<JN.length;s++)t=JN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function lw(n){this.src=n,this.g={},this.h=0}lw.prototype.add=function(n,e,t,r,i){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=vP(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):(e=new que(e,this.src,s,!!r,i),e.ea=t,n.push(e)),e};function yP(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=$6(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(aw(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function vP(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}var kR="closure_lm_"+(1e6*Math.random()|0),uM={};function q6(n,e,t,r,i){if(r&&r.once)return Q6(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)q6(n,e[s],t,r,i);return null}return t=OR(t),n&&n[p0]?n.N(e,t,f0(r)?!!r.capture:!!r,i):Y6(n,e,t,!1,r,i)}function Y6(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=f0(i)?!!i.capture:!!i,a=BR(n);if(a||(n[kR]=a=new lw(n)),t=a.add(e,t,r,o,s),t.proxy)return t;if(r=Yue(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hue||(i=o),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(e9(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function Yue(){function n(t){return e.call(n.src,n.listener,t)}const e=Que;return n}function Q6(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q6(n,e[s],t,r,i);return null}return t=OR(t),n&&n[p0]?n.O(e,t,f0(r)?!!r.capture:!!r,i):Y6(n,e,t,!0,r,i)}function Z6(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Z6(n,e[s],t,r,i);else r=f0(r)?!!r.capture:!!r,t=OR(t),n&&n[p0]?(n=n.i,e=String(e).toString(),e in n.g&&(s=n.g[e],t=vP(s,t,r,i),-1<t&&(aw(s[t]),Array.prototype.splice.call(s,t,1),s.length==0&&(delete n.g[e],n.h--)))):n&&(n=BR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=vP(e,t,r,i)),(t=-1<n?e[n]:null)&&DR(t))}function DR(n){if(typeof n!="number"&&n&&!n.ba){var e=n.src;if(e&&e[p0])yP(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(e9(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=BR(e))?(yP(t,n),t.h==0&&(t.src=null,e[kR]=null)):aw(n)}}}function e9(n){return n in uM?uM[n]:uM[n]="on"+n}function Que(n,e){if(n.ba)n=!0;else{e=new hy(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&DR(n),n=t.call(r,e)}return n}function BR(n){return n=n[kR],n instanceof lw?n:null}var dM="__closure_events_fn_"+(1e9*Math.random()>>>0);function OR(n){return typeof n=="function"?n:(n[dM]||(n[dM]=function(e){return n.handleEvent(e)}),n[dM])}function Qr(){Qc.call(this),this.i=new lw(this),this.P=this,this.I=null}hi(Qr,Qc);Qr.prototype[p0]=!0;Qr.prototype.removeEventListener=function(n,e,t,r){Z6(this,n,e,t,r)};function ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,typeof e=="string")e=new Ri(e,n);else if(e instanceof Ri)e.target=e.target||n;else{var i=e;e=new Ri(r,n),J6(e,i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Nx(o,r,!0,e)&&i}if(o=e.g=n,i=Nx(o,r,!0,e)&&i,i=Nx(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)o=e.g=t[s],i=Nx(o,r,!1,e)&&i}Qr.prototype.M=function(){if(Qr.X.M.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)aw(t[r]);delete n.g[e],n.h--}}this.I=null};Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function Nx(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&yP(n.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var NR=Ct.JSON.stringify;function Zue(){var n=r9;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class ede{constructor(){this.h=this.g=null}add(e,t){const r=t9.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var t9=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tde,n=>n.reset());class tde{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nde(n){Ct.setTimeout(()=>{throw n},0)}function n9(n,e){xP||rde(),_P||(xP(),_P=!0),r9.add(n,e)}var xP;function rde(){var n=Ct.Promise.resolve(void 0);xP=function(){n.then(ide)}}var _P=!1,r9=new ede;function ide(){for(var n;n=Zue();){try{n.h.call(n.g)}catch(t){nde(t)}var e=t9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_P=!1}function cw(n,e){Qr.call(this),this.h=n||1,this.g=e||Ct,this.j=Ii(this.lb,this),this.l=Date.now()}hi(cw,Qr);lt=cw.prototype;lt.ca=!1;lt.R=null;lt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ci(this,"tick"),this.ca&&(FR(this),this.start()))}};lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function FR(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}lt.M=function(){cw.X.M.call(this),FR(this),delete this.g};function zR(n,e,t){if(typeof n=="function")t&&(n=Ii(n,t));else if(n&&typeof n.handleEvent=="function")n=Ii(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function i9(n){n.g=zR(()=>{n.g=null,n.i&&(n.i=!1,i9(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}class sde extends Qc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i9(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fy(n){Qc.call(this),this.h=n,this.g={}}hi(fy,Qc);var qN=[];function s9(n,e,t,r){Array.isArray(t)||(t&&(qN[0]=t.toString()),t=qN);for(var i=0;i<t.length;i++){var s=q6(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function o9(n){LR(n.g,function(e,t){this.g.hasOwnProperty(t)&&DR(e)},n),n.g={}}fy.prototype.M=function(){fy.X.M.call(this),o9(this)};fy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uw(){this.g=!0}uw.prototype.Aa=function(){this.g=!1};function ode(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+o})}function ade(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+s+" "+o})}function tf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+cde(n,t)+(r?" "+r:"")})}function lde(n,e){n.info(function(){return"TIMEOUT: "+e})}uw.prototype.info=function(){};function cde(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return NR(t)}catch{return e}}var zd={},YN=null;function dw(){return YN=YN||new Qr}zd.Pa="serverreachability";function a9(n){Ri.call(this,zd.Pa,n)}hi(a9,Ri);function py(n){const e=dw();ci(e,new a9(e))}zd.STAT_EVENT="statevent";function l9(n,e){Ri.call(this,zd.STAT_EVENT,n),this.stat=e}hi(l9,Ri);function Vi(n){const e=dw();ci(e,new l9(e,n))}zd.Qa="timingevent";function c9(n,e){Ri.call(this,zd.Qa,n),this.size=e}hi(c9,Ri);function m0(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}var hw={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},u9={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function UR(){}UR.prototype.h=null;function QN(n){return n.h||(n.h=n.i())}function d9(){}var g0={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function HR(){Ri.call(this,"d")}hi(HR,Ri);function GR(){Ri.call(this,"c")}hi(GR,Ri);var SP;function fw(){}hi(fw,UR);fw.prototype.g=function(){return new XMLHttpRequest};fw.prototype.i=function(){return{}};SP=new fw;function y0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new fy(this),this.O=ude,n=mP?125:void 0,this.T=new cw(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new h9}function h9(){this.i=null,this.g="",this.h=!1}var ude=45e3,wP={},k_={};lt=y0.prototype;lt.setTimeout=function(n){this.O=n};function bP(n,e,t){n.K=1,n.v=mw(_l(e)),n.s=t,n.P=!0,f9(n,null)}function f9(n,e){n.F=Date.now(),v0(n),n.A=_l(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),S9(t.i,"t",r),n.C=0,t=n.l.H,n.h=new h9,n.g=G9(n.l,t?e:null,!n.s),0<n.N&&(n.L=new sde(Ii(n.La,n,n.g),n.N)),s9(n.S,n.g,"readystatechange",n.ib),e=n.H?X6(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),py(),ode(n.j,n.u,n.A,n.m,n.U,n.s)}lt.ib=function(n){n=n.target;const e=this.L;e&&nl(n)==3?e.l():this.La(n)};lt.La=function(n){try{if(n==this.g)e:{const u=nl(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>u)&&(u!=3||mP||this.g&&(this.h.h||this.g.fa()||nF(this.g)))){this.I||u!=4||e==7||(e==8||0>=d?py(3):py(2)),pw(this);var t=this.g.aa();this.Y=t;t:if(p9(this)){var r=nF(this.g);n="";var i=r.length,s=nl(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qu(this),fg(this);var o="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=t==200,ade(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R_(a)){var c=a;break t}}c=null}if(t=c)tf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AP(this,t);else{this.i=!1,this.o=3,Vi(12),qu(this),fg(this);break e}}this.P?(m9(this,u,o),mP&&this.i&&u==3&&(s9(this.S,this.T,"tick",this.hb),this.T.start())):(tf(this.j,this.m,o,null),AP(this,o)),u==4&&qu(this),this.i&&!this.I&&(u==4?F9(this.l,this):(this.i=!1,v0(this)))}else t==400&&0<o.indexOf("Unknown SID")?(this.o=3,Vi(12)):(this.o=0,Vi(13)),qu(this),fg(this)}}}catch{}finally{}};function p9(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Da:!1}function m9(n,e,t){let r=!0,i;for(;!n.I&&n.C<t.length;)if(i=dde(n,t),i==k_){e==4&&(n.o=4,Vi(14),r=!1),tf(n.j,n.m,null,"[Incomplete Response]");break}else if(i==wP){n.o=4,Vi(15),tf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else tf(n.j,n.m,i,null),AP(n,i);p9(n)&&i!=k_&&i!=wP&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,Vi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,e=n.l,e.g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),JR(e),e.K=!0,Vi(11))):(tf(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),fg(n))}lt.hb=function(){if(this.g){var n=nl(this.g),e=this.g.fa();this.C<e.length&&(pw(this),m9(this,n,e),this.i&&n!=4&&v0(this))}};function dde(n,e){var t=n.C,r=e.indexOf(`
`,t);return r==-1?k_:(t=Number(e.substring(t,r)),isNaN(t)?wP:(r+=1,r+t>e.length?k_:(e=e.substr(r,t),n.C=r+t,e)))}lt.cancel=function(){this.I=!0,qu(this)};function v0(n){n.V=Date.now()+n.O,g9(n,n.O)}function g9(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=m0(Ii(n.gb,n),e)}function pw(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}lt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(lde(this.j,this.A),this.K!=2&&(py(),Vi(17)),qu(this),this.o=2,fg(this)):g9(this,this.V-n)};function fg(n){n.l.G==0||n.I||F9(n.l,n)}function qu(n){pw(n);var e=n.L;e&&typeof e.na=="function"&&e.na(),n.L=null,FR(n.T),o9(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function AP(n,e){try{var t=n.l;if(t.G!=0&&(t.g==n||CP(t.h,n))){if(!n.J&&CP(t.h,n)&&t.G==3){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.F+3e3<n.F)O_(t),vw(t);else break e;XR(t),Vi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&t.A==0&&!t.v&&(t.v=m0(Ii(t.cb,t),6e3));if(1>=A9(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Yu(t,11)}else if((n.J||t.g==n)&&O_(t),!R_(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],t.G==2)if(c[0]=="c"){t.I=c[1],t.ka=c[2];const u=c[3];u!=null&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];d!=null&&(t.Ca=d,t.j.info("SVER="+t.Ca));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,t.J=r,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const m=n.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(VR(s,s.h),s.h=null))}if(r.D){const g=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Jn(r.F,r.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms")),r=t;var o=n;if(r.sa=H9(r,r.H?r.ka:null,r.V),o.J){C9(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(pw(a),v0(a)),r.g=o}else O9(r);0<t.i.length&&xw(t)}else c[0]!="stop"&&c[0]!="close"||Yu(t,7);else t.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Yu(t,7):KR(t):c[0]!="noop"&&t.l&&t.l.wa(c),t.A=0)}}py(4)}catch{}}function hde(n){if(n.W&&typeof n.W=="function")return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(sw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function fde(n){if(n.oa&&typeof n.oa=="function")return n.oa();if(!n.W||typeof n.W!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sw(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}function y9(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(sw(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=fde(n),r=hde(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}var v9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pde(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function cd(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cd){this.h=e!==void 0?e:n.h,D_(this,n.j),this.s=n.s,this.g=n.g,B_(this,n.m),this.l=n.l,e=n.i;var t=new my;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ZN(this,t),this.o=n.o}else n&&(t=String(n).match(v9))?(this.h=!!e,D_(this,t[1]||"",!0),this.s=Hm(t[2]||""),this.g=Hm(t[3]||"",!0),B_(this,t[4]),this.l=Hm(t[5]||"",!0),ZN(this,t[6]||"",!0),this.o=Hm(t[7]||"")):(this.h=!!e,this.i=new my(null,this.h))}cd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gm(e,eF,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Gm(e,eF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Gm(t,t.charAt(0)=="/"?yde:gde,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gm(t,xde)),n.join("")};function _l(n){return new cd(n)}function D_(n,e,t){n.j=t?Hm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function B_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ZN(n,e,t){e instanceof my?(n.i=e,_de(n.i,n.h)):(t||(e=Gm(e,vde)),n.i=new my(e,n.h))}function Jn(n,e,t){n.i.set(e,t)}function mw(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gm(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,mde),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mde(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var eF=/[#\/\?@]/g,gde=/[#\?:]/g,yde=/[#\?]/g,vde=/[#\?@]/g,xde=/#/g;function my(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zc(n){n.g||(n.g=new Map,n.h=0,n.i&&pde(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}lt=my.prototype;lt.add=function(n,e){Zc(this),this.i=null,n=Cp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function x9(n,e){Zc(n),e=Cp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _9(n,e){return Zc(n),e=Cp(n,e),n.g.has(e)}lt.forEach=function(n,e){Zc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)};lt.oa=function(){Zc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t};lt.W=function(n){Zc(this);let e=[];if(typeof n=="string")_9(this,n)&&(e=e.concat(this.g.get(Cp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};lt.set=function(n,e){return Zc(this),this.i=null,n=Cp(this,n),_9(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};lt.get=function(n,e){return n?(n=this.W(n),0<n.length?String(n[0]):e):e};function S9(n,e,t){x9(n,e),0<t.length&&(n.i=null,n.g.set(Cp(n,e),IR(t)),n.h+=t.length)}lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};function Cp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _de(n,e){e&&!n.j&&(Zc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(x9(this,r),S9(this,i,t))},n)),n.j=e}var Sde=class{constructor(e,t){this.h=e,this.g=t}};function w9(n){this.l=n||wde,Ct.PerformanceNavigationTiming?(n=Ct.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Ct.g&&Ct.g.Ga&&Ct.g.Ga()&&Ct.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wde=10;function b9(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function A9(n){return n.h?1:n.g?n.g.size:0}function CP(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function VR(n,e){n.g?n.g.add(e):n.h=e}function C9(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}w9.prototype.cancel=function(){if(this.i=M9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function M9(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return IR(n.i)}function $R(){}$R.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)};$R.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)};function bde(){this.g=new $R}function Ade(n,e,t){const r=t||"";try{y9(n,function(i,s){let o=i;f0(i)&&(o=NR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cde(n,e){const t=new uw;if(Ct.Image){const r=new Image;r.onload=Ox(Fx,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ox(Fx,t,r,"TestLoadImage: error",!1,e),r.onabort=Ox(Fx,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ox(Fx,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Fx(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function x0(n){this.l=n.ac||null,this.j=n.jb||!1}hi(x0,UR);x0.prototype.g=function(){return new gw(this.l,this.j)};x0.prototype.i=function(n){return function(){return n}}({});function gw(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=WR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(gw,Qr);var WR=0;lt=gw.prototype;lt.open=function(n,e){if(this.readyState!=WR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gy(this)};lt.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ct).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_0(this)),this.readyState=WR};lt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gy(this)),this.g&&(this.readyState=3,gy(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E9(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))};function E9(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}lt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_0(this):gy(this),this.readyState==3&&E9(this)}};lt.Va=function(n){this.g&&(this.response=this.responseText=n,_0(this))};lt.Ua=function(n){this.g&&(this.response=n,_0(this))};lt.ga=function(){this.g&&_0(this)};function _0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gy(n)}lt.setRequestHeader=function(n,e){this.v.append(n,e)};lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function gy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(gw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var Mde=Ct.JSON.parse;function hr(n){Qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=T9,this.K=this.L=!1}hi(hr,Qr);var T9="",Ede=/^https?$/i,Tde=["POST","PUT"];lt=hr.prototype;lt.Ka=function(n){this.L=n};lt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SP.g(),this.C=this.u?QN(this.u):QN(SP),this.g.onreadystatechange=Ii(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){tF(this,s);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())t.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ct.FormData&&n instanceof Ct.FormData,!(0<=$6(Tde,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{R9(this),0<this.B&&((this.K=Pde(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.qa,this)):this.A=zR(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){tF(this,s)}};function Pde(n){return qf&&jue()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}lt.qa=function(){typeof PR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))};function tF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,P9(n),yw(n)}function P9(n){n.D||(n.D=!0,ci(n,"complete"),ci(n,"error"))}lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ci(this,"complete"),ci(this,"abort"),yw(this))};lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yw(this,!0)),hr.X.M.call(this)};lt.Ha=function(){this.s||(this.F||this.v||this.l?I9(this):this.fb())};lt.fb=function(){I9(this)};function I9(n){if(n.h&&typeof PR<"u"&&(!n.C[1]||nl(n)!=4||n.aa()!=2)){if(n.v&&nl(n)==4)zR(n.Ha,0,n);else if(ci(n,"readystatechange"),nl(n)==4){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=a===0){var i=String(n.H).match(v9)[1]||null;if(!i&&Ct.self&&Ct.self.location){var s=Ct.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ede.test(i?i.toLowerCase():"")}t=r}if(t)ci(n,"complete"),ci(n,"success");else{n.m=6;try{var o=2<nl(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",P9(n)}}finally{yw(n)}}}}function yw(n,e){if(n.g){R9(n);const t=n.g,r=n.C[0]?I_:null;n.g=null,n.C=null,e||ci(n,"ready");try{t.onreadystatechange=r}catch{}}}function R9(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function nl(n){return n.g?n.g.readyState:0}lt.aa=function(){try{return 2<nl(this)?this.g.status:-1}catch{return-1}};lt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};lt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),Mde(e)}};function nF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case T9:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}lt.Ea=function(){return this.m};lt.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function L9(n){let e="";return LR(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function jR(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=L9(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):Jn(n,e,t))}function Im(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function k9(n){this.Ca=0,this.i=[],this.j=new uw,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Im("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Im("baseRetryDelayMs",5e3,n),this.bb=Im("retryDelaySeedMs",1e4,n),this.$a=Im("forwardChannelMaxRetries",2,n),this.ta=Im("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new w9(n&&n.concurrentRequestLimit),this.Fa=new bde,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}lt=k9.prototype;lt.ma=8;lt.G=1;function KR(n){if(D9(n),n.G==3){var e=n.U++,t=_l(n.F);Jn(t,"SID",n.I),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),S0(n,t),e=new y0(n,n.j,e,void 0),e.K=2,e.v=mw(_l(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&(new Image().src=e.v,t=!0),t||(e.g=G9(e.l,null),e.g.da(e.v)),e.F=Date.now(),v0(e)}U9(n)}function vw(n){n.g&&(JR(n),n.g.cancel(),n.g=null)}function D9(n){vw(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),O_(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&Ct.clearTimeout(n.m),n.m=null)}function xw(n){b9(n.h)||n.m||(n.m=!0,n9(n.Ja,n),n.C=0)}function Ide(n,e){return A9(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=e.D.concat(n.i),!0):n.G==1||n.G==2||n.C>=(n.Za?0:n.$a)?!1:(n.m=m0(Ii(n.Ja,n,e),z9(n,n.C)),n.C++,!0)}lt.Ja=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new y0(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=X6(s),J6(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){t:{var r=this.i[t];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=B9(this,i,e),t=_l(this.F),Jn(t,"RID",n),Jn(t,"CVER",22),this.D&&Jn(t,"X-HTTP-Session-Id",this.D),S0(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(L9(s)))+"&"+e:this.o&&jR(t,this.o,s)),VR(this.h,i),this.Ya&&Jn(t,"TYPE","init"),this.O?(Jn(t,"$req",e),Jn(t,"SID","null"),i.Z=!0,bP(i,t,null)):bP(i,t,e),this.G=2}}else this.G==3&&(n?rF(this,n):this.i.length==0||b9(this.h)||rF(this))};function rF(n,e){var t;e?t=e.m:t=n.U++;const r=_l(n.F);Jn(r,"SID",n.I),Jn(r,"RID",t),Jn(r,"AID",n.T),S0(n,r),n.o&&n.s&&jR(r,n.o,n.s),t=new y0(n,n.j,t,n.C+1),n.o===null&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=B9(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),VR(n.h,t),bP(t,r,e)}function S0(n,e){n.ia&&LR(n.ia,function(t,r){Jn(e,r,t)}),n.l&&y9({},function(t,r){Jn(e,r,t)})}function B9(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ii(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];s==-1?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Ade(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function O9(n){n.g||n.u||(n.Z=1,n9(n.Ia,n),n.A=0)}function XR(n){return n.g||n.u||3<=n.A?!1:(n.Z++,n.u=m0(Ii(n.Ia,n),z9(n,n.A)),n.A++,!0)}lt.Ia=function(){if(this.u=null,N9(this),this.$&&!(this.K||this.g==null||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=m0(Ii(this.eb,this),n)}};lt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vi(10),vw(this),N9(this))};function JR(n){n.B!=null&&(Ct.clearTimeout(n.B),n.B=null)}function N9(n){n.g=new y0(n,n.j,"rpc",n.Z),n.o===null&&(n.g.H=n.s),n.g.N=0;var e=_l(n.sa);Jn(e,"RID","rpc"),Jn(e,"SID",n.I),Jn(e,"CI",n.L?"0":"1"),Jn(e,"AID",n.T),Jn(e,"TYPE","xmlhttp"),S0(n,e),n.o&&n.s&&jR(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=mw(_l(e)),t.s=null,t.P=!0,f9(t,n)}lt.cb=function(){this.v!=null&&(this.v=null,vw(this),XR(this),Vi(19))};function O_(n){n.v!=null&&(Ct.clearTimeout(n.v),n.v=null)}function F9(n,e){var t=null;if(n.g==e){O_(n),JR(n),n.g=null;var r=2}else if(CP(n.h,e))t=e.D,C9(n.h,e),r=1;else return;if(n.G!=0){if(n.pa=e.Y,e.i)if(r==1){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;r=dw(),ci(r,new c9(r,t)),xw(n)}else O9(n);else if(i=e.o,i==3||i==0&&0<n.pa||!(r==1&&Ide(n,e)||r==2&&XR(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Yu(n,5);break;case 4:Yu(n,10);break;case 3:Yu(n,6);break;default:Yu(n,2)}}}function z9(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Yu(n,e){if(n.j.info("Error code "+e),e==2){var t=null;n.l&&(t=null);var r=Ii(n.kb,n);t||(t=new cd("//www.google.com/images/cleardot.gif"),Ct.location&&Ct.location.protocol=="http"||D_(t,"https"),mw(t)),Cde(t.toString(),r)}else Vi(2);n.G=0,n.l&&n.l.va(e),U9(n),D9(n)}lt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Vi(2)):(this.j.info("Failed to ping google.com"),Vi(1))};function U9(n){if(n.G=0,n.la=[],n.l){const e=M9(n.h);(e.length!=0||n.i.length!=0)&&(jN(n.la,e),jN(n.la,n.i),n.h.i.length=0,IR(n.i),n.i.length=0),n.l.ua()}}function H9(n,e,t){var r=t instanceof cd?_l(t):new cd(t,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),B_(r,r.m);else{var i=Ct.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new cd(null,void 0);r&&D_(s,r),e&&(s.g=e),i&&B_(s,i),t&&(s.l=t),r=s}return t=n.D,e=n.za,t&&e&&Jn(r,t,e),Jn(r,"VER",n.ma),S0(n,r),r}function G9(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Da&&!n.ra?new hr(new x0({jb:!0})):new hr(n.ra),e.Ka(n.H),e}function V9(){}lt=V9.prototype;lt.xa=function(){};lt.wa=function(){};lt.va=function(){};lt.ua=function(){};lt.Ra=function(){};function N_(){if(qf&&!(10<=Number(Kue)))throw Error("Environmental error: no available transport.")}N_.prototype.g=function(n,e){return new Fs(n,e)};function Fs(n,e){Qr.call(this),this.g=new k9(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!R_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R_(e)&&(this.g.D=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new Mp(this)}hi(Fs,Qr);Fs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Vi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=H9(n,null,n.V),xw(n)};Fs.prototype.close=function(){KR(this.g)};Fs.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=NR(n),n=t);e.i.push(new Sde(e.ab++,n)),e.G==3&&xw(e)};Fs.prototype.M=function(){this.g.l=null,delete this.j,KR(this.g),delete this.g,Fs.X.M.call(this)};function $9(n){HR.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}hi($9,HR);function W9(){GR.call(this),this.status=1}hi(W9,GR);function Mp(n){this.g=n}hi(Mp,V9);Mp.prototype.xa=function(){ci(this.g,"a")};Mp.prototype.wa=function(n){ci(this.g,new $9(n))};Mp.prototype.va=function(n){ci(this.g,new W9)};Mp.prototype.ua=function(){ci(this.g,"b")};N_.prototype.createWebChannel=N_.prototype.g;Fs.prototype.send=Fs.prototype.u;Fs.prototype.open=Fs.prototype.m;Fs.prototype.close=Fs.prototype.close;hw.NO_ERROR=0;hw.TIMEOUT=8;hw.HTTP_ERROR=6;u9.COMPLETE="complete";d9.EventType=g0;g0.OPEN="a";g0.CLOSE="b";g0.ERROR="c";g0.MESSAGE="d";Qr.prototype.listen=Qr.prototype.N;hr.prototype.listenOnce=hr.prototype.O;hr.prototype.getLastError=hr.prototype.Oa;hr.prototype.getLastErrorCode=hr.prototype.Ea;hr.prototype.getStatus=hr.prototype.aa;hr.prototype.getResponseJson=hr.prototype.Sa;hr.prototype.getResponseText=hr.prototype.fa;hr.prototype.send=hr.prototype.da;hr.prototype.setWithCredentials=hr.prototype.Ka;var Rde=function(){return new N_},Lde=function(){return dw()},hM=hw,kde=u9,Dde=zd,iF={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Bde=x0,zx=d9,Ode=hr;const sF="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mi.UNAUTHENTICATED=new Mi(null),Mi.GOOGLE_CREDENTIALS=new Mi("google-credentials-uid"),Mi.FIRST_PARTY=new Mi("first-party-uid"),Mi.MOCK_USER=new Mi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep="9.17.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new F6("@firebase/firestore");function oF(){return Ed.logLevel}function ht(n,...e){if(Ed.logLevel<=mn.DEBUG){const t=e.map(qR);Ed.debug(`Firestore (${Ep}): ${n}`,...t)}}function Sl(n,...e){if(Ed.logLevel<=mn.ERROR){const t=e.map(qR);Ed.error(`Firestore (${Ep}): ${n}`,...t)}}function MP(n,...e){if(Ed.logLevel<=mn.WARN){const t=e.map(qR);Ed.warn(`Firestore (${Ep}): ${n}`,...t)}}function qR(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n="Unexpected state"){const e=`FIRESTORE (${Ep}) INTERNAL ASSERTION FAILED: `+n;throw Sl(e),new Error(e)}function Ln(n,e){n||bt()}function Dt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let nt=class extends Ap{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j9=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class Nde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mi.UNAUTHENTICATED))}shutdown(){}}let Fde=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},zde=class{constructor(e){this.t=e,this.currentUser=Mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new al,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new al)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ln(typeof r.accessToken=="string"),new j9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ln(e===null||typeof e=="string"),new Mi(e)}},Ude=class{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ln(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},Hde=class{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Ude(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gde=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Vde=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{s.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ln(typeof t.token=="string"),this.A=t.token,new Gde(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K9=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$de(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function gn(n,e){return n<e?-1:n>e?1:0}function Yf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gn(this.nanoseconds,e.nanoseconds):gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Nr(0,0))}static max(){return new Rt(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,r){t===void 0?t=0:t>e.length&&bt(),r===void 0?r=e.length-t:r>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yy.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yy?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class On extends yy{construct(e,t,r){return new On(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new On(t)}static emptyPath(){return new On([])}}const Wde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends yy{construct(e,t,r){return new Pi(e,t,r)}static isValidIdentifier(e){return Wde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new nt(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new nt(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new nt(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new nt(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(t)}static emptyPath(){return new Pi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(On.fromString(e))}static fromName(e){return new pt(On.fromString(e).popFirst(5))}static empty(){return new pt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new On(e.slice()))}}function jde(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(r===1e9?new Nr(t+1,0):new Nr(t,r));return new zc(i,pt.empty(),e)}function Kde(n){return new zc(n.readTime,n.key,-1)}class zc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zc(Rt.min(),pt.empty(),-1)}static max(){return new zc(Rt.max(),pt.empty(),-1)}}function Xde(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pt.comparator(n.documentKey,e.documentKey),t!==0?t:gn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(n){if(n.code!==Me.FAILED_PRECONDITION||n.message!==Jde)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,r)=>{t(e)})}static reject(e){return new Oe((t,r)=>{r(e)})}static waitFor(e){return new Oe((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next(i=>i?Oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new Oe((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function b0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}YR.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class vy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vy("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vy&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ud(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function X9(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n){return n==null}function F_(n){return n===0&&1/n==-1/0}function Qde(n){return typeof n=="number"&&Number.isInteger(n)&&!F_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ki(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const Zde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(n){if(Ln(!!n),typeof n=="string"){let e=0;const t=Zde.exec(n);if(Ln(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qf(n){return typeof n=="string"?ki.fromBase64String(n):ki.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function q9(n){const e=n.mapValue.fields.__previous_value__;return J9(e)?q9(e):e}function xy(n){const e=Uc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?J9(n)?4:ehe(n)?9007199254740991:10:bt()}function Pa(n,e){if(n===e)return!0;const t=Td(n);if(t!==Td(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xy(n).isEqual(xy(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Uc(r.timestampValue),o=Uc(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return Qf(r.bytesValue).isEqual(Qf(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Cr(r.geoPointValue.latitude)===Cr(i.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Cr(r.integerValue)===Cr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Cr(r.doubleValue),o=Cr(i.doubleValue);return s===o?F_(s)===F_(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Yf(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(aF(s)!==aF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Pa(s[a],o[a])))return!1;return!0}(n,e);default:return bt()}}function _y(n,e){return(n.values||[]).find(t=>Pa(t,e))!==void 0}function Zf(n,e){if(n===e)return 0;const t=Td(n),r=Td(e);if(t!==r)return gn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return gn(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Cr(i.integerValue||i.doubleValue),a=Cr(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return lF(n.timestampValue,e.timestampValue);case 4:return lF(xy(n),xy(e));case 5:return gn(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Qf(i),a=Qf(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=gn(o[l],a[l]);if(c!==0)return c}return gn(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=gn(Cr(i.latitude),Cr(s.latitude));return o!==0?o:gn(Cr(i.longitude),Cr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Zf(o[l],a[l]);if(c)return c}return gn(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ux.mapValue&&s===Ux.mapValue)return 0;if(i===Ux.mapValue)return 1;if(s===Ux.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=gn(a[u],c[u]);if(d!==0)return d;const p=Zf(o[a[u]],l[c[u]]);if(p!==0)return p}return gn(a.length,c.length)}(n.mapValue,e.mapValue);default:throw bt()}}function lF(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return gn(n,e);const t=Uc(n),r=Uc(e),i=gn(t.seconds,r.seconds);return i!==0?i:gn(t.nanos,r.nanos)}function ep(n){return EP(n)}function EP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Uc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qf(n.bytesValue).toBase64():"referenceValue"in n?(t=n.referenceValue,pt.fromName(t).toString()):"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=EP(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${EP(r.fields[a])}`;return s+"}"}(n.mapValue):bt();var e,t}function cF(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function TP(n){return!!n&&"integerValue"in n}function QR(n){return!!n&&"arrayValue"in n}function uF(n){return!!n&&"nullValue"in n}function dF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w1(n){return!!n&&"mapValue"in n}function pg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ud(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ehe(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.position=e,this.inclusive=t}}function hF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=pt.comparator(pt.fromName(o.referenceValue),t.key):r=Zf(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{}class Tr extends Y9{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nhe(e,t,r):t==="array-contains"?new she(e,r):t==="in"?new ohe(e,r):t==="not-in"?new ahe(e,r):t==="array-contains-any"?new lhe(e,r):new Tr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rhe(e,r):new ihe(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Zf(t,this.value)):t!==null&&Td(this.value)===Td(t)&&this.matchesComparison(Zf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ko extends Y9{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ko(e,t)}matches(e){return Q9(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return e!==null?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Q9(n){return n.op==="and"}function Z9(n){return the(n)&&Q9(n)}function the(n){for(const e of n.filters)if(e instanceof Ko)return!1;return!0}function PP(n){if(n instanceof Tr)return n.field.canonicalString()+n.op.toString()+ep(n.value);if(Z9(n))return n.filters.map(e=>PP(e)).join(",");{const e=n.filters.map(t=>PP(t)).join(",");return`${n.op}(${e})`}}function e8(n,e){return n instanceof Tr?function(t,r){return r instanceof Tr&&t.op===r.op&&t.field.isEqual(r.field)&&Pa(t.value,r.value)}(n,e):n instanceof Ko?function(t,r){return r instanceof Ko&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((i,s,o)=>i&&e8(s,r.filters[o]),!0):!1}(n,e):void bt()}function t8(n){return n instanceof Tr?function(e){return`${e.field.canonicalString()} ${e.op} ${ep(e.value)}`}(n):n instanceof Ko?function(e){return e.op.toString()+" {"+e.getFilters().map(t8).join(" ,")+"}"}(n):"Filter"}class nhe extends Tr{constructor(e,t,r){super(e,t,r),this.key=pt.fromName(r.referenceValue)}matches(e){const t=pt.comparator(e.key,this.key);return this.matchesComparison(t)}}class rhe extends Tr{constructor(e,t){super(e,"in",t),this.keys=n8("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ihe extends Tr{constructor(e,t){super(e,"not-in",t),this.keys=n8("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>pt.fromName(r.referenceValue))}class she extends Tr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return QR(t)&&_y(t.arrayValue,this.value)}}class ohe extends Tr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_y(this.value.arrayValue,t)}}class ahe extends Tr{constructor(e,t){super(e,"not-in",t)}matches(e){if(_y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_y(this.value.arrayValue,t)}}class lhe extends Tr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!QR(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_y(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function che(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hx(this.root,e,this.comparator,!0)}}class Hx{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??oi.RED,this.left=i??oi.EMPTY,this.right=s??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new oi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1;oi.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pF(this.data.getIterator())}getIteratorFrom(e){return new pF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class pF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new Fr(Pi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.value=e}static empty(){return new rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pg(t)}setAll(e){let t=Pi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=pg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());w1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];w1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ud(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rs(pg(this.value))}}function r8(n){const e=[];return Ud(n.fields,(t,r)=>{const i=new Pi([t]);if(w1(r)){const s=r8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ti(e,0,Rt.min(),Rt.min(),Rt.min(),rs.empty(),0)}static newFoundDocument(e,t,r,i){return new Ti(e,1,t,Rt.min(),r,i,0)}static newNoDocument(e,t){return new Ti(e,2,t,Rt.min(),Rt.min(),rs.empty(),0)}static newUnknownDocument(e,t){return new Ti(e,3,t,Rt.min(),Rt.min(),rs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uhe=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}};function mF(n,e=null,t=[],r=[],i=null,s=null,o=null){return new uhe(n,e,t,r,i,s,o)}function ZR(n){const e=Dt(n);if(e.ft===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_w(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ep(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ep(r)).join(",")),e.ft=t}return e.ft}function eL(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!che(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!e8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fF(n.startAt,e.startAt)&&fF(n.endAt,e.endAt)}function IP(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}};function dhe(n,e,t,r,i,s,o,a){return new Tp(n,e,t,r,i,s,o,a)}function tL(n){return new Tp(n)}function gF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nL(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(t!==null)return t}return null}function i8(n){return n.collectionGroup!==null}function _f(n){const e=Dt(n);if(e.dt===null){e.dt=[];const t=Sw(e),r=nL(e);if(t!==null&&r===null)t.isKeyField()||e.dt.push(new xf(t)),e.dt.push(new xf(Pi.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new xf(Pi.keyField(),s))}}}return e.dt}function wl(n){const e=Dt(n);if(!e._t)if(e.limitType==="F")e._t=mF(e.path,e.collectionGroup,_f(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of _f(e)){const o=s.dir==="desc"?"asc":"desc";t.push(new xf(s.field,o))}const r=e.endAt?new z_(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new z_(e.startAt.position,e.startAt.inclusive):null;e._t=mF(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function RP(n,e){e.getFirstInequalityField(),Sw(n);const t=n.filters.concat([e]);return new Tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LP(n,e,t){return new Tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ww(n,e){return eL(wl(n),wl(e))&&n.limitType===e.limitType}function s8(n){return`${ZR(wl(n))}|lt:${n.limitType}`}function kP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>t8(r)).join(", ")}]`),_w(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ep(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ep(r)).join(",")),`Target(${t})`}(wl(n))}; limitType=${n.limitType})`}function bw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):pt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of _f(t))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(i,s,o){const a=hF(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,_f(t),r)||t.endAt&&!function(i,s,o){const a=hF(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,_f(t),r))}(n,e)}function hhe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o8(n){return(e,t)=>{let r=!1;for(const i of _f(n)){const s=fhe(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fhe(n,e,t){const r=n.field.isKeyField()?pt.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Zf(a,l):bt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F_(e)?"-0":e}}function l8(n){return{integerValue:""+n}}function c8(n,e){return Qde(e)?l8(e):a8(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this._=void 0}}function phe(n,e,t){return n instanceof U_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Sy?d8(n,e):n instanceof wy?h8(n,e):function(r,i){const s=u8(r,i),o=yF(s)+yF(r.gt);return TP(s)&&TP(r.gt)?l8(o):a8(r.yt,o)}(n,e)}function mhe(n,e,t){return n instanceof Sy?d8(n,e):n instanceof wy?h8(n,e):t}function u8(n,e){return n instanceof by?TP(t=e)||function(r){return!!r&&"doubleValue"in r}(t)?e:{integerValue:0}:null;var t}class U_ extends Aw{}class Sy extends Aw{constructor(e){super(),this.elements=e}}function d8(n,e){const t=f8(e);for(const r of n.elements)t.some(i=>Pa(i,r))||t.push(r);return{arrayValue:{values:t}}}class wy extends Aw{constructor(e){super(),this.elements=e}}function h8(n,e){let t=f8(e);for(const r of n.elements)t=t.filter(i=>!Pa(i,r));return{arrayValue:{values:t}}}class by extends Aw{constructor(e,t){super(),this.yt=e,this.gt=t}}function yF(n){return Cr(n.integerValue||n.doubleValue)}function f8(n){return QR(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(e,t){this.field=e,this.transform=t}}function yhe(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof Sy&&r instanceof Sy||t instanceof wy&&r instanceof wy?Yf(t.elements,r.elements,Pa):t instanceof by&&r instanceof by?Pa(t.gt,r.gt):t instanceof U_&&r instanceof U_}(n.transform,e.transform)}class vhe{constructor(e,t){this.version=e,this.transformResults=t}}class $o{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $o}static exists(e){return new $o(void 0,e)}static updateTime(e){return new $o(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function b1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cw{}function p8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new rL(n.key,$o.none()):new A0(n.key,n.data,$o.none());{const t=n.data,r=rs.empty();let i=new Fr(Pi.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new eu(n.key,r,new Rs(i.toArray()),$o.none())}}function xhe(n,e,t){n instanceof A0?function(r,i,s){const o=r.value.clone(),a=xF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof eu?function(r,i,s){if(!b1(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=xF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(m8(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function mg(n,e,t,r){return n instanceof A0?function(i,s,o,a){if(!b1(i.precondition,s))return o;const l=i.value.clone(),c=_F(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof eu?function(i,s,o,a){if(!b1(i.precondition,s))return o;const l=_F(i.fieldTransforms,a,s),c=s.data;return c.setAll(m8(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):function(i,s,o){return b1(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(n,e,t)}function _he(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=u8(r.transform,i||null);s!=null&&(t===null&&(t=rs.empty()),t.set(r.field,s))}return t||null}function vF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Yf(t,r,(i,s)=>yhe(i,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class A0 extends Cw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eu extends Cw{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function m8(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xF(n,e,t){const r=new Map;Ln(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mhe(o,a,t[i]))}return r}function _F(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,phe(s,o,e))}return r}class rL extends Cw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class She extends Cw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class whe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br,tn;function bhe(n){switch(n){default:return bt();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function g8(n){if(n===void 0)return Sl("GRPC error has no .code"),Me.UNKNOWN;switch(n){case br.OK:return Me.OK;case br.CANCELLED:return Me.CANCELLED;case br.UNKNOWN:return Me.UNKNOWN;case br.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case br.INTERNAL:return Me.INTERNAL;case br.UNAVAILABLE:return Me.UNAVAILABLE;case br.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case br.NOT_FOUND:return Me.NOT_FOUND;case br.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case br.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case br.ABORTED:return Me.ABORTED;case br.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case br.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case br.DATA_LOSS:return Me.DATA_LOSS;default:return bt()}}(tn=br||(br={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ud(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return X9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ahe=new Hr(pt.comparator);function bl(){return Ahe}const y8=new Hr(pt.comparator);function Vm(...n){let e=y8;for(const t of n)e=e.insert(t.key,t);return e}function v8(n){let e=y8;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qu(){return gg()}function x8(){return gg()}function gg(){return new Pp(n=>n.toString(),(n,e)=>n.isEqual(e))}const Che=new Hr(pt.comparator),Mhe=new Fr(pt.comparator);function Zt(...n){let e=Mhe;for(const t of n)e=e.add(t);return e}const Ehe=new Fr(gn);function _8(){return Ehe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,C0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mw(Rt.min(),i,_8(),bl(),Zt())}}class C0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new C0(r,t,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class S8{constructor(e,t){this.targetId=e,this.Et=t}}class w8{constructor(e,t,r=ki.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SF{constructor(){this.At=0,this.Rt=bF(),this.bt=ki.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Zt(),t=Zt(),r=Zt();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:bt()}}),new C0(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=bF()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class The{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=bl(),this.qt=wF(),this.Ut=new Fr(gn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(IP(s))if(r===0){const o=new pt(s.path);this.Qt(t,o,Ti.newNoDocument(o,Rt.min()))}else Ln(r===1);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&IP(a.target)){const l=new pt(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ti.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=Zt();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Mw(e,t,this.Ut,this.Lt,r);return this.Lt=bl(),this.qt=wF(),this.Ut=new Fr(gn),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new SF,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Fr(gn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=this.Yt(e)!==null;return t||ht("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new SF),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function wF(){return new Hr(pt.comparator)}function bF(){return new Hr(pt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ihe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Rhe=(()=>({and:"AND",or:"OR"}))();class Lhe{constructor(e,t){this.databaseId=e,this.wt=t}}function H_(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b8(n,e){return n.wt?e.toBase64():e.toUint8Array()}function khe(n,e){return H_(n,e.toTimestamp())}function xa(n){return Ln(!!n),Rt.fromTimestamp(function(e){const t=Uc(e);return new Nr(t.seconds,t.nanos)}(n))}function iL(n,e){return function(t){return new On(["projects",t.projectId,"databases",t.database])}(n).child("documents").child(e).canonicalString()}function A8(n){const e=On.fromString(n);return Ln(T8(e)),e}function DP(n,e){return iL(n.databaseId,e.path)}function fM(n,e){const t=A8(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pt(C8(t))}function BP(n,e){return iL(n.databaseId,e)}function Dhe(n){const e=A8(n);return e.length===4?On.emptyPath():C8(e)}function OP(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function C8(n){return Ln(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function AF(n,e,t){return{name:DP(n,e),fields:t.value.mapValue.fields}}function Bhe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:bt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(Ln(c===void 0||typeof c=="string"),ki.fromBase64String(c||"")):(Ln(c===void 0||c instanceof Uint8Array),ki.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Me.UNKNOWN:g8(l.code);return new nt(c,l.message||"")}(o);t=new w8(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fM(n,r.document.name),s=xa(r.document.updateTime),o=r.document.createTime?xa(r.document.createTime):Rt.min(),a=new rs({mapValue:{fields:r.document.fields}}),l=Ti.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new A1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fM(n,r.document),s=r.readTime?xa(r.readTime):Rt.min(),o=Ti.newNoDocument(i,s),a=r.removedTargetIds||[];t=new A1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fM(n,r.document),s=r.removedTargetIds||[];t=new A1([],s,i,null)}else{if(!("filter"in e))return bt();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new whe(i),o=r.targetId;t=new S8(o,s)}}return t}function Ohe(n,e){let t;if(e instanceof A0)t={update:AF(n,e.key,e.value)};else if(e instanceof rL)t={delete:DP(n,e.key)};else if(e instanceof eu)t={update:AF(n,e.key,e.data),updateMask:Whe(e.fieldMask)};else{if(!(e instanceof She))return bt();t={verify:DP(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof U_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wy)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof by)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw bt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:khe(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:bt()}(n,e.precondition)),t}function Nhe(n,e){return n&&n.length>0?(Ln(e!==void 0),n.map(t=>function(r,i){let s=r.updateTime?xa(r.updateTime):xa(i);return s.isEqual(Rt.min())&&(s=xa(i)),new vhe(s,r.transformResults||[])}(t,e))):[]}function Fhe(n,e){return{documents:[BP(n,e.path)]}}function zhe(n,e){const t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=BP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=BP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return E8(Ko.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Oh(u.field),direction:Ghe(u.dir)}}(c))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=function(l,c){return l.wt||_w(c)?c:{value:c}}(n,e.limit);var a;return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t}function Uhe(n){let e=Dhe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ln(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=M8(u);return d instanceof Ko&&Z9(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>function(d){return new xf(Nh(d.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;t.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,_w(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(u){const d=!!u.before,p=u.values||[];return new z_(p,d)}(t.startAt));let c=null;return t.endAt&&(c=function(u){const d=!u.before,p=u.values||[];return new z_(p,d)}(t.endAt)),dhe(e,i,o,s,a,"F",l,c)}function Hhe(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return t==null?null:{"goog-listen-tags":t}}function M8(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nh(e.unaryFilter.field);return Tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(e.unaryFilter.field);return Tr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nh(e.unaryFilter.field);return Tr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nh(e.unaryFilter.field);return Tr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(n):n.fieldFilter!==void 0?function(e){return Tr.create(Nh(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ko.create(e.compositeFilter.filters.map(t=>M8(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return bt()}}(e.compositeFilter.op))}(n):bt()}function Ghe(n){return Phe[n]}function Vhe(n){return Ihe[n]}function $he(n){return Rhe[n]}function Oh(n){return{fieldPath:n.canonicalString()}}function Nh(n){return Pi.fromServerFormat(n.fieldPath)}function E8(n){return n instanceof Tr?function(e){if(e.op==="=="){if(dF(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NAN"}};if(uF(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(dF(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NAN"}};if(uF(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(e.field),op:Vhe(e.op),value:e.value}}}(n):n instanceof Ko?function(e){const t=e.getFilters().map(r=>E8(r));return t.length===1?t[0]:{compositeFilter:{op:$he(e.op),filters:t}}}(n):bt()}function Whe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T8(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xhe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=x8();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=p8(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Yf(this.mutations,e.mutations,(t,r)=>vF(t,r))&&Yf(this.baseMutations,e.baseMutations,(t,r)=>vF(t,r))}}class sL{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ln(e.mutations.length===r.length);let i=Che;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sL(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Khe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,r,i,s=Rt.min(),o=Rt.min(),a=ki.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ud(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.ie=e}}function Jhe(n){const e=Uhe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?LP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qhe{constructor(){this.Je=new Yhe}addToCollectionParentIndex(e,t){return this.Je.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Oe.resolve()}deleteFieldIndex(e,t){return Oe.resolve()}getDocumentsMatchingTarget(e,t){return Oe.resolve(null)}getIndexType(e,t){return Oe.resolve(0)}getFieldIndexes(e,t){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,t){return Oe.resolve(zc.min())}getMinOffsetFromCollectionGroup(e,t){return Oe.resolve(zc.min())}updateCollectionGroup(e,t,r){return Oe.resolve()}updateIndexEntries(e,t){return Oe.resolve()}}class Yhe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fr(On.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new tp(0)}static vn(){return new tp(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qhe{constructor(){this.changes=new Pp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&mg(r.mutation,i,Rs.empty(),Nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Qu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Vm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Qu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=bl();const o=gg(),a=gg();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof eu)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),mg(u.mutation,c,u.mutation.getFieldMask(),Nr.now())):o.set(c.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Zhe(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=gg();let i=new Hr((o,a)=>o-a),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Rs.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Zt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=x8();u.forEach(p=>{if(!s.has(p)){const m=p8(t.get(p),r.get(p));m!==null&&d.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return function(i){return pt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Oe.resolve(Qu());let a=-1,l=s;return o.next(c=>Oe.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?Oe.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Zt())).next(u=>({batchId:a,changes:v8(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pt(t)).next(r=>{let i=Vm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Vm();return this.indexManager.getCollectionParents(e,i).next(o=>Oe.forEach(o,a=>{const l=function(c,u){return new Tp(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Ti.newInvalidDocument(c)))});let o=Vm();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&mg(c.mutation,l,Rs.empty(),Nr.now()),bw(t,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:xa(r.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(r){return{name:r.name,query:Jhe(r.bundledQuery),readTime:xa(r.readTime)}}(t)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(){this.overlays=new Hr(pt.comparator),this.es=new Map}getOverlay(e,t){return Oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qu();return Oe.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),Oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),Oe.resolve()}getOverlaysForCollection(e,t,r){const i=Qu(),s=t.length+1,o=new pt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Hr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Qu(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Oe.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Khe(t,r));let s=this.es.get(t);s===void 0&&(s=Zt(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.ns=new Fr(Xr.ss),this.rs=new Fr(Xr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Xr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Xr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new pt(new On([])),r=new Xr(t,e),i=new Xr(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new pt(new On([])),r=new Xr(t,e),i=new Xr(t,e+1);let s=Zt();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Xr(e,0),r=this.ns.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return pt.comparator(e.key,t.key)||gn(e._s,t._s)}static os(e,t){return gn(e._s,t._s)||pt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Fr(Xr.ss)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jhe(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Xr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,t){return Oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ps(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xr(t,0),i=new Xr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fr(gn);return t.forEach(i=>{const s=new Xr(i,0),o=new Xr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),Oe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;pt.isDocumentKey(s)||(s=s.child(""));const o=new Xr(new pt(s),0);let a=new Fr(gn);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),Oe.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ln(this.Ts(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return Oe.forEach(t.mutations,i=>{const s=new Xr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Xr(t,0),i=this.gs.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ife{constructor(e){this.Es=e,this.docs=new Hr(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.mutableCopy():Ti.newInvalidDocument(t))}getEntries(e,t){let r=bl();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ti.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=bl();const o=t.path,a=new pt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Xde(Kde(u),r)<=0||(i.has(u.key)||bw(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,t,r,i){bt()}As(e,t){return Oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sfe(this)}getSize(e){return Oe.resolve(this.size)}}class sfe extends Qhe{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),Oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e){this.persistence=e,this.Rs=new Pp(t=>ZR(t),eL),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new oL,this.targetCount=0,this.vs=tp.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new tp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.Dn(t),Oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Oe.waitFor(s).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this.Ps.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new YR(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ofe(this),this.indexManager=new qhe,this.remoteDocumentCache=function(r){return new ife(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new Xhe(t),this.Ns=new tfe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new rfe(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ht("MemoryPersistence","Starting transaction:",e);const i=new lfe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return Oe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class lfe extends qde{constructor(e){super(),this.currentSequenceNumber=e}}class aL{constructor(e){this.persistence=e,this.Fs=new oL,this.$s=null}static Bs(e){return new aL(e)}get Ls(){if(this.$s)return this.$s;throw bt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Ls,r=>{const i=pt.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,Rt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Oe.or([()=>Oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Zt(),i=Zt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lL(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(gF(t))return Oe.resolve(null);let r=wl(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=LP(t,null,"F"),r=wl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Zt(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,LP(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return gF(t)||i.isEqual(Rt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(oF()<=mn.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kP(t)),this.Bi(e,o,t,jde(i,-1)))})}Fi(e,t){let r=new Fr(o8(e));return t.forEach((i,s)=>{bw(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return oF()<=mn.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",kP(t)),this.Ni.getDocumentsMatchingQuery(e,t,zc.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ufe{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Hr(gn),this.Ui=new Pp(s=>ZR(s),eL),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new efe(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function dfe(n,e,t,r){return new ufe(n,e,t,r)}async function P8(n,e){const t=Dt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Zt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function hfe(n,e){const t=Dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let p=Oe.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(a,m)).next(y=>{const g=l.docVersions.get(m);Ln(g!==null),y.version.compareTo(g)<0&&(u.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Zt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function I8(n){const e=Dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ffe(n,e){const t=Dt(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const p=i.get(d);if(!p)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?m=m.withResumeToken(ki.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),function(y,g,v){return y.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,u)&&a.push(t.Cs.updateTargetData(s,m))});let l=bl(),c=Zt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(pfe(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(Rt.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Oe.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.qi=i,s))}function pfe(n,e,t){let r=Zt(),i=Zt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=bl();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Rt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ht("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function mfe(n,e){const t=Dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gfe(n,e){const t=Dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,Oe.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new ud(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}async function NP(n,e,t){const r=Dt(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!b0(o))throw o;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function CF(n,e,t){const r=Dt(n);let i=Rt.min(),s=Zt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Dt(a),d=u.Ui.get(c);return d!==void 0?Oe.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,o,wl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:Rt.min(),t?s:Zt())).next(a=>(yfe(r,hhe(e),a),{documents:a,Hi:s})))}function yfe(n,e,t){let r=n.Ki.get(e)||Rt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}class MF{constructor(){this.activeTargetIds=_8()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vfe{constructor(){this.Lr=new MF,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new MF,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.oo=t+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);ht("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(ht("RestConnection","Received: ",l),l),l=>{throw MP("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ep,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){const r=_fe[e];return`${this.oo}/v1/${t}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new Ode;a.setWithCredentials(!0),a.listenOnce(kde.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case hM.NO_ERROR:const c=a.getResponseJson();ht("Connection","XHR received:",JSON.stringify(c)),s(c);break;case hM.TIMEOUT:ht("Connection",'RPC "'+e+'" timed out'),o(new nt(Me.DEADLINE_EXCEEDED,"Request time out"));break;case hM.HTTP_ERROR:const u=a.getStatus();if(ht("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(g)>=0?g:Me.UNKNOWN}(p.status);o(new nt(m,p.message))}else o(new nt(Me.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new nt(Me.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ht("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Rde(),o=Lde(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Bde({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");ht("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const p=new Sfe({Hr:y=>{d?ht("Connection","Not sending because WebChannel is closed:",y):(u||(ht("Connection","Opening WebChannel transport."),c.open(),u=!0),ht("Connection","WebChannel sending:",y),c.send(y))},Jr:()=>c.close()}),m=(y,g,v)=>{y.listen(g,x=>{try{v(x)}catch(_){setTimeout(()=>{throw _},0)}})};return m(c,zx.EventType.OPEN,()=>{d||ht("Connection","WebChannel transport opened.")}),m(c,zx.EventType.CLOSE,()=>{d||(d=!0,ht("Connection","WebChannel transport closed"),p.io())}),m(c,zx.EventType.ERROR,y=>{d||(d=!0,MP("Connection","WebChannel transport errored:",y),p.io(new nt(Me.UNAVAILABLE,"The operation could not be completed")))}),m(c,zx.EventType.MESSAGE,y=>{var g;if(!d){const v=y.data[0];Ln(!!v);const x=v,_=x.error||((g=x[0])===null||g===void 0?void 0:g.error);if(_){ht("Connection","WebChannel received error:",_);const w=_.status;let A=function(P){const L=br[P];if(L!==void 0)return g8(L)}(w),T=_.message;A===void 0&&(A=Me.INTERNAL,T="Unknown error status: "+w+" with message "+_.message),d=!0,p.io(new nt(A,T)),c.close()}else ht("Connection","WebChannel received:",v),p.ro(v)}}),m(o,Dde.STAT_EVENT,y=>{y.stat===iF.PROXY?ht("Connection","Detected buffering proxy"):y.stat===iF.NOPROXY&&ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{p.so()},0),p}}function pM(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){return new Lhe(n,!0)}class R8{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new R8(e,t)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,t){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():t&&t.code===Me.RESOURCE_EXHAUSTED?(Sl(t.toString()),Sl("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):t&&t.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(t)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new nt(Me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bfe extends L8{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=Bhe(this.yt,e),r=function(i){if(!("targetChange"in i))return Rt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Rt.min():s.readTime?xa(s.readTime):Rt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=OP(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=IP(a)?{documents:Fhe(i,a)}:{query:zhe(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=b8(i,s.resumeToken):s.snapshotVersion.compareTo(Rt.min())>0&&(o.readTime=H_(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=Hhe(this.yt,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=OP(this.yt),t.removeTarget=e,this.Bo(t)}}class Afe extends L8{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=Nhe(e.writeResults,e.commitTime),r=xa(e.commitTime);return this.listener.Zo(r,t)}return Ln(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=OP(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ohe(this.yt,r))};this.Bo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new nt(Me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new nt(Me.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nt(Me.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Mfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Sl(t),this.ou=!1):ht("OnlineStateTracker",t)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Efe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Hd(this)&&(ht("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Dt(a);l._u.add(4),await M0(l),l.gu.set("Unknown"),l._u.delete(4),await Tw(l)}(this))})}),this.gu=new Mfe(r,i)}}async function Tw(n){if(Hd(n))for(const e of n.wu)await e(!0)}async function M0(n){for(const e of n.wu)await e(!1)}function k8(n,e){const t=Dt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),dL(t)?uL(t):Ip(t).ko()&&cL(t,e))}function D8(n,e){const t=Dt(n),r=Ip(t);t.du.delete(e),r.ko()&&B8(t,e),t.du.size===0&&(r.ko()?r.Fo():Hd(t)&&t.gu.set("Unknown"))}function cL(n,e){n.yu.Ot(e.targetId),Ip(n).zo(e)}function B8(n,e){n.yu.Ot(e),Ip(n).Ho(e)}function uL(n){n.yu=new The({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ip(n).start(),n.gu.uu()}function dL(n){return Hd(n)&&!Ip(n).No()&&n.du.size>0}function Hd(n){return Dt(n)._u.size===0}function O8(n){n.yu=void 0}async function Tfe(n){n.du.forEach((e,t)=>{cL(n,e)})}async function Pfe(n,e){O8(n),dL(n)?(n.gu.hu(e),uL(n)):n.gu.set("Unknown")}async function Ife(n,e,t){if(n.gu.set("Online"),e instanceof w8&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(n,e)}catch(r){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await G_(n,r)}else if(e instanceof A1?n.yu.Kt(e):e instanceof S8?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Rt.min()))try{const r=await I8(n.localStore);t.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(ki.EMPTY_BYTE_STRING,l.snapshotVersion)),B8(i,a);const c=new ud(l.target,a,1,l.sequenceNumber);cL(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){ht("RemoteStore","Failed to raise snapshot:",r),await G_(n,r)}}async function G_(n,e,t){if(!b0(e))throw e;n._u.add(1),await M0(n),n.gu.set("Offline"),t||(t=()=>I8(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht("RemoteStore","Retrying IndexedDB access"),await t(),n._u.delete(1),await Tw(n)})}function N8(n,e){return e().catch(t=>G_(n,t,e))}async function Pw(n){const e=Dt(n),t=Hc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Rfe(e);)try{const i=await mfe(e.localStore,r);if(i===null){e.fu.length===0&&t.Fo();break}r=i.batchId,Lfe(e,i)}catch(i){await G_(e,i)}F8(e)&&z8(e)}function Rfe(n){return Hd(n)&&n.fu.length<10}function Lfe(n,e){n.fu.push(e);const t=Hc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function F8(n){return Hd(n)&&!Hc(n).No()&&n.fu.length>0}function z8(n){Hc(n).start()}async function kfe(n){Hc(n).eu()}async function Dfe(n){const e=Hc(n);for(const t of n.fu)e.Xo(t.mutations)}async function Bfe(n,e,t){const r=n.fu.shift(),i=sL.from(r,e,t);await N8(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Pw(n)}async function Ofe(n,e){e&&Hc(n).Yo&&await async function(t,r){if(i=r.code,bhe(i)&&i!==Me.ABORTED){const s=t.fu.shift();Hc(t).Mo(),await N8(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Pw(t)}var i}(n,e),F8(n)&&z8(n)}async function TF(n,e){const t=Dt(n);t.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const r=Hd(t);t._u.add(3),await M0(t),r&&t.gu.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),await Tw(t)}async function Nfe(n,e){const t=Dt(n);e?(t._u.delete(2),await Tw(t)):e||(t._u.add(2),await M0(t),t.gu.set("Unknown"))}function Ip(n){return n.pu||(n.pu=function(e,t,r){const i=Dt(e);return i.su(),new bfe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Tfe.bind(null,n),Zr:Pfe.bind(null,n),Wo:Ife.bind(null,n)}),n.wu.push(async e=>{e?(n.pu.Mo(),dL(n)?uL(n):n.gu.set("Unknown")):(await n.pu.stop(),O8(n))})),n.pu}function Hc(n){return n.Iu||(n.Iu=function(e,t,r){const i=Dt(e);return i.su(),new Afe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:kfe.bind(null,n),Zr:Ofe.bind(null,n),tu:Dfe.bind(null,n),Zo:Bfe.bind(null,n)}),n.wu.push(async e=>{e?(n.Iu.Mo(),await Pw(n)):(await n.Iu.stop(),n.fu.length>0&&(ht("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))})),n.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new hL(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fL(n,e){if(Sl("AsyncQueue",`${e}: ${n}`),b0(n))return new nt(Me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pt.comparator(t.key,r.key):(t,r)=>pt.comparator(t.key,r.key),this.keyedMap=Vm(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new Sf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Sf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.Tu=new Hr(pt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(t,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(t):e.type===1&&r.type===2?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):bt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class np{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new np(e,t,Sf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ww(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ffe{constructor(){this.Au=void 0,this.listeners=[]}}class zfe{constructor(){this.queries=new Pp(e=>s8(e),ww),this.onlineState="Unknown",this.Ru=new Set}}async function U8(n,e){const t=Dt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ffe),i)try{s.Au=await t.onListen(r)}catch(o){const a=fL(o,`Initialization of query '${kP(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&pL(t)}async function H8(n,e){const t=Dt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return t.queries.delete(r),t.onUnlisten(r)}function Ufe(n,e){const t=Dt(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&pL(t)}function Hfe(n,e,t){const r=Dt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function pL(n){n.Ru.forEach(e=>{e.next()})}let G8=class{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new np(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){if(!e.fromCache)return!0;const r=t!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}xu(e){e=np.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.key=e}}class $8{constructor(e){this.key=e}}class Gfe{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Zt(),this.mutatedKeys=Zt(),this.Gu=o8(e),this.Qu=new Sf(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new PF,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const p=i.get(u),m=bw(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;p&&m?p.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.Hu(p,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.Gu(m,l)>0||c&&this.Gu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),v=!0):p&&!m&&(r.track({type:1,doc:p}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,p){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return m(d)-m(p)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new np(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new PF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Zt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new $8(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new V8(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return np.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class Vfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $fe{constructor(e){this.key=e,this.nc=!1}}class Wfe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Pp(a=>s8(a),ww),this.rc=new Map,this.oc=new Set,this.uc=new Hr(pt.comparator),this.cc=new Map,this.ac=new oL,this.hc={},this.lc=new Map,this.fc=tp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function jfe(n,e){const t=npe(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await gfe(t.localStore,wl(e));t.isPrimaryClient&&k8(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Kfe(t,e,r,a==="current",o.resumeToken)}return i}async function Kfe(n,e,t,r,i){n._c=(d,p,m)=>async function(y,g,v,x){let _=g.view.Wu(v);_.$i&&(_=await CF(y.localStore,g.query,!1).then(({documents:T})=>g.view.Wu(T,_)));const w=x&&x.targetChanges.get(g.targetId),A=g.view.applyChanges(_,y.isPrimaryClient,w);return RF(y,g.targetId,A.Xu),A.snapshot}(n,d,p,m);const s=await CF(n.localStore,e,!0),o=new Gfe(e,s.Hi),a=o.Wu(s.documents),l=C0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);RF(n,t,c.Xu);const u=new Vfe(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}async function Xfe(n,e){const t=Dt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!ww(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await NP(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),D8(t.remoteStore,r.targetId),FP(t,r.targetId)}).catch(w0)):(FP(t,r.targetId),await NP(t.localStore,r.targetId,!0))}async function Jfe(n,e,t){const r=rpe(n);try{const i=await function(s,o){const a=Dt(s),l=Nr.now(),c=o.reduce((p,m)=>p.add(m.key),Zt());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=bl(),y=Zt();return a.Gi.getEntries(p,c).next(g=>{m=g,m.forEach((v,x)=>{x.isValidDocument()||(y=y.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(g=>{u=g;const v=[];for(const x of o){const _=_he(x,u.get(x.key).overlayedDocument);_!=null&&v.push(new eu(x.key,_,r8(_.value.mapValue),$o.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,v,o)}).next(g=>{d=g;const v=g.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(p,g.batchId,v)})}).then(()=>({batchId:d.batchId,changes:v8(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Hr(gn)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),await E0(r,i.changes),await Pw(r.remoteStore)}catch(i){const s=fL(i,"Failed to persist write");t.reject(s)}}async function W8(n,e){const t=Dt(n);try{const r=await ffe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(Ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Ln(o.nc):i.removedDocuments.size>0&&(Ln(o.nc),o.nc=!1))}),await E0(t,r,e)}catch(r){await w0(r)}}function IF(n,e,t){const r=Dt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Dt(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&pL(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qfe(n,e,t){const r=Dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Hr(pt.comparator);o=o.insert(s,Ti.newNoDocument(s,Rt.min()));const a=Zt().add(s),l=new Mw(Rt.min(),new Map,new Fr(gn),o,a);await W8(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),mL(r)}else await NP(r.localStore,e,!1).then(()=>FP(r,e,t)).catch(w0)}async function Yfe(n,e){const t=Dt(n),r=e.batch.batchId;try{const i=await hfe(t.localStore,e);K8(t,r,null),j8(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await E0(t,i)}catch(i){await w0(i)}}async function Qfe(n,e,t){const r=Dt(n);try{const i=await function(s,o){const a=Dt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Ln(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);K8(r,e,t),j8(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await E0(r,i)}catch(i){await w0(i)}}function j8(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function K8(n,e,t){const r=Dt(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function FP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||X8(n,r)})}function X8(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);t!==null&&(D8(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),mL(n))}function RF(n,e,t){for(const r of t)r instanceof V8?(n.ac.addReference(r.key,e),Zfe(n,r)):r instanceof $8?(ht("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||X8(n,r.key)):bt()}function Zfe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ht("SyncEngine","New document in limbo: "+t),n.oc.add(r),mL(n))}function mL(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new pt(On.fromString(e)),r=n.fc.next();n.cc.set(r,new $fe(t)),n.uc=n.uc.insert(t,r),k8(n.remoteStore,new ud(wl(tL(t.path)),r,2,YR.at))}}async function E0(n,e,t){const r=Dt(n),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=lL.Ci(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const c=Dt(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Oe.forEach(l,d=>Oe.forEach(d.Si,p=>c.persistence.referenceDelegate.addReference(u,d.targetId,p)).next(()=>Oe.forEach(d.Di,p=>c.persistence.referenceDelegate.removeReference(u,d.targetId,p)))))}catch(u){if(!b0(u))throw u;ht("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const p=c.qi.get(d),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.qi=c.qi.insert(d,y)}}}(r.localStore,s))}async function epe(n,e){const t=Dt(n);if(!t.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const r=await P8(t.localStore,e);t.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new nt(Me.CANCELLED,s))})}),i.lc.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await E0(t,r.ji)}}function tpe(n,e){const t=Dt(n),r=t.cc.get(e);if(r&&r.nc)return Zt().add(r.key);{let i=Zt();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function npe(n){const e=Dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qfe.bind(null,e),e.sc.Wo=Ufe.bind(null,e.eventManager),e.sc.wc=Hfe.bind(null,e.eventManager),e}function rpe(n){const e=Dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qfe.bind(null,e),e}class ipe{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Ew(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return dfe(this.persistence,new cfe,e.initialUser,this.yt)}yc(e){return new afe(aL.Bs,this.yt)}gc(e){return new vfe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class spe{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=epe.bind(null,this.syncEngine),await Nfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zfe}createDatastore(e){const t=Ew(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new wfe(i));var i;return function(s,o,a,l){return new Cfe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>IF(this.syncEngine,a,0),o=EF.C()?new EF:new xfe,new Efe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new Wfe(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Dt(e);ht("RemoteStore","RemoteStore shutting down."),t._u.add(5),await M0(t),t.mu.shutdown(),t.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(n,e,t){if(!t)throw new nt(Me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ope(n,e,t,r){if(e===!0&&r===!0)throw new nt(Me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LF(n){if(!pt.isDocumentKey(n))throw new nt(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kF(n){if(pt.isDocumentKey(n))throw new nt(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Iw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":bt()}function Ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Iw(n);throw new nt(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new Map;class BF{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new nt(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ope("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new nt(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BF(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new Nde;switch(t.type){case"gapi":const r=t.client;return new Hde(r,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nt(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DF.get(e);t&&(ht("ComponentProvider","Removing Datastore"),DF.delete(e),t.terminate())}(this),Promise.resolve()}}function ape(n,e,t,r={}){var i;const s=(n=Ia(n,Rw))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&MP("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Mi.MOCK_USER;else{o=Sce(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new nt(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Mi(l)}n._authCredentials=new Fde(new j9(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ji(this.firestore,e,this._key)}}class Gd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gd(this.firestore,e,this._query)}}class Tc extends Gd{constructor(e,t,r){super(e,t,tL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ji(this.firestore,null,new pt(e))}withConverter(e){return new Tc(this.firestore,e,this._path)}}function gL(n,e,...t){if(n=xl(n),J8("collection","path",e),n instanceof Rw){const r=On.fromString(e,...t);return kF(r),new Tc(n,null,r)}{if(!(n instanceof ji||n instanceof Tc))throw new nt(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return kF(r),new Tc(n.firestore,null,r)}}function C1(n,e,...t){if(n=xl(n),arguments.length===1&&(e=K9.R()),J8("doc","path",e),n instanceof Rw){const r=On.fromString(e,...t);return LF(r),new ji(n,null,new pt(r))}{if(!(n instanceof ji||n instanceof Tc))throw new nt(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(On.fromString(e,...t));return LF(r),new ji(n.firestore,n instanceof Tc?n.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Sl("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Mi.UNAUTHENTICATED,this.clientId=K9.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ht("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ht("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=fL(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cpe(n,e){n.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const t=await n.getConfiguration();await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await P8(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}async function upe(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dpe(n);ht("FirestoreClient","Initializing OnlineComponentProvider");const r=await n.getConfiguration();await e.initialize(t,r),n.setCredentialChangeListener(i=>TF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>TF(e.remoteStore,s)),n.onlineComponents=e}async function dpe(n){return n.offlineComponents||(ht("FirestoreClient","Using default OfflineComponentProvider"),await cpe(n,new ipe)),n.offlineComponents}async function Y8(n){return n.onlineComponents||(ht("FirestoreClient","Using default OnlineComponentProvider"),await upe(n,new spe)),n.onlineComponents}function hpe(n){return Y8(n).then(e=>e.syncEngine)}async function Q8(n){const e=await Y8(n),t=e.eventManager;return t.onListen=jfe.bind(null,e.syncEngine),t.onUnlisten=Xfe.bind(null,e.syncEngine),t}function fpe(n,e,t={}){const r=new al;return n.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new q8({next:d=>{s.enqueueAndForget(()=>H8(i,u));const p=d.docs.has(o);!p&&d.fromCache?l.reject(new nt(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&a&&a.source==="server"?l.reject(new nt(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new G8(tL(o.path),c,{includeMetadataChanges:!0,Nu:!0});return U8(i,u)}(await Q8(n),n.asyncQueue,e,t,r)),r.promise}function ppe(n,e,t={}){const r=new al;return n.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new q8({next:d=>{s.enqueueAndForget(()=>H8(i,u)),d.fromCache&&a.source==="server"?l.reject(new nt(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new G8(o,c,{includeMetadataChanges:!0,Nu:!0});return U8(i,u)}(await Q8(n),n.asyncQueue,e,t,r)),r.promise}class mpe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new R8(this,"async_queue_retry"),this.Wc=()=>{const t=pM();t&&ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=pM();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=pM();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new al;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!b0(e))throw e;ht("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Sl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=hL.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&bt()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class Rp extends Rw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mpe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z8(this),this._firestoreClient.terminate()}}function gpe(n,e){const t=typeof n=="object"?n:Cue(),r=typeof n=="string"?n:e||"(default)",i=Sue(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vce("firestore");s&&ape(i,...s)}return i}function yL(n){return n._firestoreClient||Z8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z8(n){var e;const t=n._freezeSettings(),r=function(i,s,o,a){return new Yde(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,t);n._firestoreClient=new lpe(n._authCredentials,n._appCheckCredentials,n._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rp(ki.fromBase64String(e))}catch(t){throw new nt(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rp(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nt(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gn(this._lat,e._lat)||gn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ype=/^__.*__$/;class vpe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new A0(e,this.data,t,this.fieldTransforms)}}let e$=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function t$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class xL{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new xL(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return V_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(t$(this.sa)&&ype.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class xpe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Ew(e)}da(e,t,r,i=!1){return new xL({sa:e,methodName:t,fa:r,path:Pi.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function _L(n){const e=n._freezeSettings(),t=Ew(n._databaseId);return new xpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _pe(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);SL("Data must be an object, but it was:",o,r);const a=n$(r,o);let l,c;if(s.merge)l=new Rs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const p=zP(e,d,t);if(!o.contains(p))throw new nt(Me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);i$(u,p)||u.push(p)}l=new Rs(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new vpe(new rs(a),l,c)}class Dw extends kw{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dw}}class Spe extends kw{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new by(e.yt,c8(e.yt,this.wa));return new ghe(e.path,t)}isEqual(e){return this===e}}function wpe(n,e,t,r){const i=n.da(1,e,t);SL("Data must be an object, but it was:",i,r);const s=[],o=rs.empty();Ud(r,(l,c)=>{const u=wL(e,l,t);c=xl(c);const d=i.ca(u);if(c instanceof Dw)s.push(u);else{const p=T0(c,d);p!=null&&(s.push(u),o.set(u,p))}});const a=new Rs(s);return new e$(o,a,i.fieldTransforms)}function bpe(n,e,t,r,i,s){const o=n.da(1,e,t),a=[zP(e,r,t)],l=[i];if(s.length%2!=0)throw new nt(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(zP(e,s[p])),l.push(s[p+1]);const c=[],u=rs.empty();for(let p=a.length-1;p>=0;--p)if(!i$(c,a[p])){const m=a[p];let y=l[p];y=xl(y);const g=o.ca(m);if(y instanceof Dw)c.push(m);else{const v=T0(y,g);v!=null&&(c.push(m),u.set(m,v))}}const d=new Rs(c);return new e$(u,d,o.fieldTransforms)}function Ape(n,e,t,r=!1){return T0(t,n.da(r?4:3,e))}function T0(n,e){if(r$(n=xl(n)))return SL("Unsupported field value:",e,n),n$(n,e);if(n instanceof kw)return function(t,r){if(!t$(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=T0(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=xl(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return c8(r.yt,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){const i=Nr.fromDate(t);return{timestampValue:H_(r.yt,i)}}if(t instanceof Nr){const i=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:H_(r.yt,i)}}if(t instanceof vL)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rp)return{bytesValue:b8(r.yt,t._byteString)};if(t instanceof ji){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iL(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Iw(t)}`)}(n,e)}function n$(n,e){const t={};return X9(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ud(n,(r,i)=>{const s=T0(i,e.ra(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function r$(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof vL||n instanceof rp||n instanceof ji||n instanceof kw)}function SL(n,e,t){if(!r$(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const r=Iw(t);throw r==="an object"?e.ha(n+" a custom object"):e.ha(n+" "+r)}}function zP(n,e,t){if((e=xl(e))instanceof Lw)return e._internalPath;if(typeof e=="string")return wL(n,e);throw V_("Field path arguments must be of type string or ",n,!1,void 0,t)}const Cpe=new RegExp("[~\\*/\\[\\]]");function wL(n,e,t){if(e.search(Cpe)>=0)throw V_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lw(...e.split("."))._internalPath}catch{throw V_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function V_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new nt(Me.INVALID_ARGUMENT,a+n+l)}function i$(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ji(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bL("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Mpe extends s${data(){return super.data()}}function bL(n,e){return typeof e=="string"?wL(n,e):e instanceof Lw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Epe(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nt(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AL{}class o$ extends AL{}function Tpe(n,e,...t){let r=[];e instanceof AL&&r.push(e),r=r.concat(t),function(i){const s=i.filter(a=>a instanceof ML).length,o=i.filter(a=>a instanceof CL).length;if(s>1||s>0&&o>0)throw new nt(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class CL extends o${constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new CL(e,t,r)}_apply(e){const t=this._parse(e);return a$(e._query,t),new Gd(e.firestore,e.converter,RP(e._query,t))}_parse(e){const t=_L(e.firestore);return function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new nt(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){NF(u,c);const p=[];for(const m of u)p.push(OF(a,i,m));d={arrayValue:{values:p}}}else d=OF(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||NF(u,c),d=Ape(o,s,u,c==="in"||c==="not-in");return Tr.create(l,c,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ML extends AL{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ML(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ko.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)a$(s,a),s=RP(s,a)}(e._query,t),new Gd(e.firestore,e.converter,RP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class EL extends o${constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new EL(e,t)}_apply(e){const t=function(r,i,s){if(r.startAt!==null)throw new nt(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new nt(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new xf(i,s);return function(a,l){if(nL(a)===null){const c=Sw(a);c!==null&&l$(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Gd(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Tp(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function Ppe(n,e="asc"){const t=e,r=bL("orderBy",n);return EL._create(r,t)}function OF(n,e,t){if(typeof(t=xl(t))=="string"){if(t==="")throw new nt(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i8(e)&&t.indexOf("/")!==-1)throw new nt(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(On.fromString(t));if(!pt.isDocumentKey(r))throw new nt(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cF(n,new pt(r))}if(t instanceof ji)return cF(n,t._key);throw new nt(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Iw(t)}.`)}function NF(n,e){if(!Array.isArray(n)||n.length===0)throw new nt(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new nt(Me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function a$(n,e){if(e.isInequality()){const r=Sw(n),i=e.field;if(r!==null&&!r.isEqual(i))throw new nt(Me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=nL(n);s!==null&&l$(n,i,s)}const t=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new nt(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function l$(n,e,t){if(!t.isEqual(e))throw new nt(Me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ipe{convertValue(e,t="none"){switch(Td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const r={};return Ud(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new vL(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=q9(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xy(e));default:return null}}convertTimestamp(e){const t=Uc(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=On.fromString(e);Ln(T8(r));const i=new vy(r.get(1),r.get(3)),s=new pt(r.popFirst(5));return i.isEqual(t)||Sl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rpe(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c$ extends s${constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class M1 extends c${data(e={}){return super.data(e)}}class Lpe{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $m(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new M1(this._firestore,this._userDataWriter,r.key,r,new $m(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new M1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $m(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new M1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new $m(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:kpe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){n=Ia(n,ji);const e=Ia(n.firestore,Rp);return fpe(yL(e),n._key).then(t=>Bpe(e,n,t))}class u$ extends Ipe{constructor(e){super(),this.firestore=e}convertBytes(e){return new rp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ji(this.firestore,null,t)}}function d$(n){n=Ia(n,Gd);const e=Ia(n.firestore,Rp),t=yL(e),r=new u$(e);return Epe(n._query),ppe(t,n._query).then(i=>new Lpe(e,r,n,i))}function Dpe(n,e,t){n=Ia(n,ji);const r=Ia(n.firestore,Rp),i=Rpe(n.converter,e,t);return TL(r,[_pe(_L(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$o.none())])}function HP(n,e,t,...r){n=Ia(n,ji);const i=Ia(n.firestore,Rp),s=_L(i);let o;return o=typeof(e=xl(e))=="string"||e instanceof Lw?bpe(s,"updateDoc",n._key,e,t,r):wpe(s,"updateDoc",n._key,e),TL(i,[o.toMutation(n._key,$o.exists(!0))])}function mM(n){return TL(Ia(n.firestore,Rp),[new rL(n._key,$o.none())])}function TL(n,e){return function(t,r){const i=new al;return t.asyncQueue.enqueueAndForget(async()=>Jfe(await hpe(t),r,i)),i.promise}(yL(n),e)}function Bpe(n,e,t){const r=t.docs.get(e._key),i=new u$(n);return new c$(n,i,e._key,r,new $m(t.hasPendingWrites,t.fromCache),e.converter)}function GP(n){return new Spe("increment",n)}(function(n,e=!0){(function(t){Ep=t})(Aue),P_(new uy("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Rp(new zde(t.getProvider("auth-internal")),new Vde(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new nt(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vy(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),vf(sF,"3.8.3",n),vf(sF,"3.8.3","esm2017")})();var Ope="firebase",Npe="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vf(Ope,Npe,"app");const Fpe={apiKey:"AIzaSyANfovU7d6QJFniluKEECeVBnxXChrHn54",authDomain:"money-can-145ae.firebaseapp.com",projectId:"money-can-145ae",storageBucket:"money-can-145ae.appspot.com",messagingSenderId:"408225112663",appId:"1:408225112663:web:6571b8a432228cf899f912",measurementId:"G-RZ2KH01K91"},zpe=H6(Fpe),nf=gpe(zpe);function Upe(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Hpe(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Gpe=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hpe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Upe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Ai="-ms-",$_="-moz-",dn="-webkit-",h$="comm",PL="rule",IL="decl",Vpe="@import",f$="@keyframes",$pe=Math.abs,Bw=String.fromCharCode,Wpe=Object.assign;function jpe(n,e){return ai(n,0)^45?(((e<<2^ai(n,0))<<2^ai(n,1))<<2^ai(n,2))<<2^ai(n,3):0}function p$(n){return n.trim()}function Kpe(n,e){return(n=e.exec(n))?n[0]:n}function pn(n,e,t){return n.replace(e,t)}function VP(n,e){return n.indexOf(e)}function ai(n,e){return n.charCodeAt(e)|0}function Ay(n,e,t){return n.slice(e,t)}function la(n){return n.length}function RL(n){return n.length}function Gx(n,e){return e.push(n),n}function Xpe(n,e){return n.map(e).join("")}var Ow=1,ip=1,m$=0,ds=0,Mr=0,Lp="";function Nw(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Ow,column:ip,length:o,return:""}}function Rm(n,e){return Wpe(Nw("",null,null,"",null,null,0),n,{length:-n.length},e)}function Jpe(){return Mr}function qpe(){return Mr=ds>0?ai(Lp,--ds):0,ip--,Mr===10&&(ip=1,Ow--),Mr}function Bs(){return Mr=ds<m$?ai(Lp,ds++):0,ip++,Mr===10&&(ip=1,Ow++),Mr}function _a(){return ai(Lp,ds)}function E1(){return ds}function P0(n,e){return Ay(Lp,n,e)}function Cy(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g$(n){return Ow=ip=1,m$=la(Lp=n),ds=0,[]}function y$(n){return Lp="",n}function T1(n){return p$(P0(ds-1,$P(n===91?n+2:n===40?n+1:n)))}function Ype(n){for(;(Mr=_a())&&Mr<33;)Bs();return Cy(n)>2||Cy(Mr)>3?"":" "}function Qpe(n,e){for(;--e&&Bs()&&!(Mr<48||Mr>102||Mr>57&&Mr<65||Mr>70&&Mr<97););return P0(n,E1()+(e<6&&_a()==32&&Bs()==32))}function $P(n){for(;Bs();)switch(Mr){case n:return ds;case 34:case 39:n!==34&&n!==39&&$P(Mr);break;case 40:n===41&&$P(n);break;case 92:Bs();break}return ds}function Zpe(n,e){for(;Bs()&&n+Mr!==47+10;)if(n+Mr===42+42&&_a()===47)break;return"/*"+P0(e,ds-1)+"*"+Bw(n===47?n:Bs())}function eme(n){for(;!Cy(_a());)Bs();return P0(n,ds)}function tme(n){return y$(P1("",null,null,null,[""],n=g$(n),0,[0],n))}function P1(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,p=0,m=0,y=0,g=1,v=1,x=1,_=0,w="",A=i,T=s,P=r,L=w;v;)switch(y=_,_=Bs()){case 40:if(y!=108&&ai(L,d-1)==58){VP(L+=pn(T1(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:L+=T1(_);break;case 9:case 10:case 13:case 32:L+=Ype(y);break;case 92:L+=Qpe(E1()-1,7);continue;case 47:switch(_a()){case 42:case 47:Gx(nme(Zpe(Bs(),E1()),e,t),l);break;default:L+="/"}break;case 123*g:a[c++]=la(L)*x;case 125*g:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+u:m>0&&la(L)-d&&Gx(m>32?zF(L+";",r,t,d-1):zF(pn(L," ","")+";",r,t,d-2),l);break;case 59:L+=";";default:if(Gx(P=FF(L,e,t,c,u,i,a,w,A=[],T=[],d),s),_===123)if(u===0)P1(L,e,P,P,A,s,d,a,T);else switch(p===99&&ai(L,3)===110?100:p){case 100:case 109:case 115:P1(n,P,P,r&&Gx(FF(n,P,P,0,0,i,a,w,i,A=[],d),T),i,T,d,a,r?A:T);break;default:P1(L,P,P,P,[""],T,0,a,T)}}c=u=m=0,g=x=1,w=L="",d=o;break;case 58:d=1+la(L),m=y;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&qpe()==125)continue}switch(L+=Bw(_),_*g){case 38:x=u>0?1:(L+="\f",-1);break;case 44:a[c++]=(la(L)-1)*x,x=1;break;case 64:_a()===45&&(L+=T1(Bs())),p=_a(),u=d=la(w=L+=eme(E1())),_++;break;case 45:y===45&&la(L)==2&&(g=0)}}return s}function FF(n,e,t,r,i,s,o,a,l,c,u){for(var d=i-1,p=i===0?s:[""],m=RL(p),y=0,g=0,v=0;y<r;++y)for(var x=0,_=Ay(n,d+1,d=$pe(g=o[y])),w=n;x<m;++x)(w=p$(g>0?p[x]+" "+_:pn(_,/&\f/g,p[x])))&&(l[v++]=w);return Nw(n,e,t,i===0?PL:a,l,c,u)}function nme(n,e,t){return Nw(n,e,t,h$,Bw(Jpe()),Ay(n,2,-2),0)}function zF(n,e,t,r){return Nw(n,e,t,IL,Ay(n,0,r),Ay(n,r+1,-1),r)}function wf(n,e){for(var t="",r=RL(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function rme(n,e,t,r){switch(n.type){case Vpe:case IL:return n.return=n.return||n.value;case h$:return"";case f$:return n.return=n.value+"{"+wf(n.children,r)+"}";case PL:n.value=n.props.join(",")}return la(t=wf(n.children,r))?n.return=n.value+"{"+t+"}":""}function ime(n){var e=RL(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function sme(n){return function(e){e.root||(e=e.return)&&n(e)}}var UF=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var i=e(r);return t.set(r,i),i}};function v$(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var ome=function(e,t,r){for(var i=0,s=0;i=s,s=_a(),i===38&&s===12&&(t[r]=1),!Cy(s);)Bs();return P0(e,ds)},ame=function(e,t){var r=-1,i=44;do switch(Cy(i)){case 0:i===38&&_a()===12&&(t[r]=1),e[r]+=ome(ds-1,t,r);break;case 2:e[r]+=T1(i);break;case 4:if(i===44){e[++r]=_a()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Bw(i)}while(i=Bs());return e},lme=function(e,t){return y$(ame(g$(e),t))},HF=new WeakMap,cme=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!HF.get(r))&&!i){HF.set(e,!0);for(var s=[],o=lme(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},ume=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function x$(n,e){switch(jpe(n,e)){case 5103:return dn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return dn+n+$_+n+Ai+n+n;case 6828:case 4268:return dn+n+Ai+n+n;case 6165:return dn+n+Ai+"flex-"+n+n;case 5187:return dn+n+pn(n,/(\w+).+(:[^]+)/,dn+"box-$1$2"+Ai+"flex-$1$2")+n;case 5443:return dn+n+Ai+"flex-item-"+pn(n,/flex-|-self/,"")+n;case 4675:return dn+n+Ai+"flex-line-pack"+pn(n,/align-content|flex-|-self/,"")+n;case 5548:return dn+n+Ai+pn(n,"shrink","negative")+n;case 5292:return dn+n+Ai+pn(n,"basis","preferred-size")+n;case 6060:return dn+"box-"+pn(n,"-grow","")+dn+n+Ai+pn(n,"grow","positive")+n;case 4554:return dn+pn(n,/([^-])(transform)/g,"$1"+dn+"$2")+n;case 6187:return pn(pn(pn(n,/(zoom-|grab)/,dn+"$1"),/(image-set)/,dn+"$1"),n,"")+n;case 5495:case 3959:return pn(n,/(image-set\([^]*)/,dn+"$1$`$1");case 4968:return pn(pn(n,/(.+:)(flex-)?(.*)/,dn+"box-pack:$3"+Ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dn+n+n;case 4095:case 3583:case 4068:case 2532:return pn(n,/(.+)-inline(.+)/,dn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(la(n)-1-e>6)switch(ai(n,e+1)){case 109:if(ai(n,e+4)!==45)break;case 102:return pn(n,/(.+:)(.+)-([^]+)/,"$1"+dn+"$2-$3$1"+$_+(ai(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~VP(n,"stretch")?x$(pn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ai(n,e+1)!==115)break;case 6444:switch(ai(n,la(n)-3-(~VP(n,"!important")&&10))){case 107:return pn(n,":",":"+dn)+n;case 101:return pn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dn+(ai(n,14)===45?"inline-":"")+"box$3$1"+dn+"$2$3$1"+Ai+"$2box$3")+n}break;case 5936:switch(ai(n,e+11)){case 114:return dn+n+Ai+pn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return dn+n+Ai+pn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return dn+n+Ai+pn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return dn+n+Ai+n+n}return n}var dme=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case IL:e.return=x$(e.value,e.length);break;case f$:return wf([Rm(e,{value:pn(e.value,"@","@"+dn)})],i);case PL:if(e.length)return Xpe(e.props,function(s){switch(Kpe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wf([Rm(e,{props:[pn(s,/:(read-\w+)/,":"+$_+"$1")]})],i);case"::placeholder":return wf([Rm(e,{props:[pn(s,/:(plac\w+)/,":"+dn+"input-$1")]}),Rm(e,{props:[pn(s,/:(plac\w+)/,":"+$_+"$1")]}),Rm(e,{props:[pn(s,/:(plac\w+)/,Ai+"input-$1")]})],i)}return""})}},hme=[dme],fme=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||hme,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),x=1;x<v.length;x++)s[v[x]]=!0;a.push(g)});var l,c=[cme,ume];{var u,d=[rme,sme(function(g){u.insert(g)})],p=ime(c.concat(i,d)),m=function(v){return wf(tme(v),p)};l=function(v,x,_,w){u=_,m(v?v+"{"+x.styles+"}":x.styles),w&&(y.inserted[x.name]=!0)}}var y={key:t,sheet:new Gpe({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},WP={},pme={get exports(){return WP},set exports(n){WP=n}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=typeof Symbol=="function"&&Symbol.for,LL=Zr?Symbol.for("react.element"):60103,kL=Zr?Symbol.for("react.portal"):60106,Fw=Zr?Symbol.for("react.fragment"):60107,zw=Zr?Symbol.for("react.strict_mode"):60108,Uw=Zr?Symbol.for("react.profiler"):60114,Hw=Zr?Symbol.for("react.provider"):60109,Gw=Zr?Symbol.for("react.context"):60110,DL=Zr?Symbol.for("react.async_mode"):60111,Vw=Zr?Symbol.for("react.concurrent_mode"):60111,$w=Zr?Symbol.for("react.forward_ref"):60112,Ww=Zr?Symbol.for("react.suspense"):60113,mme=Zr?Symbol.for("react.suspense_list"):60120,jw=Zr?Symbol.for("react.memo"):60115,Kw=Zr?Symbol.for("react.lazy"):60116,gme=Zr?Symbol.for("react.block"):60121,yme=Zr?Symbol.for("react.fundamental"):60117,vme=Zr?Symbol.for("react.responder"):60118,xme=Zr?Symbol.for("react.scope"):60119;function Vs(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case LL:switch(n=n.type,n){case DL:case Vw:case Fw:case Uw:case zw:case Ww:return n;default:switch(n=n&&n.$$typeof,n){case Gw:case $w:case Kw:case jw:case Hw:return n;default:return e}}case kL:return e}}}function _$(n){return Vs(n)===Vw}Sn.AsyncMode=DL;Sn.ConcurrentMode=Vw;Sn.ContextConsumer=Gw;Sn.ContextProvider=Hw;Sn.Element=LL;Sn.ForwardRef=$w;Sn.Fragment=Fw;Sn.Lazy=Kw;Sn.Memo=jw;Sn.Portal=kL;Sn.Profiler=Uw;Sn.StrictMode=zw;Sn.Suspense=Ww;Sn.isAsyncMode=function(n){return _$(n)||Vs(n)===DL};Sn.isConcurrentMode=_$;Sn.isContextConsumer=function(n){return Vs(n)===Gw};Sn.isContextProvider=function(n){return Vs(n)===Hw};Sn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===LL};Sn.isForwardRef=function(n){return Vs(n)===$w};Sn.isFragment=function(n){return Vs(n)===Fw};Sn.isLazy=function(n){return Vs(n)===Kw};Sn.isMemo=function(n){return Vs(n)===jw};Sn.isPortal=function(n){return Vs(n)===kL};Sn.isProfiler=function(n){return Vs(n)===Uw};Sn.isStrictMode=function(n){return Vs(n)===zw};Sn.isSuspense=function(n){return Vs(n)===Ww};Sn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Fw||n===Vw||n===Uw||n===zw||n===Ww||n===mme||typeof n=="object"&&n!==null&&(n.$$typeof===Kw||n.$$typeof===jw||n.$$typeof===Hw||n.$$typeof===Gw||n.$$typeof===$w||n.$$typeof===yme||n.$$typeof===vme||n.$$typeof===xme||n.$$typeof===gme)};Sn.typeOf=Vs;(function(n){n.exports=Sn})(pme);var S$=WP,_me={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},w$={};w$[S$.ForwardRef]=_me;w$[S$.Memo]=Sme;var wme=!0;function bme(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var b$=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||wme===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},A$=function(e,t,r){b$(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Ame(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Cme={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Mme=/[A-Z]|^ms/g,Eme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,C$=function(e){return e.charCodeAt(1)===45},GF=function(e){return e!=null&&typeof e!="boolean"},gM=v$(function(n){return C$(n)?n:n.replace(Mme,"-$&").toLowerCase()}),VF=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Eme,function(r,i,s){return ca={name:i,styles:s,next:ca},i})}return Cme[e]!==1&&!C$(e)&&typeof t=="number"&&t!==0?t+"px":t};function My(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return ca={name:t.name,styles:t.styles,next:ca},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)ca={name:r.name,styles:r.styles,next:ca},r=r.next;var i=t.styles+";";return i}return Tme(n,e,t)}case"function":{if(n!==void 0){var s=ca,o=t(n);return ca=s,My(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function Tme(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=My(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":GF(o)&&(r+=gM(s)+":"+VF(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)GF(o[a])&&(r+=gM(s)+":"+VF(s,o[a])+";");else{var l=My(n,e,o);switch(s){case"animation":case"animationName":{r+=gM(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var $F=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ca,BL=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ca=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=My(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=My(r,t,e[a]),i&&(s+=o[a]);$F.lastIndex=0;for(var l="",c;(c=$F.exec(s))!==null;)l+="-"+c[1];var u=Ame(s)+l;return{name:u,styles:s,next:ca}},Pme=function(e){return e()},M$=Tg["useInsertionEffect"]?Tg["useInsertionEffect"]:!1,Ime=M$||Pme,WF=M$||D.useLayoutEffect,E$=D.createContext(typeof HTMLElement<"u"?fme({key:"css"}):null);E$.Provider;var T$=function(e){return D.forwardRef(function(t,r){var i=D.useContext(E$);return e(t,i,r)})},Ey=D.createContext({}),Rme=function(e,t){if(typeof t=="function"){var r=t(e);return r}return vl({},e,t)},Lme=UF(function(n){return UF(function(e){return Rme(n,e)})}),kme=function(e){var t=D.useContext(Ey);return e.theme!==t&&(t=Lme(t)(e.theme)),D.createElement(Ey.Provider,{value:t},e.children)},Xw=T$(function(n,e){var t=n.styles,r=BL([t],void 0,D.useContext(Ey)),i=D.useRef();return WF(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),WF(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&A$(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Dme(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return BL(e)}var Bme=function(){var e=Dme.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},P$=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,Ome=()=>C(Xw,{styles:P$}),Nme=()=>C(Xw,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${P$}
    `});function Fme(n,e){return`${n} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function I0(n={}){const{name:e,strict:t=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s}=n,o=D.createContext(void 0);o.displayName=e;function a(){var l;const c=D.useContext(o);if(!c&&t){const u=new Error(s??Fme(r,i));throw u.name="ContextError",(l=Error.captureStackTrace)==null||l.call(Error,u,a),u}return c}return[o.Provider,a,o]}var[zme,Ume]=I0({strict:!1,name:"PortalManagerContext"});function I$(n){const{children:e,zIndex:t}=n;return C(zme,{value:{zIndex:t},children:e})}I$.displayName="PortalManager";var W_=Boolean(globalThis==null?void 0:globalThis.document)?D.useLayoutEffect:D.useEffect,[R$,Hme]=I0({strict:!1,name:"PortalContext"}),OL="chakra-portal",Gme=".chakra-portal",Vme=n=>C("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:n.zIndex,top:0,left:0,right:0},children:n.children}),$me=n=>{const{appendToParentPortal:e,children:t}=n,[r,i]=D.useState(null),s=D.useRef(null),[,o]=D.useState({});D.useEffect(()=>o({}),[]);const a=Hme(),l=Ume();W_(()=>{if(!r)return;const u=r.ownerDocument,d=e?a??u.body:u.body;if(!d)return;s.current=u.createElement("div"),s.current.className=OL,d.appendChild(s.current),o({});const p=s.current;return()=>{d.contains(p)&&d.removeChild(p)}},[r]);const c=l!=null&&l.zIndex?C(Vme,{zIndex:l==null?void 0:l.zIndex,children:t}):t;return s.current?If.createPortal(C(R$,{value:s.current,children:c}),s.current):C("span",{ref:u=>{u&&i(u)}})},Wme=n=>{const{children:e,containerRef:t,appendToParentPortal:r}=n,i=t.current,s=i??(typeof window<"u"?document.body:void 0),o=D.useMemo(()=>{const l=i==null?void 0:i.ownerDocument.createElement("div");return l&&(l.className=OL),l},[i]),[,a]=D.useState({});return W_(()=>a({}),[]),W_(()=>{if(!(!o||!s))return s.appendChild(o),()=>{s.removeChild(o)}},[o,s]),s&&o?If.createPortal(C(R$,{value:r?o:null,children:e}),o):null};function Jw(n){const e={appendToParentPortal:!0,...n},{containerRef:t,...r}=e;return t?C(Wme,{containerRef:t,...r}):C($me,{...r})}Jw.className=OL;Jw.selector=Gme;Jw.displayName="Portal";function jme(){const n=D.useContext(Ey);if(!n)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return n}var NL=D.createContext({});NL.displayName="ColorModeContext";function FL(){const n=D.useContext(NL);if(n===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return n}var Vx={light:"chakra-ui-light",dark:"chakra-ui-dark"};function Kme(n={}){const{preventTransition:e=!0}=n,t={setDataset:r=>{const i=e?t.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,i==null||i()},setClassName(r){document.body.classList.add(r?Vx.dark:Vx.light),document.body.classList.remove(r?Vx.light:Vx.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var i;return((i=t.query().matches)!=null?i:r==="dark")?"dark":"light"},addListener(r){const i=t.query(),s=o=>{r(o.matches?"dark":"light")};return typeof i.addListener=="function"?i.addListener(s):i.addEventListener("change",s),()=>{typeof i.removeListener=="function"?i.removeListener(s):i.removeEventListener("change",s)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return t}var Xme="chakra-ui-color-mode";function Jme(n){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let t;try{t=localStorage.getItem(n)||e}catch{}return t||e},set(e){try{localStorage.setItem(n,e)}catch{}}}}var qme=Jme(Xme),jF=()=>{};function KF(n,e){return n.type==="cookie"&&n.ssr?n.get(e):e}function L$(n){const{value:e,children:t,options:{useSystemColorMode:r,initialColorMode:i,disableTransitionOnChange:s}={},colorModeManager:o=qme}=n,a=i==="dark"?"dark":"light",[l,c]=D.useState(()=>KF(o,a)),[u,d]=D.useState(()=>KF(o)),{getSystemTheme:p,setClassName:m,setDataset:y,addListener:g}=D.useMemo(()=>Kme({preventTransition:s}),[s]),v=i==="system"&&!l?u:l,x=D.useCallback(A=>{const T=A==="system"?p():A;c(T),m(T==="dark"),y(T),o.set(T)},[o,p,m,y]);W_(()=>{i==="system"&&d(p())},[]),D.useEffect(()=>{const A=o.get();if(A){x(A);return}if(i==="system"){x("system");return}x(a)},[o,a,i,x]);const _=D.useCallback(()=>{x(v==="dark"?"light":"dark")},[v,x]);D.useEffect(()=>{if(r)return g(x)},[r,g,x]);const w=D.useMemo(()=>({colorMode:e??v,toggleColorMode:e?jF:_,setColorMode:e?jF:x,forced:e!==void 0}),[v,_,x,e]);return C(NL.Provider,{value:w,children:t})}L$.displayName="ColorModeProvider";function k$(){const n=FL(),e=jme();return{...n,theme:e}}var kp=(...n)=>n.filter(Boolean).join(" ");function mo(n){const e=typeof n;return n!=null&&(e==="object"||e==="function")&&!Array.isArray(n)}function fa(n,...e){return Yme(n)?n(...e):n}var Yme=n=>typeof n=="function",j_={},Qme={get exports(){return j_},set exports(n){j_=n}};(function(n,e){var t=200,r="__lodash_hash_undefined__",i=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Function]",y="[object GeneratorFunction]",g="[object Map]",v="[object Number]",x="[object Null]",_="[object Object]",w="[object Proxy]",A="[object RegExp]",T="[object Set]",P="[object String]",L="[object Undefined]",M="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",V="[object Float32Array]",U="[object Float64Array]",F="[object Int8Array]",J="[object Int16Array]",q="[object Int32Array]",se="[object Uint8Array]",ue="[object Uint8ClampedArray]",H="[object Uint16Array]",j="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,Q={};Q[V]=Q[U]=Q[F]=Q[J]=Q[q]=Q[se]=Q[ue]=Q[H]=Q[j]=!0,Q[a]=Q[l]=Q[R]=Q[u]=Q[k]=Q[d]=Q[p]=Q[m]=Q[g]=Q[v]=Q[_]=Q[A]=Q[T]=Q[P]=Q[M]=!1;var de=typeof Ya=="object"&&Ya&&Ya.Object===Object&&Ya,Z=typeof self=="object"&&self&&self.Object===Object&&self,Ae=de||Z||Function("return this")(),Te=e&&!e.nodeType&&e,Be=Te&&!0&&n&&!n.nodeType&&n,Ve=Be&&Be.exports===Te,Re=Ve&&de.process,Pe=function(){try{var W=Be&&Be.require&&Be.require("util").types;return W||Re&&Re.binding&&Re.binding("util")}catch{}}(),pe=Pe&&Pe.isTypedArray;function ge(W,ee,he){switch(he.length){case 0:return W.call(ee);case 1:return W.call(ee,he[0]);case 2:return W.call(ee,he[0],he[1]);case 3:return W.call(ee,he[0],he[1],he[2])}return W.apply(ee,he)}function Ce(W,ee){for(var he=-1,Ze=Array(W);++he<W;)Ze[he]=ee(he);return Ze}function We(W){return function(ee){return W(ee)}}function ke(W,ee){return W==null?void 0:W[ee]}function Ge(W,ee){return function(he){return W(ee(he))}}var Ye=Array.prototype,et=Function.prototype,gt=Object.prototype,Mt=Ae["__core-js_shared__"],K=et.toString,B=gt.hasOwnProperty,fe=function(){var W=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return W?"Symbol(src)_1."+W:""}(),De=gt.toString,Ne=K.call(Object),He=RegExp("^"+K.call(B).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Ve?Ae.Buffer:void 0,je=Ae.Symbol,we=Ae.Uint8Array,ct=ot?ot.allocUnsafe:void 0,Y=Ge(Object.getPrototypeOf,Object),_e=Object.create,Ie=gt.propertyIsEnumerable,Fe=Ye.splice,at=je?je.toStringTag:void 0,Lt=function(){try{var W=Kd(Object,"defineProperty");return W({},"",{}),W}catch{}}(),An=ot?ot.isBuffer:void 0,te=Math.max,ve=Date.now,Ee=Kd(Ae,"Map"),Ke=Kd(Object,"create"),st=function(){function W(){}return function(ee){if(!wo(ee))return{};if(_e)return _e(ee);W.prototype=ee;var he=new W;return W.prototype=void 0,he}}();function Xt(W){var ee=-1,he=W==null?0:W.length;for(this.clear();++ee<he;){var Ze=W[ee];this.set(Ze[0],Ze[1])}}function qn(){this.__data__=Ke?Ke(null):{},this.size=0}function Rr(W){var ee=this.has(W)&&delete this.__data__[W];return this.size-=ee?1:0,ee}function Bi(W){var ee=this.__data__;if(Ke){var he=ee[W];return he===r?void 0:he}return B.call(ee,W)?ee[W]:void 0}function Tn(W){var ee=this.__data__;return Ke?ee[W]!==void 0:B.call(ee,W)}function ei(W,ee){var he=this.__data__;return this.size+=this.has(W)?0:1,he[W]=Ke&&ee===void 0?r:ee,this}Xt.prototype.clear=qn,Xt.prototype.delete=Rr,Xt.prototype.get=Bi,Xt.prototype.has=Tn,Xt.prototype.set=ei;function or(W){var ee=-1,he=W==null?0:W.length;for(this.clear();++ee<he;){var Ze=W[ee];this.set(Ze[0],Ze[1])}}function Op(){this.__data__=[],this.size=0}function Np(W){var ee=this.__data__,he=Tt(ee,W);if(he<0)return!1;var Ze=ee.length-1;return he==Ze?ee.pop():Fe.call(ee,he,1),--this.size,!0}function Wd(W){var ee=this.__data__,he=Tt(ee,W);return he<0?void 0:ee[he][1]}function $(W){return Tt(this.__data__,W)>-1}function le(W,ee){var he=this.__data__,Ze=Tt(he,W);return Ze<0?(++this.size,he.push([W,ee])):he[Ze][1]=ee,this}or.prototype.clear=Op,or.prototype.delete=Np,or.prototype.get=Wd,or.prototype.has=$,or.prototype.set=le;function ye(W){var ee=-1,he=W==null?0:W.length;for(this.clear();++ee<he;){var Ze=W[ee];this.set(Ze[0],Ze[1])}}function ae(){this.size=0,this.__data__={hash:new Xt,map:new(Ee||or),string:new Xt}}function Se(W){var ee=La(this,W).delete(W);return this.size-=ee?1:0,ee}function ft(W){return La(this,W).get(W)}function _t(W){return La(this,W).has(W)}function kt(W,ee){var he=La(this,W),Ze=he.size;return he.set(W,ee),this.size+=he.size==Ze?0:1,this}ye.prototype.clear=ae,ye.prototype.delete=Se,ye.prototype.get=ft,ye.prototype.has=_t,ye.prototype.set=kt;function wt(W){var ee=this.__data__=new or(W);this.size=ee.size}function Jt(){this.__data__=new or,this.size=0}function Nt(W){var ee=this.__data__,he=ee.delete(W);return this.size=ee.size,he}function Ut(W){return this.__data__.get(W)}function Hn(W){return this.__data__.has(W)}function ti(W,ee){var he=this.__data__;if(he instanceof or){var Ze=he.__data__;if(!Ee||Ze.length<t-1)return Ze.push([W,ee]),this.size=++he.size,this;he=this.__data__=new ye(Ze)}return he.set(W,ee),this.size=he.size,this}wt.prototype.clear=Jt,wt.prototype.delete=Nt,wt.prototype.get=Ut,wt.prototype.has=Hn,wt.prototype.set=ti;function fs(W,ee){var he=Yd(W),Ze=!he&&Yt(W),At=!he&&!Ze&&H0(W),vn=!he&&!Ze&&!At&&G0(W),xn=he||Ze||At||vn,Gt=xn?Ce(W.length,String):[],Qt=Gt.length;for(var ni in W)(ee||B.call(W,ni))&&!(xn&&(ni=="length"||At&&(ni=="offset"||ni=="parent")||vn&&(ni=="buffer"||ni=="byteLength"||ni=="byteOffset")||z0(ni,Qt)))&&Gt.push(ni);return Gt}function ps(W,ee,he){(he!==void 0&&!Ll(W[ee],he)||he===void 0&&!(ee in W))&&ms(W,ee,he)}function Gn(W,ee,he){var Ze=W[ee];(!(B.call(W,ee)&&Ll(Ze,he))||he===void 0&&!(ee in W))&&ms(W,ee,he)}function Tt(W,ee){for(var he=W.length;he--;)if(Ll(W[he][0],ee))return he;return-1}function ms(W,ee,he){ee=="__proto__"&&Lt?Lt(W,ee,{configurable:!0,enumerable:!0,value:he,writable:!0}):W[ee]=he}var Vn=F0();function fi(W){return W==null?W===void 0?L:x:at&&at in Object(W)?gs(W):Sb(W)}function nu(W){return ou(W)&&fi(W)==a}function So(W){if(!wo(W)||Jd(W))return!1;var ee=zp(W)?He:oe;return ee.test(bb(W))}function $s(W){return ou(W)&&fr(W.length)&&!!Q[fi(W)]}function Pn(W){if(!wo(W))return qd(W);var ee=Rl(W),he=[];for(var Ze in W)Ze=="constructor"&&(ee||!B.call(W,Ze))||he.push(Ze);return he}function qt(W,ee,he,Ze,At){W!==ee&&Vn(ee,function(vn,xn){if(At||(At=new wt),wo(vn))on(W,ee,xn,he,qt,Ze,At);else{var Gt=Ze?Ze(ru(W,xn),vn,xn+"",W,ee,At):void 0;Gt===void 0&&(Gt=vn),ps(W,xn,Gt)}},ys)}function on(W,ee,he,Ze,At,vn,xn){var Gt=ru(W,he),Qt=ru(ee,he),ni=xn.get(Qt);if(ni){ps(W,he,ni);return}var $r=vn?vn(Gt,Qt,he+"",W,ee,xn):void 0,js=$r===void 0;if(js){var au=Yd(Qt),lu=!au&&H0(Qt),Hp=!au&&!lu&&G0(Qt);$r=Qt,au||lu||Hp?Yd(Gt)?$r=Gt:U0(Gt)?$r=pi(Gt):lu?(js=!1,$r=Vr(Qt,!0)):Hp?(js=!1,$r=Il(Qt,!0)):$r=[]:Up(Qt)||Yt(Qt)?($r=Gt,Yt(Gt)?$r=Qd(Gt):(!wo(Gt)||zp(Gt))&&($r=xb(Qt))):js=!1}js&&(xn.set(Qt,$r),At($r,Qt,Ze,vn,xn),xn.delete(Qt)),ps(W,he,$r)}function $n(W,ee){return Fp(wb(W,ee,vs),W+"")}var ar=Lt?function(W,ee){return Lt(W,"toString",{configurable:!0,enumerable:!1,value:Cb(ee),writable:!0})}:vs;function Vr(W,ee){if(ee)return W.slice();var he=W.length,Ze=ct?ct(he):new W.constructor(he);return W.copy(Ze),Ze}function Ws(W){var ee=new W.constructor(W.byteLength);return new we(ee).set(new we(W)),ee}function Il(W,ee){var he=ee?Ws(W.buffer):W.buffer;return new W.constructor(he,W.byteOffset,W.length)}function pi(W,ee){var he=-1,Ze=W.length;for(ee||(ee=Array(Ze));++he<Ze;)ee[he]=W[he];return ee}function jd(W,ee,he,Ze){var At=!he;he||(he={});for(var vn=-1,xn=ee.length;++vn<xn;){var Gt=ee[vn],Qt=Ze?Ze(he[Gt],W[Gt],Gt,he,W):void 0;Qt===void 0&&(Qt=W[Gt]),At?ms(he,Gt,Qt):Gn(he,Gt,Qt)}return he}function N0(W){return $n(function(ee,he){var Ze=-1,At=he.length,vn=At>1?he[At-1]:void 0,xn=At>2?he[2]:void 0;for(vn=W.length>3&&typeof vn=="function"?(At--,vn):void 0,xn&&_b(he[0],he[1],xn)&&(vn=At<3?void 0:vn,At=1),ee=Object(ee);++Ze<At;){var Gt=he[Ze];Gt&&W(ee,Gt,Ze,vn)}return ee})}function F0(W){return function(ee,he,Ze){for(var At=-1,vn=Object(ee),xn=Ze(ee),Gt=xn.length;Gt--;){var Qt=xn[W?Gt:++At];if(he(vn[Qt],Qt,vn)===!1)break}return ee}}function La(W,ee){var he=W.__data__;return Xd(ee)?he[typeof ee=="string"?"string":"hash"]:he.map}function Kd(W,ee){var he=ke(W,ee);return So(he)?he:void 0}function gs(W){var ee=B.call(W,at),he=W[at];try{W[at]=void 0;var Ze=!0}catch{}var At=De.call(W);return Ze&&(ee?W[at]=he:delete W[at]),At}function xb(W){return typeof W.constructor=="function"&&!Rl(W)?st(Y(W)):{}}function z0(W,ee){var he=typeof W;return ee=ee??o,!!ee&&(he=="number"||he!="symbol"&&z.test(W))&&W>-1&&W%1==0&&W<ee}function _b(W,ee,he){if(!wo(he))return!1;var Ze=typeof ee;return(Ze=="number"?su(he)&&z0(ee,he.length):Ze=="string"&&ee in he)?Ll(he[ee],W):!1}function Xd(W){var ee=typeof W;return ee=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?W!=="__proto__":W===null}function Jd(W){return!!fe&&fe in W}function Rl(W){var ee=W&&W.constructor,he=typeof ee=="function"&&ee.prototype||gt;return W===he}function qd(W){var ee=[];if(W!=null)for(var he in Object(W))ee.push(he);return ee}function Sb(W){return De.call(W)}function wb(W,ee,he){return ee=te(ee===void 0?W.length-1:ee,0),function(){for(var Ze=arguments,At=-1,vn=te(Ze.length-ee,0),xn=Array(vn);++At<vn;)xn[At]=Ze[ee+At];At=-1;for(var Gt=Array(ee+1);++At<ee;)Gt[At]=Ze[At];return Gt[ee]=he(xn),ge(W,this,Gt)}}function ru(W,ee){if(!(ee==="constructor"&&typeof W[ee]=="function")&&ee!="__proto__")return W[ee]}var Fp=iu(ar);function iu(W){var ee=0,he=0;return function(){var Ze=ve(),At=s-(Ze-he);if(he=Ze,At>0){if(++ee>=i)return arguments[0]}else ee=0;return W.apply(void 0,arguments)}}function bb(W){if(W!=null){try{return K.call(W)}catch{}try{return W+""}catch{}}return""}function Ll(W,ee){return W===ee||W!==W&&ee!==ee}var Yt=nu(function(){return arguments}())?nu:function(W){return ou(W)&&B.call(W,"callee")&&!Ie.call(W,"callee")},Yd=Array.isArray;function su(W){return W!=null&&fr(W.length)&&!zp(W)}function U0(W){return ou(W)&&su(W)}var H0=An||bo;function zp(W){if(!wo(W))return!1;var ee=fi(W);return ee==m||ee==y||ee==c||ee==w}function fr(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=o}function wo(W){var ee=typeof W;return W!=null&&(ee=="object"||ee=="function")}function ou(W){return W!=null&&typeof W=="object"}function Up(W){if(!ou(W)||fi(W)!=_)return!1;var ee=Y(W);if(ee===null)return!0;var he=B.call(ee,"constructor")&&ee.constructor;return typeof he=="function"&&he instanceof he&&K.call(he)==Ne}var G0=pe?We(pe):$s;function Qd(W){return jd(W,ys(W))}function ys(W){return su(W)?fs(W,!0):Pn(W)}var Ab=N0(function(W,ee,he,Ze){qt(W,ee,he,Ze)});function Cb(W){return function(){return W}}function vs(W){return W}function bo(){return!1}n.exports=Ab})(Qme,j_);const pa=j_;var Zme=n=>/!(important)?$/.test(n),XF=n=>typeof n=="string"?n.replace(/!(important)?$/,"").trim():n,ege=(n,e)=>t=>{const r=String(e),i=Zme(r),s=XF(r),o=n?`${n}.${s}`:s;let a=mo(t.__cssMap)&&o in t.__cssMap?t.__cssMap[o].varRef:e;return a=XF(a),i?`${a} !important`:a};function zL(n){const{scale:e,transform:t,compose:r}=n;return(s,o)=>{var a;const l=ege(e,s)(o);let c=(a=t==null?void 0:t(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var $x=(...n)=>e=>n.reduce((t,r)=>r(t),e);function Io(n,e){return t=>{const r={property:t,scale:n};return r.transform=zL({scale:n,transform:e}),r}}var tge=({rtl:n,ltr:e})=>t=>t.direction==="rtl"?n:e;function nge(n){const{property:e,scale:t,transform:r}=n;return{scale:t,property:tge(e),transform:t?zL({scale:t,compose:r}):r}}var D$=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function rge(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...D$].join(" ")}function ige(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...D$].join(" ")}var sge={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},oge={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function age(n){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":n,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var lge={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},jP={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},cge=new Set(Object.values(jP)),B$=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),uge=n=>n.trim();function dge(n,e){if(n==null||B$.has(n))return n;const r=/(^[a-z-A-Z]+)\((.*)\)/g.exec(n),i=r==null?void 0:r[1],s=r==null?void 0:r[2];if(!i||!s)return n;const o=i.includes("-gradient")?i:`${i}-gradient`,[a,...l]=s.split(",").map(uge).filter(Boolean);if((l==null?void 0:l.length)===0)return n;const c=a in jP?jP[a]:a;l.unshift(c);const u=l.map(d=>{if(cge.has(d))return d;const p=d.indexOf(" "),[m,y]=p!==-1?[d.substr(0,p),d.substr(p+1)]:[d],g=O$(y)?y:y&&y.split(" "),v=`colors.${m}`,x=v in e.__cssMap?e.__cssMap[v].varRef:m;return g?[x,...Array.isArray(g)?g:[g]].join(" "):x});return`${o}(${u.join(", ")})`}var O$=n=>typeof n=="string"&&n.includes("(")&&n.includes(")"),hge=(n,e)=>dge(n,e??{});function fge(n){return/^var\(--.+\)$/.test(n)}var pge=n=>{const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},ia=n=>e=>`${n}(${e})`,nn={filter(n){return n!=="auto"?n:sge},backdropFilter(n){return n!=="auto"?n:oge},ring(n){return age(nn.px(n))},bgClip(n){return n==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:n}},transform(n){return n==="auto"?rge():n==="auto-gpu"?ige():n},vh(n){return n==="$100vh"?"var(--chakra-vh)":n},px(n){if(n==null)return n;const{unitless:e}=pge(n);return e||typeof n=="number"?`${n}px`:n},fraction(n){return typeof n!="number"||n>1?n:`${n*100}%`},float(n,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[n]:n},degree(n){if(fge(n)||n==null)return n;const e=typeof n=="string"&&!n.endsWith("deg");return typeof n=="number"||e?`${n}deg`:n},gradient:hge,blur:ia("blur"),opacity:ia("opacity"),brightness:ia("brightness"),contrast:ia("contrast"),dropShadow:ia("drop-shadow"),grayscale:ia("grayscale"),hueRotate:ia("hue-rotate"),invert:ia("invert"),saturate:ia("saturate"),sepia:ia("sepia"),bgImage(n){return n==null||O$(n)||B$.has(n)?n:`url(${n})`},outline(n){const e=String(n)==="0"||String(n)==="none";return n!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:n}},flexDirection(n){var e;const{space:t,divide:r}=(e=lge[n])!=null?e:{},i={flexDirection:n};return t&&(i[t]=1),r&&(i[r]=1),i}},re={borderWidths:Io("borderWidths"),borderStyles:Io("borderStyles"),colors:Io("colors"),borders:Io("borders"),radii:Io("radii",nn.px),space:Io("space",$x(nn.vh,nn.px)),spaceT:Io("space",$x(nn.vh,nn.px)),degreeT(n){return{property:n,transform:nn.degree}},prop(n,e,t){return{property:n,scale:e,...e&&{transform:zL({scale:e,transform:t})}}},propT(n,e){return{property:n,transform:e}},sizes:Io("sizes",$x(nn.vh,nn.px)),sizesT:Io("sizes",$x(nn.vh,nn.fraction)),shadows:Io("shadows"),logical:nge,blur:Io("blur",nn.blur)},I1={background:re.colors("background"),backgroundColor:re.colors("backgroundColor"),backgroundImage:re.propT("backgroundImage",nn.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:nn.bgClip},bgSize:re.prop("backgroundSize"),bgPosition:re.prop("backgroundPosition"),bg:re.colors("background"),bgColor:re.colors("backgroundColor"),bgPos:re.prop("backgroundPosition"),bgRepeat:re.prop("backgroundRepeat"),bgAttachment:re.prop("backgroundAttachment"),bgGradient:re.propT("backgroundImage",nn.gradient),bgClip:{transform:nn.bgClip}};Object.assign(I1,{bgImage:I1.backgroundImage,bgImg:I1.backgroundImage});var un={border:re.borders("border"),borderWidth:re.borderWidths("borderWidth"),borderStyle:re.borderStyles("borderStyle"),borderColor:re.colors("borderColor"),borderRadius:re.radii("borderRadius"),borderTop:re.borders("borderTop"),borderBlockStart:re.borders("borderBlockStart"),borderTopLeftRadius:re.radii("borderTopLeftRadius"),borderStartStartRadius:re.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:re.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:re.radii("borderTopRightRadius"),borderStartEndRadius:re.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:re.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:re.borders("borderRight"),borderInlineEnd:re.borders("borderInlineEnd"),borderBottom:re.borders("borderBottom"),borderBlockEnd:re.borders("borderBlockEnd"),borderBottomLeftRadius:re.radii("borderBottomLeftRadius"),borderBottomRightRadius:re.radii("borderBottomRightRadius"),borderLeft:re.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:re.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:re.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:re.borders(["borderLeft","borderRight"]),borderInline:re.borders("borderInline"),borderY:re.borders(["borderTop","borderBottom"]),borderBlock:re.borders("borderBlock"),borderTopWidth:re.borderWidths("borderTopWidth"),borderBlockStartWidth:re.borderWidths("borderBlockStartWidth"),borderTopColor:re.colors("borderTopColor"),borderBlockStartColor:re.colors("borderBlockStartColor"),borderTopStyle:re.borderStyles("borderTopStyle"),borderBlockStartStyle:re.borderStyles("borderBlockStartStyle"),borderBottomWidth:re.borderWidths("borderBottomWidth"),borderBlockEndWidth:re.borderWidths("borderBlockEndWidth"),borderBottomColor:re.colors("borderBottomColor"),borderBlockEndColor:re.colors("borderBlockEndColor"),borderBottomStyle:re.borderStyles("borderBottomStyle"),borderBlockEndStyle:re.borderStyles("borderBlockEndStyle"),borderLeftWidth:re.borderWidths("borderLeftWidth"),borderInlineStartWidth:re.borderWidths("borderInlineStartWidth"),borderLeftColor:re.colors("borderLeftColor"),borderInlineStartColor:re.colors("borderInlineStartColor"),borderLeftStyle:re.borderStyles("borderLeftStyle"),borderInlineStartStyle:re.borderStyles("borderInlineStartStyle"),borderRightWidth:re.borderWidths("borderRightWidth"),borderInlineEndWidth:re.borderWidths("borderInlineEndWidth"),borderRightColor:re.colors("borderRightColor"),borderInlineEndColor:re.colors("borderInlineEndColor"),borderRightStyle:re.borderStyles("borderRightStyle"),borderInlineEndStyle:re.borderStyles("borderInlineEndStyle"),borderTopRadius:re.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:re.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:re.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:re.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(un,{rounded:un.borderRadius,roundedTop:un.borderTopRadius,roundedTopLeft:un.borderTopLeftRadius,roundedTopRight:un.borderTopRightRadius,roundedTopStart:un.borderStartStartRadius,roundedTopEnd:un.borderStartEndRadius,roundedBottom:un.borderBottomRadius,roundedBottomLeft:un.borderBottomLeftRadius,roundedBottomRight:un.borderBottomRightRadius,roundedBottomStart:un.borderEndStartRadius,roundedBottomEnd:un.borderEndEndRadius,roundedLeft:un.borderLeftRadius,roundedRight:un.borderRightRadius,roundedStart:un.borderInlineStartRadius,roundedEnd:un.borderInlineEndRadius,borderStart:un.borderInlineStart,borderEnd:un.borderInlineEnd,borderTopStartRadius:un.borderStartStartRadius,borderTopEndRadius:un.borderStartEndRadius,borderBottomStartRadius:un.borderEndStartRadius,borderBottomEndRadius:un.borderEndEndRadius,borderStartRadius:un.borderInlineStartRadius,borderEndRadius:un.borderInlineEndRadius,borderStartWidth:un.borderInlineStartWidth,borderEndWidth:un.borderInlineEndWidth,borderStartColor:un.borderInlineStartColor,borderEndColor:un.borderInlineEndColor,borderStartStyle:un.borderInlineStartStyle,borderEndStyle:un.borderInlineEndStyle});var mge={color:re.colors("color"),textColor:re.colors("color"),fill:re.colors("fill"),stroke:re.colors("stroke")},KP={boxShadow:re.shadows("boxShadow"),mixBlendMode:!0,blendMode:re.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:re.prop("backgroundBlendMode"),opacity:!0};Object.assign(KP,{shadow:KP.boxShadow});var gge={filter:{transform:nn.filter},blur:re.blur("--chakra-blur"),brightness:re.propT("--chakra-brightness",nn.brightness),contrast:re.propT("--chakra-contrast",nn.contrast),hueRotate:re.degreeT("--chakra-hue-rotate"),invert:re.propT("--chakra-invert",nn.invert),saturate:re.propT("--chakra-saturate",nn.saturate),dropShadow:re.propT("--chakra-drop-shadow",nn.dropShadow),backdropFilter:{transform:nn.backdropFilter},backdropBlur:re.blur("--chakra-backdrop-blur"),backdropBrightness:re.propT("--chakra-backdrop-brightness",nn.brightness),backdropContrast:re.propT("--chakra-backdrop-contrast",nn.contrast),backdropHueRotate:re.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:re.propT("--chakra-backdrop-invert",nn.invert),backdropSaturate:re.propT("--chakra-backdrop-saturate",nn.saturate)},K_={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:nn.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:re.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:re.space("gap"),rowGap:re.space("rowGap"),columnGap:re.space("columnGap")};Object.assign(K_,{flexDir:K_.flexDirection});var N$={gridGap:re.space("gridGap"),gridColumnGap:re.space("gridColumnGap"),gridRowGap:re.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},yge={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:nn.outline},outlineOffset:!0,outlineColor:re.colors("outlineColor")},io={width:re.sizesT("width"),inlineSize:re.sizesT("inlineSize"),height:re.sizes("height"),blockSize:re.sizes("blockSize"),boxSize:re.sizes(["width","height"]),minWidth:re.sizes("minWidth"),minInlineSize:re.sizes("minInlineSize"),minHeight:re.sizes("minHeight"),minBlockSize:re.sizes("minBlockSize"),maxWidth:re.sizes("maxWidth"),maxInlineSize:re.sizes("maxInlineSize"),maxHeight:re.sizes("maxHeight"),maxBlockSize:re.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,hideFrom:{scale:"breakpoints",transform:(n,e)=>{var t,r,i;return{[(i=(r=(t=e.__breakpoints)==null?void 0:t.get(n))==null?void 0:r.minWQuery)!=null?i:`@media screen and (min-width: ${n})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(n,e)=>{var t,r,i;return{[(i=(r=(t=e.__breakpoints)==null?void 0:t.get(n))==null?void 0:r.maxWQuery)!=null?i:`@media screen and (max-width: ${n})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:re.propT("float",nn.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(io,{w:io.width,h:io.height,minW:io.minWidth,maxW:io.maxWidth,minH:io.minHeight,maxH:io.maxHeight,overscroll:io.overscrollBehavior,overscrollX:io.overscrollBehaviorX,overscrollY:io.overscrollBehaviorY});var vge={listStyleType:!0,listStylePosition:!0,listStylePos:re.prop("listStylePosition"),listStyleImage:!0,listStyleImg:re.prop("listStyleImage")};function xge(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var _ge=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},Sge=_ge(xge),wge={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},bge={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},yM=(n,e,t)=>{const r={},i=Sge(n,e,{});for(const s in i)s in t&&t[s]!=null||(r[s]=i[s]);return r},Age={srOnly:{transform(n){return n===!0?wge:n==="focusable"?bge:{}}},layerStyle:{processResult:!0,transform:(n,e,t)=>yM(e,`layerStyles.${n}`,t)},textStyle:{processResult:!0,transform:(n,e,t)=>yM(e,`textStyles.${n}`,t)},apply:{processResult:!0,transform:(n,e,t)=>yM(e,n,t)}},yg={position:!0,pos:re.prop("position"),zIndex:re.prop("zIndex","zIndices"),inset:re.spaceT("inset"),insetX:re.spaceT(["left","right"]),insetInline:re.spaceT("insetInline"),insetY:re.spaceT(["top","bottom"]),insetBlock:re.spaceT("insetBlock"),top:re.spaceT("top"),insetBlockStart:re.spaceT("insetBlockStart"),bottom:re.spaceT("bottom"),insetBlockEnd:re.spaceT("insetBlockEnd"),left:re.spaceT("left"),insetInlineStart:re.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:re.spaceT("right"),insetInlineEnd:re.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(yg,{insetStart:yg.insetInlineStart,insetEnd:yg.insetInlineEnd});var Cge={ring:{transform:nn.ring},ringColor:re.colors("--chakra-ring-color"),ringOffset:re.prop("--chakra-ring-offset-width"),ringOffsetColor:re.colors("--chakra-ring-offset-color"),ringInset:re.prop("--chakra-ring-inset")},Dn={margin:re.spaceT("margin"),marginTop:re.spaceT("marginTop"),marginBlockStart:re.spaceT("marginBlockStart"),marginRight:re.spaceT("marginRight"),marginInlineEnd:re.spaceT("marginInlineEnd"),marginBottom:re.spaceT("marginBottom"),marginBlockEnd:re.spaceT("marginBlockEnd"),marginLeft:re.spaceT("marginLeft"),marginInlineStart:re.spaceT("marginInlineStart"),marginX:re.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:re.spaceT("marginInline"),marginY:re.spaceT(["marginTop","marginBottom"]),marginBlock:re.spaceT("marginBlock"),padding:re.space("padding"),paddingTop:re.space("paddingTop"),paddingBlockStart:re.space("paddingBlockStart"),paddingRight:re.space("paddingRight"),paddingBottom:re.space("paddingBottom"),paddingBlockEnd:re.space("paddingBlockEnd"),paddingLeft:re.space("paddingLeft"),paddingInlineStart:re.space("paddingInlineStart"),paddingInlineEnd:re.space("paddingInlineEnd"),paddingX:re.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:re.space("paddingInline"),paddingY:re.space(["paddingTop","paddingBottom"]),paddingBlock:re.space("paddingBlock")};Object.assign(Dn,{m:Dn.margin,mt:Dn.marginTop,mr:Dn.marginRight,me:Dn.marginInlineEnd,marginEnd:Dn.marginInlineEnd,mb:Dn.marginBottom,ml:Dn.marginLeft,ms:Dn.marginInlineStart,marginStart:Dn.marginInlineStart,mx:Dn.marginX,my:Dn.marginY,p:Dn.padding,pt:Dn.paddingTop,py:Dn.paddingY,px:Dn.paddingX,pb:Dn.paddingBottom,pl:Dn.paddingLeft,ps:Dn.paddingInlineStart,paddingStart:Dn.paddingInlineStart,pr:Dn.paddingRight,pe:Dn.paddingInlineEnd,paddingEnd:Dn.paddingInlineEnd});var Mge={textDecorationColor:re.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:re.shadows("textShadow")},Ege={clipPath:!0,transform:re.propT("transform",nn.transform),transformOrigin:!0,translateX:re.spaceT("--chakra-translate-x"),translateY:re.spaceT("--chakra-translate-y"),skewX:re.degreeT("--chakra-skew-x"),skewY:re.degreeT("--chakra-skew-y"),scaleX:re.prop("--chakra-scale-x"),scaleY:re.prop("--chakra-scale-y"),scale:re.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:re.degreeT("--chakra-rotate")},Tge={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:re.prop("transitionDuration","transition.duration"),transitionProperty:re.prop("transitionProperty","transition.property"),transitionTimingFunction:re.prop("transitionTimingFunction","transition.easing")},Pge={fontFamily:re.prop("fontFamily","fonts"),fontSize:re.prop("fontSize","fontSizes",nn.px),fontWeight:re.prop("fontWeight","fontWeights"),lineHeight:re.prop("lineHeight","lineHeights"),letterSpacing:re.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(n){if(n===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},Ige={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:re.spaceT("scrollMargin"),scrollMarginTop:re.spaceT("scrollMarginTop"),scrollMarginBottom:re.spaceT("scrollMarginBottom"),scrollMarginLeft:re.spaceT("scrollMarginLeft"),scrollMarginRight:re.spaceT("scrollMarginRight"),scrollMarginX:re.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:re.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:re.spaceT("scrollPadding"),scrollPaddingTop:re.spaceT("scrollPaddingTop"),scrollPaddingBottom:re.spaceT("scrollPaddingBottom"),scrollPaddingLeft:re.spaceT("scrollPaddingLeft"),scrollPaddingRight:re.spaceT("scrollPaddingRight"),scrollPaddingX:re.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:re.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function F$(n){return mo(n)&&n.reference?n.reference:String(n)}var qw=(n,...e)=>e.map(F$).join(` ${n} `).replace(/calc/g,""),JF=(...n)=>`calc(${qw("+",...n)})`,qF=(...n)=>`calc(${qw("-",...n)})`,XP=(...n)=>`calc(${qw("*",...n)})`,YF=(...n)=>`calc(${qw("/",...n)})`,QF=n=>{const e=F$(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:XP(e,-1)},Uu=Object.assign(n=>({add:(...e)=>Uu(JF(n,...e)),subtract:(...e)=>Uu(qF(n,...e)),multiply:(...e)=>Uu(XP(n,...e)),divide:(...e)=>Uu(YF(n,...e)),negate:()=>Uu(QF(n)),toString:()=>n.toString()}),{add:JF,subtract:qF,multiply:XP,divide:YF,negate:QF});function Rge(n,e="-"){return n.replace(/\s+/g,e)}function Lge(n){const e=Rge(n.toString());return Dge(kge(e))}function kge(n){return n.includes("\\.")?n:!Number.isInteger(parseFloat(n.toString()))?n.replace(".","\\."):n}function Dge(n){return n.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function Bge(n,e=""){return[e,n].filter(Boolean).join("-")}function Oge(n,e){return`var(${n}${e?`, ${e}`:""})`}function Nge(n,e=""){return Lge(`--${Bge(n,e)}`)}function cn(n,e,t){const r=Nge(n,t);return{variable:r,reference:Oge(r,e)}}function Fge(n){const e=n==null?0:n.length;return e?n[e-1]:void 0}function zge(n){const e=parseFloat(n.toString()),t=n.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function JP(n){if(n==null)return n;const{unitless:e}=zge(n);return e||typeof n=="number"?`${n}px`:n}var z$=(n,e)=>parseInt(n[1],10)>parseInt(e[1],10)?1:-1,UL=n=>Object.fromEntries(Object.entries(n).sort(z$));function ZF(n){const e=UL(n);return Object.assign(Object.values(e),e)}function Uge(n){const e=Object.keys(UL(n));return new Set(e)}function ez(n){var e;if(!n)return n;n=(e=JP(n))!=null?e:n;const t=-.02;return typeof n=="number"?`${n+t}`:n.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+t}`)}function Wm(n,e){const t=["@media screen"];return n&&t.push("and",`(min-width: ${JP(n)})`),e&&t.push("and",`(max-width: ${JP(e)})`),t.join(" ")}function Hge(n){var e;if(!n)return null;n.base=(e=n.base)!=null?e:"0px";const t=ZF(n),r=Object.entries(n).sort(z$).map(([o,a],l,c)=>{var u;let[,d]=(u=c[l+1])!=null?u:[];return d=parseFloat(d)>0?ez(d):void 0,{_minW:ez(a),breakpoint:o,minW:a,maxW:d,maxWQuery:Wm(null,d),minWQuery:Wm(a),minMaxQuery:Wm(a,d)}}),i=Uge(n),s=Array.from(i.values());return{keys:i,normalized:t,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>i.has(l))},asObject:UL(n),asArray:ZF(n),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...t.map(o=>Wm(o)).slice(1)],toArrayValue(o){if(!mo(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;Fge(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const u=s[c];return u!=null&&l!=null&&(a[u]=l),a},{})}}}var ii={hover:(n,e)=>`${n}:hover ${e}, ${n}[data-hover] ${e}`,focus:(n,e)=>`${n}:focus ${e}, ${n}[data-focus] ${e}`,focusVisible:(n,e)=>`${n}:focus-visible ${e}`,focusWithin:(n,e)=>`${n}:focus-within ${e}`,active:(n,e)=>`${n}:active ${e}, ${n}[data-active] ${e}`,disabled:(n,e)=>`${n}:disabled ${e}, ${n}[data-disabled] ${e}`,invalid:(n,e)=>`${n}:invalid ${e}, ${n}[data-invalid] ${e}`,checked:(n,e)=>`${n}:checked ${e}, ${n}[data-checked] ${e}`,indeterminate:(n,e)=>`${n}:indeterminate ${e}, ${n}[aria-checked=mixed] ${e}, ${n}[data-indeterminate] ${e}`,readOnly:(n,e)=>`${n}:read-only ${e}, ${n}[readonly] ${e}, ${n}[data-read-only] ${e}`,expanded:(n,e)=>`${n}:read-only ${e}, ${n}[aria-expanded=true] ${e}, ${n}[data-expanded] ${e}`,placeholderShown:(n,e)=>`${n}:placeholder-shown ${e}`},Jl=n=>U$(e=>n(e,"&"),"[role=group]","[data-group]",".group"),Wa=n=>U$(e=>n(e,"~ &"),"[data-peer]",".peer"),U$=(n,...e)=>e.map(n).join(", "),Yw={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Jl(ii.hover),_peerHover:Wa(ii.hover),_groupFocus:Jl(ii.focus),_peerFocus:Wa(ii.focus),_groupFocusVisible:Jl(ii.focusVisible),_peerFocusVisible:Wa(ii.focusVisible),_groupActive:Jl(ii.active),_peerActive:Wa(ii.active),_groupDisabled:Jl(ii.disabled),_peerDisabled:Wa(ii.disabled),_groupInvalid:Jl(ii.invalid),_peerInvalid:Wa(ii.invalid),_groupChecked:Jl(ii.checked),_peerChecked:Wa(ii.checked),_groupFocusWithin:Jl(ii.focusWithin),_peerFocusWithin:Wa(ii.focusWithin),_peerPlaceholderShown:Wa(ii.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},Gge=Object.keys(Yw);function tz(n,e){return cn(String(n).replace(/\./g,"-"),void 0,e)}function Vge(n,e){let t={};const r={};for(const[i,s]of Object.entries(n)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=tz(i,e==null?void 0:e.cssVarPrefix);if(!o){if(i.startsWith("space")){const p=i.split("."),[m,...y]=p,g=`${m}.-${y.join(".")}`,v=Uu.negate(a),x=Uu.negate(c);r[g]={value:v,var:l,varRef:x}}t[l]=a,r[i]={value:a,var:l,varRef:c};continue}const u=p=>{const y=[String(i).split(".")[0],p].join(".");if(!n[y])return p;const{reference:v}=tz(y,e==null?void 0:e.cssVarPrefix);return v},d=mo(a)?a:{default:a};t=pa(t,Object.entries(d).reduce((p,[m,y])=>{var g,v;const x=u(y);if(m==="default")return p[l]=x,p;const _=(v=(g=Yw)==null?void 0:g[m])!=null?v:m;return p[_]={[l]:x},p},{})),r[i]={value:c,var:l,varRef:c}}return{cssVars:t,cssMap:r}}function $ge(n,e=[]){const t=Object.assign({},n);for(const r of e)r in t&&delete t[r];return t}function Wge(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}var jge=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Kge(n){return Wge(n,jge)}function Xge(n){return n.semanticTokens}function Jge(n){const{__cssMap:e,__cssVars:t,__breakpoints:r,...i}=n;return i}function qge({tokens:n,semanticTokens:e}){var t,r;const i=Object.entries((t=qP(n))!=null?t:{}).map(([o,a])=>[o,{isSemantic:!1,value:a}]),s=Object.entries((r=qP(e,1))!=null?r:{}).map(([o,a])=>[o,{isSemantic:!0,value:a}]);return Object.fromEntries([...i,...s])}function qP(n,e=1/0){return!mo(n)&&!Array.isArray(n)||!e?n:Object.entries(n).reduce((t,[r,i])=>(mo(i)||Array.isArray(i)?Object.entries(qP(i,e-1)).forEach(([s,o])=>{t[`${r}.${s}`]=o}):t[r]=i,t),{})}function Yge(n){var e;const t=Jge(n),r=Kge(t),i=Xge(t),s=qge({tokens:r,semanticTokens:i}),o=(e=t.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=Vge(s,{cssVarPrefix:o});return Object.assign(t,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:Hge(t.breakpoints)}),t}var HL=pa({},I1,un,mge,K_,io,gge,Cge,yge,N$,Age,yg,KP,Dn,Ige,Pge,Mge,Ege,vge,Tge);Object.assign({},Dn,io,K_,N$,yg);var Qge=[...Object.keys(HL),...Gge],Zge={...HL,...Yw},eye=n=>n in Zge,tye=n=>e=>{if(!e.__breakpoints)return n;const{isResponsive:t,toArrayValue:r,media:i}=e.__breakpoints,s={};for(const o in n){let a=fa(n[o],e);if(a==null)continue;if(a=mo(a)&&t(a)?r(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,i.length).length;for(let c=0;c<l;c+=1){const u=i==null?void 0:i[c];if(!u){s[o]=a[c];continue}s[u]=s[u]||{},a[c]!=null&&(s[u][o]=a[c])}}return s};function nye(n){const e=[];let t="",r=!1;for(let i=0;i<n.length;i++){const s=n[i];s==="("?(r=!0,t+=s):s===")"?(r=!1,t+=s):s===","&&!r?(e.push(t),t=""):t+=s}return t=t.trim(),t&&e.push(t),e}function rye(n){return/^var\(--.+\)$/.test(n)}var iye=(n,e)=>n.startsWith("--")&&typeof e=="string"&&!rye(e),sye=(n,e)=>{var t,r;if(e==null)return e;const i=l=>{var c,u;return(u=(c=n.__cssMap)==null?void 0:c[l])==null?void 0:u.varRef},s=l=>{var c;return(c=i(l))!=null?c:l},[o,a]=nye(e);return e=(r=(t=i(o))!=null?t:s(a))!=null?r:s(e),e};function oye(n){const{configs:e={},pseudos:t={},theme:r}=n,i=(s,o=!1)=>{var a,l,c;const u=fa(s,r),d=tye(u)(r);let p={};for(let m in d){const y=d[m];let g=fa(y,r);m in t&&(m=t[m]),iye(m,g)&&(g=sye(r,g));let v=e[m];if(v===!0&&(v={property:m}),mo(g)){p[m]=(a=p[m])!=null?a:{},p[m]=pa({},p[m],i(g,!0));continue}let x=(c=(l=v==null?void 0:v.transform)==null?void 0:l.call(v,g,r,u))!=null?c:g;x=v!=null&&v.processResult?i(x,!0):x;const _=fa(v==null?void 0:v.property,r);if(!o&&(v!=null&&v.static)){const w=fa(v.static,r);p=pa({},p,w)}if(_&&Array.isArray(_)){for(const w of _)p[w]=x;continue}if(_){_==="&"&&mo(x)?p=pa({},p,x):p[_]=x;continue}if(mo(x)){p=pa({},p,x);continue}p[m]=x}return p};return i}var H$=n=>e=>oye({theme:e,pseudos:Yw,configs:HL})(n);function Un(n){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:n,...e}}}}function aye(n,e){if(Array.isArray(n))return n;if(mo(n))return e(n);if(n!=null)return[n]}function lye(n,e){for(let t=e+1;t<n.length;t++)if(n[t]!=null)return t;return-1}function cye(n){const e=n.__breakpoints;return function(r,i,s,o){var a,l;if(!e)return;const c={},u=aye(s,e.toArrayValue);if(!u)return c;const d=u.length,p=d===1,m=!!r.parts;for(let y=0;y<d;y++){const g=e.details[y],v=e.details[lye(u,y)],x=Wm(g.minW,v==null?void 0:v._minW),_=fa((a=r[i])==null?void 0:a[u[y]],o);if(_){if(m){(l=r.parts)==null||l.forEach(w=>{pa(c,{[w]:p?_[w]:{[x]:_[w]}})});continue}if(!m){p?pa(c,_):c[x]=_;continue}c[x]=_}}return c}}function uye(n){return e=>{var t;const{variant:r,size:i,theme:s}=e,o=cye(s);return pa({},fa((t=n.baseStyle)!=null?t:{},e),o(n,"sizes",i,e),o(n,"variants",r,e))}}function GL(n){return $ge(n,["styleConfig","size","variant","colorScheme"])}var dye={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},hye=dye,fye={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},pye=fye,mye={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},gye=mye,yye={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},vye=yye,xye={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},_ye=xye,Sye={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},wye={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},bye={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},Aye={property:Sye,easing:wye,duration:bye},Cye=Aye,Mye={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Eye=Mye,Tye={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},Pye=Tye,Iye={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},G$=Iye,V$={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Rye={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},Lye={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},kye={...V$,...Rye,container:Lye},$$=kye,Dye={breakpoints:pye,zIndices:hye,radii:vye,blur:Eye,colors:gye,...G$,sizes:$$,shadows:_ye,space:V$,borders:Pye,transition:Cye};function yn(n,e={}){let t=!1;function r(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function i(...u){r();for(const d of u)e[d]=l(d);return yn(n,e)}function s(...u){for(const d of u)d in e||(e[d]=l(d));return yn(n,e)}function o(){return Object.fromEntries(Object.entries(e).map(([d,p])=>[d,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([d,p])=>[d,p.className]))}function l(u){const m=`chakra-${(["container","root"].includes(u??"")?[n]:[n,u]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>u}}return{parts:i,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var Bye=yn("accordion").parts("root","container","button","panel").extend("icon"),Oye=yn("alert").parts("title","description","container").extend("icon","spinner"),Nye=yn("avatar").parts("label","badge","container").extend("excessLabel","group"),Fye=yn("breadcrumb").parts("link","item","container").extend("separator");yn("button").parts();var zye=yn("checkbox").parts("control","icon","container").extend("label");yn("progress").parts("track","filledTrack").extend("label");var Uye=yn("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Hye=yn("editable").parts("preview","input","textarea"),Gye=yn("form").parts("container","requiredIndicator","helperText"),Vye=yn("formError").parts("text","icon"),$ye=yn("input").parts("addon","field","element"),Wye=yn("list").parts("container","item","icon"),jye=yn("menu").parts("button","list","item").extend("groupTitle","command","divider"),Kye=yn("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Xye=yn("numberinput").parts("root","field","stepperGroup","stepper");yn("pininput").parts("field");var Jye=yn("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),qye=yn("progress").parts("label","filledTrack","track"),Yye=yn("radio").parts("container","control","label"),Qye=yn("select").parts("field","icon"),Zye=yn("slider").parts("container","track","thumb","filledTrack","mark"),e0e=yn("stat").parts("container","label","helpText","number","icon"),t0e=yn("switch").parts("container","track","thumb"),n0e=yn("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),r0e=yn("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),i0e=yn("tag").parts("container","label","closeButton"),s0e=yn("card").parts("container","header","body","footer");function Zu(n,e,t){return Math.min(Math.max(n,t),e)}class o0e extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var jm=o0e;function VL(n){if(typeof n!="string")throw new jm(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=n.trim();e=p0e.test(n)?c0e(n):n;const t=u0e.exec(e);if(t){const o=Array.from(t).slice(1);return[...o.slice(0,3).map(a=>parseInt(Ty(a,2),16)),parseInt(Ty(o[3]||"f",2),16)/255]}const r=d0e.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const i=h0e.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=f0e.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Zu(0,100,a)!==a)throw new jm(n);if(Zu(0,100,l)!==l)throw new jm(n);return[...m0e(o,a,l),Number.isNaN(c)?1:c]}throw new jm(n)}function a0e(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0)%2341}const nz=n=>parseInt(n.replace(/_/g,""),36),l0e="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,e)=>{const t=nz(e.substring(0,3)),r=nz(e.substring(3)).toString(16);let i="";for(let s=0;s<6-r.length;s++)i+="0";return n[t]=`${i}${r}`,n},{});function c0e(n){const e=n.toLowerCase().trim(),t=l0e[a0e(e)];if(!t)throw new jm(n);return`#${t}`}const Ty=(n,e)=>Array.from(Array(e)).map(()=>n).join(""),u0e=new RegExp(`^#${Ty("([a-f0-9])",3)}([a-f0-9])?$`,"i"),d0e=new RegExp(`^#${Ty("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),h0e=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ty(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),f0e=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,p0e=/^[a-z]+$/i,rz=n=>Math.round(n*255),m0e=(n,e,t)=>{let r=t/100;if(e===0)return[r,r,r].map(rz);const i=(n%360+360)%360/60,s=(1-Math.abs(2*r-1))*(e/100),o=s*(1-Math.abs(i%2-1));let a=0,l=0,c=0;i>=0&&i<1?(a=s,l=o):i>=1&&i<2?(a=o,l=s):i>=2&&i<3?(l=s,c=o):i>=3&&i<4?(l=o,c=s):i>=4&&i<5?(a=o,c=s):i>=5&&i<6&&(a=s,c=o);const u=r-s/2,d=a+u,p=l+u,m=c+u;return[d,p,m].map(rz)};function g0e(n,e,t,r){return`rgba(${Zu(0,255,n).toFixed()}, ${Zu(0,255,e).toFixed()}, ${Zu(0,255,t).toFixed()}, ${parseFloat(Zu(0,1,r).toFixed(3))})`}function y0e(n,e){const[t,r,i,s]=VL(n);return g0e(t,r,i,s-e)}function v0e(n){const[e,t,r,i]=VL(n);let s=o=>{const a=Zu(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(t)}${s(r)}${i<1?s(Math.round(i*255)):""}`}function x0e(n,e,t,r,i){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)n=n?n[e[r]]:i;return n===i?t:n}var _0e=n=>Object.keys(n).length===0,$i=(n,e,t)=>{const r=x0e(n,`colors.${e}`,e);try{return v0e(r),r}catch{return t??"#000000"}},S0e=n=>{const[e,t,r]=VL(n);return(e*299+t*587+r*114)/1e3},w0e=n=>e=>{const t=$i(e,n);return S0e(t)<128?"dark":"light"},b0e=n=>e=>w0e(n)(e)==="dark",sp=(n,e)=>t=>{const r=$i(t,n);return y0e(r,1-e)};function iz(n="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${n} ${n}`}}var A0e=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function C0e(n){const e=A0e();return!n||_0e(n)?e:n.string&&n.colors?E0e(n.string,n.colors):n.string&&!n.colors?M0e(n.string):n.colors&&!n.string?T0e(n.colors):e}function M0e(n){let e=0;if(n.length===0)return e.toString();for(let r=0;r<n.length;r+=1)e=n.charCodeAt(r)+((e<<5)-e),e=e&e;let t="#";for(let r=0;r<3;r+=1){const i=e>>r*8&255;t+=`00${i.toString(16)}`.substr(-2)}return t}function E0e(n,e){let t=0;if(n.length===0)return e[0];for(let r=0;r<n.length;r+=1)t=n.charCodeAt(r)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function T0e(n){return n[Math.floor(Math.random()*n.length)]}function mt(n,e){return t=>t.colorMode==="dark"?e:n}function $L(n){const{orientation:e,vertical:t,horizontal:r}=n;return e?e==="vertical"?t:r:{}}function W$(n){return mo(n)&&n.reference?n.reference:String(n)}var Qw=(n,...e)=>e.map(W$).join(` ${n} `).replace(/calc/g,""),sz=(...n)=>`calc(${Qw("+",...n)})`,oz=(...n)=>`calc(${Qw("-",...n)})`,YP=(...n)=>`calc(${Qw("*",...n)})`,az=(...n)=>`calc(${Qw("/",...n)})`,lz=n=>{const e=W$(n);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:YP(e,-1)},qa=Object.assign(n=>({add:(...e)=>qa(sz(n,...e)),subtract:(...e)=>qa(oz(n,...e)),multiply:(...e)=>qa(YP(n,...e)),divide:(...e)=>qa(az(n,...e)),negate:()=>qa(lz(n)),toString:()=>n.toString()}),{add:sz,subtract:oz,multiply:YP,divide:az,negate:lz});function P0e(n){return!Number.isInteger(parseFloat(n.toString()))}function I0e(n,e="-"){return n.replace(/\s+/g,e)}function j$(n){const e=I0e(n.toString());return e.includes("\\.")?n:P0e(n)?e.replace(".","\\."):n}function R0e(n,e=""){return[e,j$(n)].filter(Boolean).join("-")}function L0e(n,e){return`var(${j$(n)}${e?`, ${e}`:""})`}function k0e(n,e=""){return`--${R0e(n,e)}`}function Gr(n,e){const t=k0e(n,e==null?void 0:e.prefix);return{variable:t,reference:L0e(t,D0e(e==null?void 0:e.fallback))}}function D0e(n){return typeof n=="string"?n:n==null?void 0:n.reference}var{defineMultiStyleConfig:B0e,definePartsStyle:R1}=Un(t0e.keys),vg=Gr("switch-track-width"),dd=Gr("switch-track-height"),vM=Gr("switch-track-diff"),O0e=qa.subtract(vg,dd),QP=Gr("switch-thumb-x"),Lm=Gr("switch-bg"),N0e=n=>{const{colorScheme:e}=n;return{borderRadius:"full",p:"0.5",width:[vg.reference],height:[dd.reference],transitionProperty:"common",transitionDuration:"fast",[Lm.variable]:"colors.gray.300",_dark:{[Lm.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Lm.variable]:`colors.${e}.500`,_dark:{[Lm.variable]:`colors.${e}.200`}},bg:Lm.reference}},F0e={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[dd.reference],height:[dd.reference],_checked:{transform:`translateX(${QP.reference})`}},z0e=R1(n=>({container:{[vM.variable]:O0e,[QP.variable]:vM.reference,_rtl:{[QP.variable]:qa(vM).negate().toString()}},track:N0e(n),thumb:F0e})),U0e={sm:R1({container:{[vg.variable]:"1.375rem",[dd.variable]:"sizes.3"}}),md:R1({container:{[vg.variable]:"1.875rem",[dd.variable]:"sizes.4"}}),lg:R1({container:{[vg.variable]:"2.875rem",[dd.variable]:"sizes.6"}})},H0e=B0e({baseStyle:z0e,sizes:U0e,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:G0e,definePartsStyle:bf}=Un(n0e.keys),V0e=bf({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),X_={"&[data-is-numeric=true]":{textAlign:"end"}},$0e=bf(n=>{const{colorScheme:e}=n;return{th:{color:mt("gray.600","gray.400")(n),borderBottom:"1px",borderColor:mt(`${e}.100`,`${e}.700`)(n),...X_},td:{borderBottom:"1px",borderColor:mt(`${e}.100`,`${e}.700`)(n),...X_},caption:{color:mt("gray.600","gray.100")(n)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),W0e=bf(n=>{const{colorScheme:e}=n;return{th:{color:mt("gray.600","gray.400")(n),borderBottom:"1px",borderColor:mt(`${e}.100`,`${e}.700`)(n),...X_},td:{borderBottom:"1px",borderColor:mt(`${e}.100`,`${e}.700`)(n),...X_},caption:{color:mt("gray.600","gray.100")(n)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mt(`${e}.100`,`${e}.700`)(n)},td:{background:mt(`${e}.100`,`${e}.700`)(n)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),j0e={simple:$0e,striped:W0e,unstyled:{}},K0e={sm:bf({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:bf({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:bf({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},X0e=G0e({baseStyle:V0e,variants:j0e,sizes:K0e,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),is=cn("tabs-color"),No=cn("tabs-bg"),Wx=cn("tabs-border-color"),{defineMultiStyleConfig:J0e,definePartsStyle:Sa}=Un(r0e.keys),q0e=n=>{const{orientation:e}=n;return{display:e==="vertical"?"flex":"block"}},Y0e=n=>{const{isFitted:e}=n;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},Q0e=n=>{const{align:e="start",orientation:t}=n;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},Z0e={p:4},eve=Sa(n=>({root:q0e(n),tab:Y0e(n),tablist:Q0e(n),tabpanel:Z0e})),tve={sm:Sa({tab:{py:1,px:4,fontSize:"sm"}}),md:Sa({tab:{fontSize:"md",py:2,px:4}}),lg:Sa({tab:{fontSize:"lg",py:3,px:4}})},nve=Sa(n=>{const{colorScheme:e,orientation:t}=n,r=t==="vertical",i=t==="vertical"?"borderStart":"borderBottom",s=r?"marginStart":"marginBottom";return{tablist:{[i]:"2px solid",borderColor:"inherit"},tab:{[i]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[is.variable]:`colors.${e}.600`,_dark:{[is.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[No.variable]:"colors.gray.200",_dark:{[No.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:is.reference,bg:No.reference}}}),rve=Sa(n=>{const{colorScheme:e}=n;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Wx.variable]:"transparent",_selected:{[is.variable]:`colors.${e}.600`,[Wx.variable]:"colors.white",_dark:{[is.variable]:`colors.${e}.300`,[Wx.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Wx.reference},color:is.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),ive=Sa(n=>{const{colorScheme:e}=n;return{tab:{border:"1px solid",borderColor:"inherit",[No.variable]:"colors.gray.50",_dark:{[No.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[No.variable]:"colors.white",[is.variable]:`colors.${e}.600`,_dark:{[No.variable]:"colors.gray.800",[is.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:is.reference,bg:No.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),sve=Sa(n=>{const{colorScheme:e,theme:t}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:$i(t,`${e}.700`),bg:$i(t,`${e}.100`)}}}}),ove=Sa(n=>{const{colorScheme:e}=n;return{tab:{borderRadius:"full",fontWeight:"semibold",[is.variable]:"colors.gray.600",_dark:{[is.variable]:"inherit"},_selected:{[is.variable]:"colors.white",[No.variable]:`colors.${e}.600`,_dark:{[is.variable]:"colors.gray.800",[No.variable]:`colors.${e}.300`}},color:is.reference,bg:No.reference}}}),ave=Sa({}),lve={line:nve,enclosed:rve,"enclosed-colored":ive,"soft-rounded":sve,"solid-rounded":ove,unstyled:ave},cve=J0e({baseStyle:eve,sizes:tve,variants:lve,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),uve={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},Af=cn("badge-bg"),ma=cn("badge-color"),dve=n=>{const{colorScheme:e,theme:t}=n,r=sp(`${e}.500`,.6)(t);return{[Af.variable]:`colors.${e}.500`,[ma.variable]:"colors.white",_dark:{[Af.variable]:r,[ma.variable]:"colors.whiteAlpha.800"},bg:Af.reference,color:ma.reference}},hve=n=>{const{colorScheme:e,theme:t}=n,r=sp(`${e}.200`,.16)(t);return{[Af.variable]:`colors.${e}.100`,[ma.variable]:`colors.${e}.800`,_dark:{[Af.variable]:r,[ma.variable]:`colors.${e}.200`},bg:Af.reference,color:ma.reference}},fve=n=>{const{colorScheme:e,theme:t}=n,r=sp(`${e}.200`,.8)(t);return{[ma.variable]:`colors.${e}.500`,_dark:{[ma.variable]:r},color:ma.reference,boxShadow:`inset 0 0 0px 1px ${ma.reference}`}},pve={solid:dve,subtle:hve,outline:fve},xg={baseStyle:uve,variants:pve,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:mve,definePartsStyle:hd}=Un(i0e.keys),gve={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},yve={lineHeight:1.2,overflow:"visible"},vve={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},xve=hd({container:gve,label:yve,closeButton:vve}),_ve={sm:hd({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:hd({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:hd({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},Sve={subtle:hd(n=>{var e;return{container:(e=xg.variants)==null?void 0:e.subtle(n)}}),solid:hd(n=>{var e;return{container:(e=xg.variants)==null?void 0:e.solid(n)}}),outline:hd(n=>{var e;return{container:(e=xg.variants)==null?void 0:e.outline(n)}})},wve=mve({variants:Sve,baseStyle:xve,sizes:_ve,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:rl,defineMultiStyleConfig:bve}=Un($ye.keys),Ave=rl({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),ql={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},Cve={lg:rl({field:ql.lg,addon:ql.lg}),md:rl({field:ql.md,addon:ql.md}),sm:rl({field:ql.sm,addon:ql.sm}),xs:rl({field:ql.xs,addon:ql.xs})};function WL(n){const{focusBorderColor:e,errorBorderColor:t}=n;return{focusBorderColor:e||mt("blue.500","blue.300")(n),errorBorderColor:t||mt("red.500","red.300")(n)}}var Mve=rl(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=WL(n);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mt("gray.300","whiteAlpha.400")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:$i(e,r),boxShadow:`0 0 0 1px ${$i(e,r)}`},_focusVisible:{zIndex:1,borderColor:$i(e,t),boxShadow:`0 0 0 1px ${$i(e,t)}`}},addon:{border:"1px solid",borderColor:mt("inherit","whiteAlpha.50")(n),bg:mt("gray.100","whiteAlpha.300")(n)}}}),Eve=rl(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=WL(n);return{field:{border:"2px solid",borderColor:"transparent",bg:mt("gray.100","whiteAlpha.50")(n),_hover:{bg:mt("gray.200","whiteAlpha.100")(n)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:$i(e,r)},_focusVisible:{bg:"transparent",borderColor:$i(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:mt("gray.100","whiteAlpha.50")(n)}}}),Tve=rl(n=>{const{theme:e}=n,{focusBorderColor:t,errorBorderColor:r}=WL(n);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:$i(e,r),boxShadow:`0px 1px 0px 0px ${$i(e,r)}`},_focusVisible:{borderColor:$i(e,t),boxShadow:`0px 1px 0px 0px ${$i(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),Pve=rl({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),Ive={outline:Mve,filled:Eve,flushed:Tve,unstyled:Pve},hn=bve({baseStyle:Ave,sizes:Cve,variants:Ive,defaultProps:{size:"md",variant:"outline"}}),cz,Rve={...(cz=hn.baseStyle)==null?void 0:cz.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},uz,dz,Lve={outline:n=>{var e,t;return(t=(e=hn.variants)==null?void 0:e.outline(n).field)!=null?t:{}},flushed:n=>{var e,t;return(t=(e=hn.variants)==null?void 0:e.flushed(n).field)!=null?t:{}},filled:n=>{var e,t;return(t=(e=hn.variants)==null?void 0:e.filled(n).field)!=null?t:{}},unstyled:(dz=(uz=hn.variants)==null?void 0:uz.unstyled.field)!=null?dz:{}},hz,fz,pz,mz,gz,yz,vz,xz,kve={xs:(fz=(hz=hn.sizes)==null?void 0:hz.xs.field)!=null?fz:{},sm:(mz=(pz=hn.sizes)==null?void 0:pz.sm.field)!=null?mz:{},md:(yz=(gz=hn.sizes)==null?void 0:gz.md.field)!=null?yz:{},lg:(xz=(vz=hn.sizes)==null?void 0:vz.lg.field)!=null?xz:{}},Dve={baseStyle:Rve,sizes:kve,variants:Lve,defaultProps:{size:"md",variant:"outline"}},jx=Gr("tooltip-bg"),xM=Gr("tooltip-fg"),Bve=Gr("popper-arrow-bg"),Ove={bg:jx.reference,color:xM.reference,[jx.variable]:"colors.gray.700",[xM.variable]:"colors.whiteAlpha.900",_dark:{[jx.variable]:"colors.gray.300",[xM.variable]:"colors.gray.900"},[Bve.variable]:jx.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},Nve={baseStyle:Ove},{defineMultiStyleConfig:Fve,definePartsStyle:Km}=Un(qye.keys),zve=n=>{const{colorScheme:e,theme:t,isIndeterminate:r,hasStripe:i}=n,s=mt(iz(),iz("1rem","rgba(0,0,0,0.1)"))(n),o=mt(`${e}.500`,`${e}.200`)(n),a=`linear-gradient(
    to right,
    transparent 0%,
    ${$i(t,o)} 50%,
    transparent 100%
  )`;return{...!r&&i&&s,...r?{bgImage:a}:{bgColor:o}}},Uve={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Hve=n=>({bg:mt("gray.100","whiteAlpha.300")(n)}),Gve=n=>({transitionProperty:"common",transitionDuration:"slow",...zve(n)}),Vve=Km(n=>({label:Uve,filledTrack:Gve(n),track:Hve(n)})),$ve={xs:Km({track:{h:"1"}}),sm:Km({track:{h:"2"}}),md:Km({track:{h:"3"}}),lg:Km({track:{h:"4"}})},Wve=Fve({sizes:$ve,baseStyle:Vve,defaultProps:{size:"md",colorScheme:"blue"}}),jve=n=>typeof n=="function";function Ki(n,...e){return jve(n)?n(...e):n}var{definePartsStyle:L1,defineMultiStyleConfig:Kve}=Un(zye.keys),_g=cn("checkbox-size"),Xve=n=>{const{colorScheme:e}=n;return{w:_g.reference,h:_g.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mt(`${e}.500`,`${e}.200`)(n),borderColor:mt(`${e}.500`,`${e}.200`)(n),color:mt("white","gray.900")(n),_hover:{bg:mt(`${e}.600`,`${e}.300`)(n),borderColor:mt(`${e}.600`,`${e}.300`)(n)},_disabled:{borderColor:mt("gray.200","transparent")(n),bg:mt("gray.200","whiteAlpha.300")(n),color:mt("gray.500","whiteAlpha.500")(n)}},_indeterminate:{bg:mt(`${e}.500`,`${e}.200`)(n),borderColor:mt(`${e}.500`,`${e}.200`)(n),color:mt("white","gray.900")(n)},_disabled:{bg:mt("gray.100","whiteAlpha.100")(n),borderColor:mt("gray.100","transparent")(n)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mt("red.500","red.300")(n)}}},Jve={_disabled:{cursor:"not-allowed"}},qve={userSelect:"none",_disabled:{opacity:.4}},Yve={transitionProperty:"transform",transitionDuration:"normal"},Qve=L1(n=>({icon:Yve,container:Jve,control:Ki(Xve,n),label:qve})),Zve={sm:L1({control:{[_g.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:L1({control:{[_g.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:L1({control:{[_g.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},J_=Kve({baseStyle:Qve,sizes:Zve,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:exe,definePartsStyle:k1}=Un(Yye.keys),txe=n=>{var e;const t=(e=Ki(J_.baseStyle,n))==null?void 0:e.control;return{...t,borderRadius:"full",_checked:{...t==null?void 0:t._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},nxe=k1(n=>{var e,t,r,i;return{label:(t=(e=J_).baseStyle)==null?void 0:t.call(e,n).label,container:(i=(r=J_).baseStyle)==null?void 0:i.call(r,n).container,control:txe(n)}}),rxe={md:k1({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:k1({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:k1({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},ixe=exe({baseStyle:nxe,sizes:rxe,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:sxe,definePartsStyle:oxe}=Un(Qye.keys),Kx=cn("select-bg"),_z,axe={...(_z=hn.baseStyle)==null?void 0:_z.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Kx.reference,[Kx.variable]:"colors.white",_dark:{[Kx.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Kx.reference}},lxe={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},cxe=oxe({field:axe,icon:lxe}),Xx={paddingInlineEnd:"8"},Sz,wz,bz,Az,Cz,Mz,Ez,Tz,uxe={lg:{...(Sz=hn.sizes)==null?void 0:Sz.lg,field:{...(wz=hn.sizes)==null?void 0:wz.lg.field,...Xx}},md:{...(bz=hn.sizes)==null?void 0:bz.md,field:{...(Az=hn.sizes)==null?void 0:Az.md.field,...Xx}},sm:{...(Cz=hn.sizes)==null?void 0:Cz.sm,field:{...(Mz=hn.sizes)==null?void 0:Mz.sm.field,...Xx}},xs:{...(Ez=hn.sizes)==null?void 0:Ez.xs,field:{...(Tz=hn.sizes)==null?void 0:Tz.xs.field,...Xx},icon:{insetEnd:"1"}}},dxe=sxe({baseStyle:cxe,sizes:uxe,variants:hn.variants,defaultProps:hn.defaultProps}),_M=cn("skeleton-start-color"),SM=cn("skeleton-end-color"),hxe={[_M.variable]:"colors.gray.100",[SM.variable]:"colors.gray.400",_dark:{[_M.variable]:"colors.gray.800",[SM.variable]:"colors.gray.600"},background:_M.reference,borderColor:SM.reference,opacity:.7,borderRadius:"sm"},fxe={baseStyle:hxe},wM=cn("skip-link-bg"),pxe={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[wM.variable]:"colors.white",_dark:{[wM.variable]:"colors.gray.700"},bg:wM.reference}},mxe={baseStyle:pxe},{defineMultiStyleConfig:gxe,definePartsStyle:Zw}=Un(Zye.keys),Py=cn("slider-thumb-size"),Iy=cn("slider-track-size"),oc=cn("slider-bg"),yxe=n=>{const{orientation:e}=n;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...$L({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},vxe=n=>({...$L({orientation:n.orientation,horizontal:{h:Iy.reference},vertical:{w:Iy.reference}}),overflow:"hidden",borderRadius:"sm",[oc.variable]:"colors.gray.200",_dark:{[oc.variable]:"colors.whiteAlpha.200"},_disabled:{[oc.variable]:"colors.gray.300",_dark:{[oc.variable]:"colors.whiteAlpha.300"}},bg:oc.reference}),xxe=n=>{const{orientation:e}=n;return{...$L({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Py.reference,h:Py.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},_xe=n=>{const{colorScheme:e}=n;return{width:"inherit",height:"inherit",[oc.variable]:`colors.${e}.500`,_dark:{[oc.variable]:`colors.${e}.200`},bg:oc.reference}},Sxe=Zw(n=>({container:yxe(n),track:vxe(n),thumb:xxe(n),filledTrack:_xe(n)})),wxe=Zw({container:{[Py.variable]:"sizes.4",[Iy.variable]:"sizes.1"}}),bxe=Zw({container:{[Py.variable]:"sizes.3.5",[Iy.variable]:"sizes.1"}}),Axe=Zw({container:{[Py.variable]:"sizes.2.5",[Iy.variable]:"sizes.0.5"}}),Cxe={lg:wxe,md:bxe,sm:Axe},Mxe=gxe({baseStyle:Sxe,sizes:Cxe,defaultProps:{size:"md",colorScheme:"blue"}}),Hu=Gr("spinner-size"),Exe={width:[Hu.reference],height:[Hu.reference]},Txe={xs:{[Hu.variable]:"sizes.3"},sm:{[Hu.variable]:"sizes.4"},md:{[Hu.variable]:"sizes.6"},lg:{[Hu.variable]:"sizes.8"},xl:{[Hu.variable]:"sizes.12"}},Pxe={baseStyle:Exe,sizes:Txe,defaultProps:{size:"md"}},{defineMultiStyleConfig:Ixe,definePartsStyle:K$}=Un(e0e.keys),Rxe={fontWeight:"medium"},Lxe={opacity:.8,marginBottom:"2"},kxe={verticalAlign:"baseline",fontWeight:"semibold"},Dxe={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},Bxe=K$({container:{},label:Rxe,helpText:Lxe,number:kxe,icon:Dxe}),Oxe={md:K$({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},Nxe=Ixe({baseStyle:Bxe,sizes:Oxe,defaultProps:{size:"md"}}),bM=cn("kbd-bg"),Fxe={[bM.variable]:"colors.gray.100",_dark:{[bM.variable]:"colors.whiteAlpha.100"},bg:bM.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},zxe={baseStyle:Fxe},Uxe={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Hxe={baseStyle:Uxe},{defineMultiStyleConfig:Gxe,definePartsStyle:Vxe}=Un(Wye.keys),$xe={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Wxe=Vxe({icon:$xe}),jxe=Gxe({baseStyle:Wxe}),{defineMultiStyleConfig:Kxe,definePartsStyle:Xxe}=Un(jye.keys),aa=cn("menu-bg"),AM=cn("menu-shadow"),Jxe={[aa.variable]:"#fff",[AM.variable]:"shadows.sm",_dark:{[aa.variable]:"colors.gray.700",[AM.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:aa.reference,boxShadow:AM.reference},qxe={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[aa.variable]:"colors.gray.100",_dark:{[aa.variable]:"colors.whiteAlpha.100"}},_active:{[aa.variable]:"colors.gray.200",_dark:{[aa.variable]:"colors.whiteAlpha.200"}},_expanded:{[aa.variable]:"colors.gray.100",_dark:{[aa.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:aa.reference},Yxe={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Qxe={opacity:.6},Zxe={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},e1e={transitionProperty:"common",transitionDuration:"normal"},t1e=Xxe({button:e1e,list:Jxe,item:qxe,groupTitle:Yxe,command:Qxe,divider:Zxe}),n1e=Kxe({baseStyle:t1e}),{defineMultiStyleConfig:r1e,definePartsStyle:ZP}=Un(Kye.keys),i1e={bg:"blackAlpha.600",zIndex:"modal"},s1e=n=>{const{isCentered:e,scrollBehavior:t}=n;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},o1e=n=>{const{scrollBehavior:e}=n;return{borderRadius:"md",bg:mt("white","gray.700")(n),color:"inherit",my:"16",zIndex:"modal",maxH:e==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:mt("lg","dark-lg")(n)}},a1e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},l1e={position:"absolute",top:"2",insetEnd:"3"},c1e=n=>{const{scrollBehavior:e}=n;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},u1e={px:"6",py:"4"},d1e=ZP(n=>({overlay:i1e,dialogContainer:Ki(s1e,n),dialog:Ki(o1e,n),header:a1e,closeButton:l1e,body:Ki(c1e,n),footer:u1e}));function Ro(n){return ZP(n==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:n}})}var h1e={xs:Ro("xs"),sm:Ro("sm"),md:Ro("md"),lg:Ro("lg"),xl:Ro("xl"),"2xl":Ro("2xl"),"3xl":Ro("3xl"),"4xl":Ro("4xl"),"5xl":Ro("5xl"),"6xl":Ro("6xl"),full:Ro("full")},f1e=r1e({baseStyle:d1e,sizes:h1e,defaultProps:{size:"md"}}),{defineMultiStyleConfig:p1e,definePartsStyle:X$}=Un(Xye.keys),jL=Gr("number-input-stepper-width"),J$=Gr("number-input-input-padding"),m1e=qa(jL).add("0.5rem").toString(),CM=Gr("number-input-bg"),MM=Gr("number-input-color"),EM=Gr("number-input-border-color"),g1e={[jL.variable]:"sizes.6",[J$.variable]:m1e},y1e=n=>{var e,t;return(t=(e=Ki(hn.baseStyle,n))==null?void 0:e.field)!=null?t:{}},v1e={width:jL.reference},x1e={borderStart:"1px solid",borderStartColor:EM.reference,color:MM.reference,bg:CM.reference,[MM.variable]:"colors.chakra-body-text",[EM.variable]:"colors.chakra-border-color",_dark:{[MM.variable]:"colors.whiteAlpha.800",[EM.variable]:"colors.whiteAlpha.300"},_active:{[CM.variable]:"colors.gray.200",_dark:{[CM.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},_1e=X$(n=>{var e;return{root:g1e,field:(e=Ki(y1e,n))!=null?e:{},stepperGroup:v1e,stepper:x1e}});function Jx(n){var e,t,r;const i=(e=hn.sizes)==null?void 0:e[n],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(t=i.field)==null?void 0:t.fontSize)!=null?r:"md",a=G$.fontSizes[o];return X$({field:{...i.field,paddingInlineEnd:J$.reference,verticalAlign:"top"},stepper:{fontSize:qa(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[n]},_last:{borderBottomEndRadius:s[n],mt:"-1px",borderTopWidth:1}}})}var S1e={xs:Jx("xs"),sm:Jx("sm"),md:Jx("md"),lg:Jx("lg")},w1e=p1e({baseStyle:_1e,sizes:S1e,variants:hn.variants,defaultProps:hn.defaultProps}),Pz,b1e={...(Pz=hn.baseStyle)==null?void 0:Pz.field,textAlign:"center"},A1e={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},Iz,Rz,C1e={outline:n=>{var e,t,r;return(r=(t=Ki((e=hn.variants)==null?void 0:e.outline,n))==null?void 0:t.field)!=null?r:{}},flushed:n=>{var e,t,r;return(r=(t=Ki((e=hn.variants)==null?void 0:e.flushed,n))==null?void 0:t.field)!=null?r:{}},filled:n=>{var e,t,r;return(r=(t=Ki((e=hn.variants)==null?void 0:e.filled,n))==null?void 0:t.field)!=null?r:{}},unstyled:(Rz=(Iz=hn.variants)==null?void 0:Iz.unstyled.field)!=null?Rz:{}},M1e={baseStyle:b1e,sizes:A1e,variants:C1e,defaultProps:hn.defaultProps},{defineMultiStyleConfig:E1e,definePartsStyle:T1e}=Un(Jye.keys),qx=Gr("popper-bg"),P1e=Gr("popper-arrow-bg"),Lz=Gr("popper-arrow-shadow-color"),I1e={zIndex:10},R1e={[qx.variable]:"colors.white",bg:qx.reference,[P1e.variable]:qx.reference,[Lz.variable]:"colors.gray.200",_dark:{[qx.variable]:"colors.gray.700",[Lz.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},L1e={px:3,py:2,borderBottomWidth:"1px"},k1e={px:3,py:2},D1e={px:3,py:2,borderTopWidth:"1px"},B1e={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},O1e=T1e({popper:I1e,content:R1e,header:L1e,body:k1e,footer:D1e,closeButton:B1e}),N1e=E1e({baseStyle:O1e}),{definePartsStyle:e2,defineMultiStyleConfig:F1e}=Un(Uye.keys),TM=cn("drawer-bg"),PM=cn("drawer-box-shadow");function Lh(n){return e2(n==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:n}})}var z1e={bg:"blackAlpha.600",zIndex:"overlay"},U1e={display:"flex",zIndex:"modal",justifyContent:"center"},H1e=n=>{const{isFullHeight:e}=n;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[TM.variable]:"colors.white",[PM.variable]:"shadows.lg",_dark:{[TM.variable]:"colors.gray.700",[PM.variable]:"shadows.dark-lg"},bg:TM.reference,boxShadow:PM.reference}},G1e={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},V1e={position:"absolute",top:"2",insetEnd:"3"},$1e={px:"6",py:"2",flex:"1",overflow:"auto"},W1e={px:"6",py:"4"},j1e=e2(n=>({overlay:z1e,dialogContainer:U1e,dialog:Ki(H1e,n),header:G1e,closeButton:V1e,body:$1e,footer:W1e})),K1e={xs:Lh("xs"),sm:Lh("md"),md:Lh("lg"),lg:Lh("2xl"),xl:Lh("4xl"),full:Lh("full")},X1e=F1e({baseStyle:j1e,sizes:K1e,defaultProps:{size:"xs"}}),{definePartsStyle:J1e,defineMultiStyleConfig:q1e}=Un(Hye.keys),Y1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},Q1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Z1e={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},e_e=J1e({preview:Y1e,input:Q1e,textarea:Z1e}),t_e=q1e({baseStyle:e_e}),{definePartsStyle:n_e,defineMultiStyleConfig:r_e}=Un(Gye.keys),Cf=cn("form-control-color"),i_e={marginStart:"1",[Cf.variable]:"colors.red.500",_dark:{[Cf.variable]:"colors.red.300"},color:Cf.reference},s_e={mt:"2",[Cf.variable]:"colors.gray.600",_dark:{[Cf.variable]:"colors.whiteAlpha.600"},color:Cf.reference,lineHeight:"normal",fontSize:"sm"},o_e=n_e({container:{width:"100%",position:"relative"},requiredIndicator:i_e,helperText:s_e}),a_e=r_e({baseStyle:o_e}),{definePartsStyle:l_e,defineMultiStyleConfig:c_e}=Un(Vye.keys),Mf=cn("form-error-color"),u_e={[Mf.variable]:"colors.red.500",_dark:{[Mf.variable]:"colors.red.300"},color:Mf.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},d_e={marginEnd:"0.5em",[Mf.variable]:"colors.red.500",_dark:{[Mf.variable]:"colors.red.300"},color:Mf.reference},h_e=l_e({text:u_e,icon:d_e}),f_e=c_e({baseStyle:h_e}),p_e={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},m_e={baseStyle:p_e},g_e={fontFamily:"heading",fontWeight:"bold"},y_e={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},v_e={baseStyle:g_e,sizes:y_e,defaultProps:{size:"xl"}},{defineMultiStyleConfig:x_e,definePartsStyle:__e}=Un(Fye.keys),S_e={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},w_e=__e({link:S_e}),b_e=x_e({baseStyle:w_e}),A_e={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},q$=n=>{const{colorScheme:e,theme:t}=n;if(e==="gray")return{color:mt("inherit","whiteAlpha.900")(n),_hover:{bg:mt("gray.100","whiteAlpha.200")(n)},_active:{bg:mt("gray.200","whiteAlpha.300")(n)}};const r=sp(`${e}.200`,.12)(t),i=sp(`${e}.200`,.24)(t);return{color:mt(`${e}.600`,`${e}.200`)(n),bg:"transparent",_hover:{bg:mt(`${e}.50`,r)(n)},_active:{bg:mt(`${e}.100`,i)(n)}}},C_e=n=>{const{colorScheme:e}=n,t=mt("gray.200","whiteAlpha.300")(n);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Ki(q$,n)}},M_e={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},E_e=n=>{var e;const{colorScheme:t}=n;if(t==="gray"){const l=mt("gray.100","whiteAlpha.200")(n);return{bg:l,_hover:{bg:mt("gray.200","whiteAlpha.300")(n),_disabled:{bg:l}},_active:{bg:mt("gray.300","whiteAlpha.400")(n)}}}const{bg:r=`${t}.500`,color:i="white",hoverBg:s=`${t}.600`,activeBg:o=`${t}.700`}=(e=M_e[t])!=null?e:{},a=mt(r,`${t}.200`)(n);return{bg:a,color:mt(i,"gray.800")(n),_hover:{bg:mt(s,`${t}.300`)(n),_disabled:{bg:a}},_active:{bg:mt(o,`${t}.400`)(n)}}},T_e=n=>{const{colorScheme:e}=n;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mt(`${e}.500`,`${e}.200`)(n),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mt(`${e}.700`,`${e}.500`)(n)}}},P_e={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},I_e={ghost:q$,outline:C_e,solid:E_e,link:T_e,unstyled:P_e},R_e={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},L_e={baseStyle:A_e,variants:I_e,sizes:R_e,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:fd,defineMultiStyleConfig:k_e}=Un(s0e.keys),q_=cn("card-bg"),ll=cn("card-padding"),Y$=cn("card-shadow"),D1=cn("card-radius"),Q$=cn("card-border-width","0"),Z$=cn("card-border-color"),D_e=fd({container:{[q_.variable]:"colors.chakra-body-bg",backgroundColor:q_.reference,boxShadow:Y$.reference,borderRadius:D1.reference,color:"chakra-body-text",borderWidth:Q$.reference,borderColor:Z$.reference},body:{padding:ll.reference,flex:"1 1 0%"},header:{padding:ll.reference},footer:{padding:ll.reference}}),B_e={sm:fd({container:{[D1.variable]:"radii.base",[ll.variable]:"space.3"}}),md:fd({container:{[D1.variable]:"radii.md",[ll.variable]:"space.5"}}),lg:fd({container:{[D1.variable]:"radii.xl",[ll.variable]:"space.7"}})},O_e={elevated:fd({container:{[Y$.variable]:"shadows.base",_dark:{[q_.variable]:"colors.gray.700"}}}),outline:fd({container:{[Q$.variable]:"1px",[Z$.variable]:"colors.chakra-border-color"}}),filled:fd({container:{[q_.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[ll.variable]:0},header:{[ll.variable]:0},footer:{[ll.variable]:0}}},N_e=k_e({baseStyle:D_e,variants:O_e,sizes:B_e,defaultProps:{variant:"elevated",size:"md"}}),Sg=Gr("close-button-size"),km=Gr("close-button-bg"),F_e={w:[Sg.reference],h:[Sg.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[km.variable]:"colors.blackAlpha.100",_dark:{[km.variable]:"colors.whiteAlpha.100"}},_active:{[km.variable]:"colors.blackAlpha.200",_dark:{[km.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:km.reference},z_e={lg:{[Sg.variable]:"sizes.10",fontSize:"md"},md:{[Sg.variable]:"sizes.8",fontSize:"xs"},sm:{[Sg.variable]:"sizes.6",fontSize:"2xs"}},U_e={baseStyle:F_e,sizes:z_e,defaultProps:{size:"md"}},{variants:H_e,defaultProps:G_e}=xg,V_e={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},$_e={baseStyle:V_e,variants:H_e,defaultProps:G_e},W_e={w:"100%",mx:"auto",maxW:"prose",px:"4"},j_e={baseStyle:W_e},K_e={opacity:.6,borderColor:"inherit"},X_e={borderStyle:"solid"},J_e={borderStyle:"dashed"},q_e={solid:X_e,dashed:J_e},Y_e={baseStyle:K_e,variants:q_e,defaultProps:{variant:"solid"}},{definePartsStyle:Q_e,defineMultiStyleConfig:Z_e}=Un(Bye.keys),eSe={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},tSe={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},nSe={pt:"2",px:"4",pb:"5"},rSe={fontSize:"1.25em"},iSe=Q_e({container:eSe,button:tSe,panel:nSe,icon:rSe}),sSe=Z_e({baseStyle:iSe}),{definePartsStyle:R0,defineMultiStyleConfig:oSe}=Un(Oye.keys),Os=cn("alert-fg"),Al=cn("alert-bg"),aSe=R0({container:{bg:Al.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:Os.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:Os.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function KL(n){const{theme:e,colorScheme:t}=n,r=sp(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:r}}var lSe=R0(n=>{const{colorScheme:e}=n,t=KL(n);return{container:{[Os.variable]:`colors.${e}.500`,[Al.variable]:t.light,_dark:{[Os.variable]:`colors.${e}.200`,[Al.variable]:t.dark}}}}),cSe=R0(n=>{const{colorScheme:e}=n,t=KL(n);return{container:{[Os.variable]:`colors.${e}.500`,[Al.variable]:t.light,_dark:{[Os.variable]:`colors.${e}.200`,[Al.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:Os.reference}}}),uSe=R0(n=>{const{colorScheme:e}=n,t=KL(n);return{container:{[Os.variable]:`colors.${e}.500`,[Al.variable]:t.light,_dark:{[Os.variable]:`colors.${e}.200`,[Al.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:Os.reference}}}),dSe=R0(n=>{const{colorScheme:e}=n;return{container:{[Os.variable]:"colors.white",[Al.variable]:`colors.${e}.500`,_dark:{[Os.variable]:"colors.gray.900",[Al.variable]:`colors.${e}.200`},color:Os.reference}}}),hSe={subtle:lSe,"left-accent":cSe,"top-accent":uSe,solid:dSe},fSe=oSe({baseStyle:aSe,variants:hSe,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:eW,defineMultiStyleConfig:pSe}=Un(Nye.keys),Ef=cn("avatar-border-color"),IM=cn("avatar-bg"),mSe={borderRadius:"full",border:"0.2em solid",[Ef.variable]:"white",_dark:{[Ef.variable]:"colors.gray.800"},borderColor:Ef.reference},gSe={[IM.variable]:"colors.gray.200",_dark:{[IM.variable]:"colors.whiteAlpha.400"},bgColor:IM.reference},kz=cn("avatar-background"),ySe=n=>{const{name:e,theme:t}=n,r=e?C0e({string:e}):"colors.gray.400",i=b0e(r)(t);let s="white";return i||(s="gray.800"),{bg:kz.reference,"&:not([data-loaded])":{[kz.variable]:r},color:s,[Ef.variable]:"colors.white",_dark:{[Ef.variable]:"colors.gray.800"},borderColor:Ef.reference,verticalAlign:"top"}},vSe=eW(n=>({badge:Ki(mSe,n),excessLabel:Ki(gSe,n),container:Ki(ySe,n)}));function Yl(n){const e=n!=="100%"?$$[n]:void 0;return eW({container:{width:n,height:n,fontSize:`calc(${e??n} / 2.5)`},excessLabel:{width:n,height:n},label:{fontSize:`calc(${e??n} / 2.5)`,lineHeight:n!=="100%"?e??n:void 0}})}var xSe={"2xs":Yl(4),xs:Yl(6),sm:Yl(8),md:Yl(12),lg:Yl(16),xl:Yl(24),"2xl":Yl(32),full:Yl("100%")},_Se=pSe({baseStyle:vSe,sizes:xSe,defaultProps:{size:"md"}}),SSe={Accordion:sSe,Alert:fSe,Avatar:_Se,Badge:xg,Breadcrumb:b_e,Button:L_e,Checkbox:J_,CloseButton:U_e,Code:$_e,Container:j_e,Divider:Y_e,Drawer:X1e,Editable:t_e,Form:a_e,FormError:f_e,FormLabel:m_e,Heading:v_e,Input:hn,Kbd:zxe,Link:Hxe,List:jxe,Menu:n1e,Modal:f1e,NumberInput:w1e,PinInput:M1e,Popover:N1e,Progress:Wve,Radio:ixe,Select:dxe,Skeleton:fxe,SkipLink:mxe,Slider:Mxe,Spinner:Pxe,Stat:Nxe,Switch:H0e,Table:X0e,Tabs:cve,Tag:wve,Textarea:Dve,Tooltip:Nve,Card:N_e},wSe={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},bSe={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}},ASe="ltr",CSe={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},MSe={semanticTokens:wSe,direction:ASe,...Dye,components:SSe,styles:bSe,config:CSe};function ESe(n,e){const t={};return Object.keys(n).forEach(r=>{e.includes(r)||(t[r]=n[r])}),t}function TSe(n,e,t,r){const i=typeof e=="string"?e.split("."):[e];for(r=0;r<i.length&&n;r+=1)n=n[i[r]];return n===void 0?t:n}var PSe=n=>{const e=new WeakMap;return(r,i,s,o)=>{if(typeof r>"u")return n(r,i,s);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(i))return a.get(i);const l=n(r,i,s,o);return a.set(i,l),l}},tW=PSe(TSe);function nW(n,e){const t={};return Object.keys(n).forEach(r=>{const i=n[r];e(i,r,n)&&(t[r]=i)}),t}var rW=n=>nW(n,e=>e!=null);function ISe(n){return typeof n=="function"}function iW(n,...e){return ISe(n)?n(...e):n}var RSe=typeof Element<"u",LSe=typeof Map=="function",kSe=typeof Set=="function",DSe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function B1(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!B1(n[r],e[r]))return!1;return!0}var s;if(LSe&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=n.entries();!(r=s.next()).done;)if(!B1(r.value[1],e.get(r.value[0])))return!1;return!0}if(kSe&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(DSe&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(RSe&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!B1(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var BSe=function(e,t){try{return B1(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};function sW(n,e={}){var t;const{styleConfig:r,...i}=e,{theme:s,colorMode:o}=k$(),a=n?tW(s,`components.${n}`):void 0,l=r||a,c=pa({theme:s,colorMode:o},(t=l==null?void 0:l.defaultProps)!=null?t:{},rW(ESe(i,["children"]))),u=D.useRef({});if(l){const p=uye(l)(c);BSe(u.current,p)||(u.current=p)}return u.current}function XL(n,e={}){return sW(n,e)}function OSe(n,e={}){return sW(n,e)}var NSe=new Set([...Qge,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),FSe=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function zSe(n){return FSe.has(n)||!NSe.has(n)}function USe(n,...e){if(n==null)throw new TypeError("Cannot convert undefined or null to object");const t={...n};for(const r of e)if(r!=null)for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(i in t&&delete t[i],t[i]=r[i]);return t}var HSe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GSe=v$(function(n){return HSe.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),VSe=GSe,$Se=function(e){return e!=="theme"},Dz=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?VSe:$Se},Bz=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},WSe=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return b$(t,r,i),Ime(function(){return A$(t,r,i)}),null},jSe=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=Bz(e,t,r),l=a||Dz(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)d.push(u[m],u[0][m])}var y=T$(function(g,v,x){var _=c&&g.as||i,w="",A=[],T=g;if(g.theme==null){T={};for(var P in g)T[P]=g[P];T.theme=D.useContext(Ey)}typeof g.className=="string"?w=bme(v.registered,A,g.className):g.className!=null&&(w=g.className+" ");var L=BL(d.concat(A),v.registered,T);w+=v.key+"-"+L.name,o!==void 0&&(w+=" "+o);var M=c&&a===void 0?Dz(_):l,R={};for(var k in g)c&&k==="as"||M(k)&&(R[k]=g[k]);return R.className=w,R.ref=x,D.createElement(D.Fragment,null,D.createElement(WSe,{cache:v,serialized:L,isStringTag:typeof _=="string"}),D.createElement(_,R))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(g,v){return n(g,vl({},t,v,{shouldForwardProp:Bz(y,v,!0)})).apply(void 0,d)},y}},KSe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Y_=jSe.bind();KSe.forEach(function(n){Y_[n]=Y_(n)});var Oz,XSe=(Oz=Y_.default)!=null?Oz:Y_,JSe=({baseStyle:n})=>e=>{const{theme:t,css:r,__css:i,sx:s,...o}=e,a=nW(o,(d,p)=>eye(p)),l=iW(n,e),c=USe({},i,l,rW(a),s),u=H$(c)(e.theme);return r?[u,r]:u};function RM(n,e){const{baseStyle:t,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=zSe);const i=JSe({baseStyle:t}),s=XSe(n,r)(i);return ul.forwardRef(function(l,c){const{colorMode:u,forced:d}=FL();return ul.createElement(s,{ref:c,"data-theme":d?u:void 0,...l})})}function qSe(){const n=new Map;return new Proxy(RM,{apply(e,t,r){return RM(...r)},get(e,t){return n.has(t)||n.set(t,RM(t)),n.get(t)}})}var Xo=qSe();function Dp(n){return D.forwardRef(n)}function YSe(n={}){const{strict:e=!0,errorMessage:t="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=n,i=D.createContext(void 0);i.displayName=r;function s(){var o;const a=D.useContext(i);if(!a&&e){const l=new Error(t);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,s),l}return a}return[i.Provider,s,i]}function QSe(n){const{cssVarsRoot:e,theme:t,children:r}=n,i=D.useMemo(()=>Yge(t),[t]);return G(kme,{theme:i,children:[C(ZSe,{root:e}),r]})}function ZSe({root:n=":host, :root"}){const e=[n,"[data-theme]"].join(",");return C(Xw,{styles:t=>({[e]:t.__cssVars})})}YSe({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function ewe(){const{colorMode:n}=FL();return C(Xw,{styles:e=>{const t=tW(e,"styles.global"),r=iW(t,{theme:e,colorMode:n});return r?H$(r)(e):void 0}})}var oW=D.createContext({getDocument(){return document},getWindow(){return window}});oW.displayName="EnvironmentContext";function aW(n){const{children:e,environment:t,disabled:r}=n,i=D.useRef(null),s=D.useMemo(()=>t||{getDocument:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=i.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[t]),o=!r||!t;return G(oW.Provider,{value:s,children:[e,o&&C("span",{id:"__chakra_env",hidden:!0,ref:i})]})}aW.displayName="EnvironmentProvider";var twe=n=>{const{children:e,colorModeManager:t,portalZIndex:r,resetCSS:i=!0,theme:s={},environment:o,cssVarsRoot:a,disableEnvironment:l}=n,c=C(aW,{environment:o,disabled:l,children:e});return C(QSe,{theme:s,cssVarsRoot:a,children:G(L$,{colorModeManager:t,options:s.config,children:[i?C(Nme,{}):C(Ome,{}),C(ewe,{}),r?C(I$,{zIndex:r,children:c}):c]})})},nwe=(n,e)=>n.find(t=>t.id===e);function Nz(n,e){const t=lW(n,e),r=t?n[t].findIndex(i=>i.id===e):-1;return{position:t,index:r}}function lW(n,e){for(const[t,r]of Object.entries(n))if(nwe(r,e))return t}function rwe(n){const e=n.includes("right"),t=n.includes("left");let r="center";return e&&(r="flex-end"),t&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function iwe(n){const t=n==="top"||n==="bottom"?"0 auto":void 0,r=n.includes("top")?"env(safe-area-inset-top, 0px)":void 0,i=n.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,s=n.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=n.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:t,top:r,bottom:i,right:s,left:o}}function swe(n,e=[]){const t=D.useRef(n);return D.useEffect(()=>{t.current=n}),D.useCallback((...r)=>{var i;return(i=t.current)==null?void 0:i.call(t,...r)},e)}function owe(n,e){const t=swe(n);D.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{t()},e),()=>{r&&window.clearTimeout(r)}},[e,t])}function Fz(n,e){const t=D.useRef(!1),r=D.useRef(!1);D.useEffect(()=>{if(t.current&&r.current)return n();r.current=!0},e),D.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[])}const cW=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),eb=D.createContext({}),L0=D.createContext(null),tb=typeof document<"u",Q_=tb?D.useLayoutEffect:D.useEffect,uW=D.createContext({strict:!1});function awe(n,e,t,r){const{visualElement:i}=D.useContext(eb),s=D.useContext(uW),o=D.useContext(L0),a=D.useContext(cW).reducedMotion,l=D.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return D.useInsertionEffect(()=>{c&&c.update(t,o)}),Q_(()=>{c&&c.render()}),D.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?Q_:D.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function rf(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function lwe(n,e,t){return D.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):rf(t)&&(t.current=r))},[e])}function Ry(n){return typeof n=="string"||Array.isArray(n)}function nb(n){return typeof n=="object"&&typeof n.start=="function"}const JL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qL=["initial",...JL];function rb(n){return nb(n.animate)||qL.some(e=>Ry(n[e]))}function dW(n){return Boolean(rb(n)||n.variants)}function cwe(n,e){if(rb(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ry(t)?t:void 0,animate:Ry(r)?r:void 0}}return n.inherit!==!1?e:{}}function uwe(n){const{initial:e,animate:t}=cwe(n,D.useContext(eb));return D.useMemo(()=>({initial:e,animate:t}),[zz(e),zz(t)])}function zz(n){return Array.isArray(n)?n.join(" "):n}const Uz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ly={};for(const n in Uz)Ly[n]={isEnabled:e=>Uz[n].some(t=>!!e[t])};function dwe(n){for(const e in n)Ly[e]={...Ly[e],...n[e]}}function YL(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const wg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hwe=1;function fwe(){return YL(()=>{if(wg.hasEverUpdated)return hwe++})}const QL=D.createContext({}),hW=D.createContext({}),pwe=Symbol.for("motionComponentSymbol");function mwe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&dwe(n);function s(a,l){let c;const u={...D.useContext(cW),...a,layoutId:gwe(a)},{isStatic:d}=u,p=uwe(a),m=d?void 0:fwe(),y=r(a,d);if(!d&&tb){p.visualElement=awe(i,y,u,e);const g=D.useContext(hW),v=D.useContext(uW).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,v,n,m,g))}return D.createElement(eb.Provider,{value:p},c&&p.visualElement?D.createElement(c,{visualElement:p.visualElement,...u}):null,t(i,a,m,lwe(y,p.visualElement,l),y,d,p.visualElement))}const o=D.forwardRef(s);return o[pwe]=i,o}function gwe({layoutId:n}){const e=D.useContext(QL).id;return e&&n!==void 0?e+"-"+n:n}function ywe(n){function e(r,i={}){return mwe(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const vwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZL(n){return typeof n!="string"||n.includes("-")?!1:!!(vwe.indexOf(n)>-1||/[A-Z]/.test(n))}const Z_={};function xwe(n){Object.assign(Z_,n)}const ib=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vd=new Set(ib);function fW(n,{layout:e,layoutId:t}){return Vd.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Z_[n]||n==="opacity")}const hs=n=>Boolean(n&&n.getVelocity),_we={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Swe=ib.length;function wwe(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Swe;o++){const a=ib[o];if(n[a]!==void 0){const l=_we[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const pW=n=>e=>typeof e=="string"&&e.startsWith(n),mW=pW("--"),t2=pW("var(--"),bwe=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Pd=(n,e,t)=>Math.min(Math.max(t,n),e),$d={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},bg={...$d,transform:n=>Pd(0,1,n)},Yx={...$d,default:1},Ag=n=>Math.round(n*1e5)/1e5,ky=/(-)?([\d]*\.?[\d])+/g,n2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Awe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function k0(n){return typeof n=="string"}const D0=n=>({test:e=>k0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ql=D0("deg"),wa=D0("%"),xt=D0("px"),Cwe=D0("vh"),Mwe=D0("vw"),Hz={...wa,parse:n=>wa.parse(n)/100,transform:n=>wa.transform(n*100)},Gz={...$d,transform:Math.round},gW={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,size:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,rotate:Ql,rotateX:Ql,rotateY:Ql,rotateZ:Ql,scale:Yx,scaleX:Yx,scaleY:Yx,scaleZ:Yx,skew:Ql,skewX:Ql,skewY:Ql,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:bg,originX:Hz,originY:Hz,originZ:xt,zIndex:Gz,fillOpacity:bg,strokeOpacity:bg,numOctaves:Gz};function ek(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const d in e){const p=e[d];if(mW(d)){s[d]=p;continue}const m=gW[d],y=bwe(p,m);if(Vd.has(d)){if(l=!0,o[d]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=y):i[d]=y}if(e.transform||(l||r?i.transform=wwe(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}const tk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yW(n,e,t){for(const r in e)!hs(e[r])&&!fW(r,t)&&(n[r]=e[r])}function Ewe({transformTemplate:n},e,t){return D.useMemo(()=>{const r=tk();return ek(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function Twe(n,e,t){const r=n.style||{},i={};return yW(i,r,n),Object.assign(i,Ewe(n,e,t)),n.transformValues?n.transformValues(i):i}function Pwe(n,e,t){const r={},i=Twe(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Iwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function eS(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Iwe.has(n)}let vW=n=>!eS(n);function Rwe(n){n&&(vW=e=>e.startsWith("on")?!eS(e):n(e))}try{Rwe(require("@emotion/is-prop-valid").default)}catch{}function Lwe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(vW(i)||t===!0&&eS(i)||!e&&!eS(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function Vz(n,e,t){return typeof n=="string"?n:xt.transform(e+t*n)}function kwe(n,e,t){const r=Vz(e,n.x,n.width),i=Vz(t,n.y,n.height);return`${r} ${i}`}const Dwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bwe={offset:"strokeDashoffset",array:"strokeDasharray"};function Owe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Dwe:Bwe;n[s.offset]=xt.transform(-r);const o=xt.transform(e),a=xt.transform(t);n[s.array]=`${o} ${a}`}function nk(n,{attrX:e,attrY:t,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(ek(n,l,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=kwe(y,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&Owe(p,s,o,a,!1)}const xW=()=>({...tk(),attrs:{}}),rk=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Nwe(n,e,t,r){const i=D.useMemo(()=>{const s=xW();return nk(s,e,{enableHardwareAcceleration:!1},rk(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};yW(s,n.style,n),i.style={...s,...i.style}}return i}function Fwe(n=!1){return(t,r,i,s,{latestValues:o},a)=>{const c=(ZL(t)?Nwe:Pwe)(r,o,a,t),d={...Lwe(r,typeof t=="string",n),...c,ref:s},{children:p}=r,m=D.useMemo(()=>hs(p)?p.get():p,[p]);return i&&(d["data-projection-id"]=i),D.createElement(t,{...d,children:m})}}const ik=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function _W(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const SW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wW(n,e,t,r){_W(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(SW.has(i)?i:ik(i),e.attrs[i])}function sk(n,e){const{style:t}=n,r={};for(const i in t)(hs(t[i])||e.style&&hs(e.style[i])||fW(i,n))&&(r[i]=t[i]);return r}function bW(n,e){const t=sk(n,e);for(const r in n)if(hs(n[r])||hs(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;t[i]=n[r]}return t}function ok(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}const tS=n=>Array.isArray(n),zwe=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),Uwe=n=>tS(n)?n[n.length-1]||0:n;function O1(n){const e=hs(n)?n.get():n;return zwe(e)?e.toValue():e}function Hwe({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Gwe(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const AW=n=>(e,t)=>{const r=D.useContext(eb),i=D.useContext(L0),s=()=>Hwe(n,e,r,i);return t?s():YL(s)};function Gwe(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=O1(s[p]);let{initial:o,animate:a}=n;const l=rb(n),c=dW(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!nb(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=ok(n,m);if(!y)return;const{transitionEnd:g,transition:v,...x}=y;for(const _ in x){let w=x[_];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in g)i[_]=g[_]}),i}const Vwe={useVisualState:AW({scrapeMotionValuesFromProps:bW,createRenderState:xW,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}nk(t,r,{enableHardwareAcceleration:!1},rk(e.tagName),n.transformTemplate),wW(e,t)}})},$we={useVisualState:AW({scrapeMotionValuesFromProps:sk,createRenderState:tk})};function Wwe(n,{forwardMotionProps:e=!1},t,r){return{...ZL(n)?Vwe:$we,preloadedFeatures:t,useRender:Fwe(e),createVisualElement:r,Component:n}}function il(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const CW=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function sb(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const jwe=n=>e=>CW(e)&&n(e,sb(e));function cl(n,e,t,r){return il(n,e,jwe(t),r)}const Kwe=(n,e)=>t=>e(n(t)),Pc=(...n)=>n.reduce(Kwe);function MW(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const $z=MW("dragHorizontal"),Wz=MW("dragVertical");function EW(n){let e=!1;if(n==="y")e=Wz();else if(n==="x")e=$z();else{const t=$z(),r=Wz();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function TW(){const n=EW(!0);return n?(n(),!1):!0}class tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Xwe(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,p=d?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const Ic={delta:0,timestamp:0},Jwe=40;let r2=!0,Dy=!1,i2=!1;const B0=["read","update","preRender","render","postRender"],ob=B0.reduce((n,e)=>(n[e]=Xwe(()=>Dy=!0),n),{}),zn=B0.reduce((n,e)=>{const t=ob[e];return n[e]=(r,i=!1,s=!1)=>(Dy||Ywe(),t.schedule(r,i,s)),n},{}),Gc=B0.reduce((n,e)=>(n[e]=ob[e].cancel,n),{}),LM=B0.reduce((n,e)=>(n[e]=()=>ob[e].process(Ic),n),{}),qwe=n=>ob[n].process(Ic),PW=n=>{Dy=!1,Ic.delta=r2?1e3/60:Math.max(Math.min(n-Ic.timestamp,Jwe),1),Ic.timestamp=n,i2=!0,B0.forEach(qwe),i2=!1,Dy&&(r2=!1,requestAnimationFrame(PW))},Ywe=()=>{Dy=!0,r2=!0,i2||requestAnimationFrame(PW)};function jz(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||TW())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&zn.update(()=>a[r](s,o))};return cl(n.current,t,i,{passive:!n.getProps()[r]})}class Qwe extends tu{mount(){this.unmount=Pc(jz(this.node,!0),jz(this.node,!1))}unmount(){}}class Zwe extends tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(il(this.node.current,"focus",()=>this.onFocus()),il(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IW=(n,e)=>e?n===e?!0:IW(n,e.parentElement):!1,go=n=>n;function kM(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,sb(t))}class ebe extends tu{constructor(){super(...arguments),this.removeStartListeners=go,this.removeEndListeners=go,this.removeAccessibleListeners=go,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=cl(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();zn.update(()=>{IW(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=cl(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Pc(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||kM("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&zn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=il(this.node.current,"keyup",o),kM("down",(a,l)=>{this.startPress(a,l)})},t=il(this.node.current,"keydown",e),r=()=>{this.isPressing&&kM("cancel",(s,o)=>this.cancelPress(s,o))},i=il(this.node.current,"blur",r);this.removeAccessibleListeners=Pc(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&zn.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!TW()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&zn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=cl(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=il(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pc(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const s2=new WeakMap,DM=new WeakMap,tbe=n=>{const e=s2.get(n.target);e&&e(n)},nbe=n=>{n.forEach(tbe)};function rbe({root:n,...e}){const t=n||document;DM.has(t)||DM.set(t,{});const r=DM.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nbe,{root:n,...e})),r[i]}function ibe(n,e,t){const r=rbe(e);return s2.set(n,t),r.observe(n),()=>{s2.delete(n),r.unobserve(n)}}const sbe={some:0,all:1};class obe extends tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sbe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return ibe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(abe(e,t))&&this.startObserver()}unmount(){}}function abe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const lbe={inView:{Feature:obe},tap:{Feature:ebe},focus:{Feature:Zwe},hover:{Feature:Qwe}};function RW(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const cbe=n=>/^\-?\d*\.?\d+$/.test(n),ube=n=>/^0[^.\s]+$/.test(n);function ak(n,e){n.indexOf(e)===-1&&n.push(e)}function lk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ck{constructor(){this.subscriptions=[]}add(e){return ak(this.subscriptions,e),()=>lk(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LW(n,e){return e?n*(1e3/e):0}const dbe=n=>!isNaN(parseFloat(n));class hbe{constructor(e,t={}){this.version="10.2.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ic;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,zn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>zn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=dbe(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ck);const r=this.events[e].add(t);return e==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?LW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function op(n,e){return new hbe(n,e)}const uk=(n,e)=>t=>Boolean(k0(t)&&Awe.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),kW=(n,e,t)=>r=>{if(!k0(r))return r;const[i,s,o,a]=r.match(ky);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},fbe=n=>Pd(0,255,n),BM={...$d,transform:n=>Math.round(fbe(n))},ed={test:uk("rgb","red"),parse:kW("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+BM.transform(n)+", "+BM.transform(e)+", "+BM.transform(t)+", "+Ag(bg.transform(r))+")"};function pbe(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const o2={test:uk("#"),parse:pbe,transform:ed.transform},sf={test:uk("hsl","hue"),parse:kW("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wa.transform(Ag(e))+", "+wa.transform(Ag(t))+", "+Ag(bg.transform(r))+")"},Hi={test:n=>ed.test(n)||o2.test(n)||sf.test(n),parse:n=>ed.test(n)?ed.parse(n):sf.test(n)?sf.parse(n):o2.parse(n),transform:n=>k0(n)?n:n.hasOwnProperty("red")?ed.transform(n):sf.transform(n)},DW="${c}",BW="${n}";function mbe(n){var e,t;return isNaN(n)&&k0(n)&&(((e=n.match(ky))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(n2))===null||t===void 0?void 0:t.length)||0)>0}function nS(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,r=0;const i=n.match(n2);i&&(t=i.length,n=n.replace(n2,DW),e.push(...i.map(Hi.parse)));const s=n.match(ky);return s&&(r=s.length,n=n.replace(ky,BW),e.push(...s.map($d.parse))),{values:e,numColors:t,numNumbers:r,tokenised:n}}function OW(n){return nS(n).values}function NW(n){const{values:e,numColors:t,tokenised:r}=nS(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?DW:BW,a<t?Hi.transform(s[a]):Ag(s[a]));return o}}const gbe=n=>typeof n=="number"?0:n;function ybe(n){const e=OW(n);return NW(n)(e.map(gbe))}const Vc={test:mbe,parse:OW,createTransformer:NW,getAnimatableNone:ybe},vbe=new Set(["brightness","contrast","saturate","opacity"]);function xbe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ky)||[];if(!r)return n;const i=t.replace(r,"");let s=vbe.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const _be=/([a-z-]*)\(.*?\)/g,a2={...Vc,getAnimatableNone:n=>{const e=n.match(_be);return e?e.map(xbe).join(" "):n}},Sbe={...gW,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:a2,WebkitFilter:a2},dk=n=>Sbe[n];function hk(n,e){let t=dk(n);return t!==a2&&(t=Vc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const FW=n=>e=>e.test(n),wbe={test:n=>n==="auto",parse:n=>n},zW=[$d,xt,wa,Ql,Mwe,Cwe,wbe],Dm=n=>zW.find(FW(n)),bbe=[...zW,Hi,Vc],Abe=n=>bbe.find(FW(n));function Cbe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function Mbe(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function ab(n,e,t){const r=n.getProps();return ok(r,e,t!==void 0?t:r.custom,Cbe(n),Mbe(n))}function Ebe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,op(t))}function Tbe(n,e){const t=ab(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Uwe(s[o]);Ebe(n,o,a)}}function Pbe(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(cbe(u)||ube(u))?u=parseFloat(u):!Abe(u)&&Vc.test(c)&&(u=hk(l,c)),n.addValue(l,op(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Ibe(n,e){return e?(e[n]||e.default||e).from:void 0}function Rbe(n,e,t){const r={};for(const i in n){const s=Ibe(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function rS(n){return Boolean(hs(n)&&n.add)}const Lbe="framerAppearId",kbe="data-"+ik(Lbe);let Dbe=go,iS=go;const Rc=n=>n*1e3,ap=n=>n/1e3,Bbe={current:!1};function Obe(n){return!n||Array.isArray(n)||typeof n=="string"&&UW[n]}const Xm=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,UW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xm([0,.65,.55,1]),circOut:Xm([.55,0,1,.45]),backIn:Xm([.31,.01,.66,-.59]),backOut:Xm([.33,1.53,.69,.99])};function Nbe(n){if(n)return Array.isArray(n)?Xm(n):UW[n]}function Fbe(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};return l&&(c.offset=l),n.animate(c,{delay:r,duration:i,easing:Nbe(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Kz={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},OM={},HW={};for(const n in Kz)HW[n]=()=>(OM[n]===void 0&&(OM[n]=Kz[n]()),OM[n]);function zbe(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const fk=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,pk=n=>e=>1-n(1-e),mk=n=>n*n,Ube=pk(mk),GW=fk(mk),rr=(n,e,t)=>-t*n+t*e+n;function NM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Hbe({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=NM(l,a,n+1/3),s=NM(l,a,n),o=NM(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const FM=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Gbe=[o2,ed,sf],Vbe=n=>Gbe.find(e=>e.test(n));function Xz(n){const e=Vbe(n);let t=e.parse(n);return e===sf&&(t=Hbe(t)),t}const VW=(n,e)=>{const t=Xz(n),r=Xz(e),i={...t};return s=>(i.red=FM(t.red,r.red,s),i.green=FM(t.green,r.green,s),i.blue=FM(t.blue,r.blue,s),i.alpha=rr(t.alpha,r.alpha,s),ed.transform(i))};function $W(n,e){return typeof n=="number"?t=>rr(n,e,t):Hi.test(n)?VW(n,e):jW(n,e)}const WW=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>$W(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},$be=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=$W(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},jW=(n,e)=>{const t=Vc.createTransformer(e),r=nS(n),i=nS(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Pc(WW(r.values,i.values),t):o=>`${o>0?e:n}`},By=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Jz=(n,e)=>t=>rr(n,e,t);function Wbe(n){return typeof n=="number"?Jz:typeof n=="string"?Hi.test(n)?VW:jW:Array.isArray(n)?WW:typeof n=="object"?$be:Jz}function jbe(n,e,t){const r=[],i=t||Wbe(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Pc(l,a)}r.push(a)}return r}function KW(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;iS(s===e.length),iS(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=jbe(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const d=By(n[u],n[u+1],c);return o[u](d)};return t?c=>l(Pd(n[0],n[s-1],c)):l}function Kbe(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=By(0,e,r);n.push(rr(t,1,i))}}function Xbe(n){const e=[0];return Kbe(e,n.length-1),e}function Jbe(n,e){return n.map(t=>t*e)}const XW=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,qbe=1e-7,Ybe=12;function Qbe(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=XW(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>qbe&&++a<Ybe);return o}function JW(n,e,t,r){if(n===e&&t===r)return go;const i=s=>Qbe(s,0,1,n,t);return s=>s===0||s===1?s:XW(i(s),e,r)}const qW=n=>1-Math.sin(Math.acos(n)),gk=pk(qW),Zbe=fk(gk),YW=JW(.33,1.53,.69,.99),yk=pk(YW),eAe=fk(yk),tAe=n=>(n*=2)<1?.5*yk(n):.5*(2-Math.pow(2,-10*(n-1))),nAe={linear:go,easeIn:mk,easeInOut:GW,easeOut:Ube,circIn:qW,circInOut:Zbe,circOut:gk,backIn:yk,backInOut:eAe,backOut:YW,anticipate:tAe},qz=n=>{if(Array.isArray(n)){iS(n.length===4);const[e,t,r,i]=n;return JW(e,t,r,i)}else if(typeof n=="string")return nAe[n];return n},rAe=n=>Array.isArray(n)&&typeof n[0]!="number";function iAe(n,e){return n.map(()=>e||GW).splice(0,n.length-1)}function sS({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=rAe(r)?r.map(qz):qz(r),s={done:!1,value:e[0]},o=Jbe(t&&t.length===e.length?t:Xbe(e),n),a=KW(o,e,{ease:Array.isArray(i)?i:iAe(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const sAe=5;function QW(n,e,t){const r=Math.max(e-sAe,0);return LW(t-n(r),e-r)}const zM=.001,oAe=.01,Yz=10,aAe=.05,lAe=1;function cAe({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;Dbe(n<=Rc(Yz));let o=1-e;o=Pd(aAe,lAe,o),n=Pd(oAe,Yz,ap(n)),o<1?(i=c=>{const u=c*o,d=u*n,p=u-t,m=l2(c,o),y=Math.exp(-d);return zM-p/m*y},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-d),g=l2(Math.pow(c,2),o);return(-i(c)+zM>0?-1:1)*((p-m)*y)/g}):(i=c=>{const u=Math.exp(-c*n),d=(c-t)*n+1;return-zM+u*d},s=c=>{const u=Math.exp(-c*n),d=(t-c)*(n*n);return u*d});const a=5/n,l=dAe(i,s,a);if(n=Rc(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const uAe=12;function dAe(n,e,t){let r=t;for(let i=1;i<uAe;i++)r=r-n(r)/e(r);return r}function l2(n,e){return n*Math.sqrt(1-e*e)}const hAe=["duration","bounce"],fAe=["stiffness","damping","mass"];function Qz(n,e){return e.some(t=>n[t]!==void 0)}function pAe(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Qz(n,fAe)&&Qz(n,hAe)){const t=cAe(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function ZW({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:p}=pAe(r),m=u?-ap(u):0,y=l/(2*Math.sqrt(a*c)),g=s-i,v=ap(Math.sqrt(a/c)),x=Math.abs(g)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(y<1){const w=l2(v,y);_=A=>{const T=Math.exp(-y*v*A);return s-T*((m+y*v*g)/w*Math.sin(w*A)+g*Math.cos(w*A))}}else if(y===1)_=w=>s-Math.exp(-v*w)*(g+(m+v*g)*w);else{const w=v*Math.sqrt(y*y-1);_=A=>{const T=Math.exp(-y*v*A),P=Math.min(w*A,300);return s-T*((m+y*v*g)*Math.sinh(P)+w*g*Math.cosh(P))/w}}return{calculatedDuration:p&&d||null,next:w=>{const A=_(w);if(p)o.done=w>=d;else{let T=m;w!==0&&(y<1?T=QW(_,w,A):T=0);const P=Math.abs(T)<=t,L=Math.abs(s-A)<=e;o.done=P&&L}return o.value=o.done?s:A,o}}}function Zz({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=n[0],p={done:!1,value:d},m=M=>a!==void 0&&M<a||l!==void 0&&M>l,y=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let g=t*e;const v=d+g,x=o===void 0?v:o(v);x!==v&&(g=x-d);const _=M=>-g*Math.exp(-M/r),w=M=>x+_(M),A=M=>{const R=_(M),k=w(M);p.done=Math.abs(R)<=c,p.value=p.done?x:k};let T,P;const L=M=>{m(p.value)&&(T=M,P=ZW({keyframes:[p.value,y(p.value)],velocity:QW(w,M,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return L(0),{calculatedDuration:null,next:M=>{let R=!1;return!P&&T===void 0&&(R=!0,A(M),L(M)),T!==void 0&&M>T?P.next(M-T):(!R&&A(M),p)}}}const mAe=n=>{const e=({timestamp:t})=>n(t);return{start:()=>zn.update(e,!0),stop:()=>Gc.update(e),now:()=>performance.now()}},gAe={decay:Zz,inertia:Zz,tween:sS,keyframes:sS,spring:ZW},yAe=2e4;function vAe(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<yAe;)e+=t,r=n.next(e);return e}function oS({autoplay:n=!0,delay:e=0,driver:t=mAe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let m;const y=gAe[i]||sS;let g;y!==sS&&typeof r[0]!="number"&&(g=KW([0,100],r,{clamp:!1}),r=[0,100]);const v=y({...p,keyframes:r});let x;a==="mirror"&&(x=y({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let _="idle",w=null,A=null;v.calculatedDuration===null&&s&&(v.calculatedDuration=vAe(v));const{calculatedDuration:T}=v;let P=1/0,L=1/0;T&&(P=T+o,L=P*(s+1)-o);let M=0;const R=U=>{if(A===null)return;w!==null?M=w:M=U-A,M=Math.max(M-e,0),_==="finished"&&w===null&&(M=L);let F=M,J=v;if(s){const j=M/P;let O=Math.floor(j),oe=j%1;!oe&&j>=1&&(oe=1),oe===1&&O--;const z=O%2;z&&(a==="reverse"?(oe=1-oe,o&&(oe-=o/P)):a==="mirror"&&(J=x)),F=(M>=L?a==="reverse"&&z?0:1:Pd(0,1,oe))*P}const q=J.next(F);let{value:se,done:ue}=q;return d&&d(g?g(se):se),T!==null&&(ue=M>=L),w===null&&(_==="finished"||_==="running"&&ue)&&(_="finished",u&&u(),m&&m.stop()),q};return n&&(()=>{m=t(R);const U=m.now();l&&l(),_="running",w!==null?A=U-w:A||(A=U),w=null,m.start()})(),{get currentTime(){return ap(M)},set currentTime(U){w!==null||!m?w=0:A=m.now()-Rc(U)},stop:()=>{c&&c(),m&&m.stop()},sample:U=>(A=0,R(U))}}const xAe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Qx=10,_Ae=2e4,SAe=(n,e)=>e.type==="spring"||n==="backgroundColor"||!Obe(e.ease);function wAe(n,e,{onUpdate:t,onComplete:r,...i}){if(!(HW.waapi()&&xAe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let{keyframes:o,duration:a=300,ease:l}=i;if(SAe(e,i)){const u=oS({...i,repeat:0,delay:0});let d={done:!1,value:o[0]};const p=[];let m=0;for(;!d.done&&m<_Ae;)d=u.sample(m),p.push(d.value),m+=Qx;o=p,a=m-Qx,l="linear"}const c=Fbe(n.owner.current,e,o,{...i,duration:a,ease:l});return c.onfinish=()=>{n.set(zbe(o,i)),zn.update(()=>c.cancel()),r&&r()},{get currentTime(){return ap(c.currentTime||0)},set currentTime(u){c.currentTime=Rc(u)},stop:()=>{const{currentTime:u}=c;if(u){const d=oS({...i,autoplay:!1});n.setWithVelocity(d.sample(u-Qx).value,d.sample(u).value,Qx)}zn.update(()=>c.cancel())}}}function bAe({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{stop:()=>{},currentTime:0});return e?oS({keyframes:[0,1],duration:e,onComplete:i}):i()}const AAe={type:"spring",stiffness:500,damping:25,restSpeed:10},CAe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),MAe={type:"keyframes",duration:.8},EAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TAe=(n,{keyframes:e})=>e.length>2?MAe:Vd.has(n)?n.startsWith("scale")?CAe(e[1]):AAe:EAe,c2=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Vc.test(e)&&!e.startsWith("url("));function PAe({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function e4(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function t4(n){return typeof n=="number"?0:hk("",n)}function ej(n,e){return n[e]||n.default||n}function IAe(n,e,t,r){const i=c2(e,t);let s=r.from!==void 0?r.from:n.get();return s==="none"&&i&&typeof t=="string"?s=hk(e,t):e4(s)&&typeof t=="string"?s=t4(t):!Array.isArray(t)&&e4(t)&&typeof s=="string"&&(t=t4(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const vk=(n,e,t,r={})=>i=>{const s=ej(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Rc(o);const l=IAe(e,n,t,s),c=l[0],u=l[l.length-1],d=c2(n,c),p=c2(n,u);let m={keyframes:l,velocity:e.getVelocity(),...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!d||!p||Bbe.current||s.type===!1)return bAe(m);if(PAe(s)||(m={...m,...TAe(n,m)}),m.duration&&(m.duration=Rc(m.duration)),m.repeatDelay&&(m.repeatDelay=Rc(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=wAe(e,n,m);if(y)return y}return oS(m)};function RAe(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>u2(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=u2(n,e,t);else{const i=typeof e=="function"?ab(n,e,t.custom):e;r=tj(n,i,t)}return r.then(()=>n.notify("AnimationComplete",e))}function u2(n,e,t={}){const r=ab(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>tj(n,r,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return LAe(n,e,c+l,u,d,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(t.delay)])}function tj(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||u&&DAe(u,d))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const v=n.getProps()[kbe];v&&(y.elapsed=window.HandoffAppearAnimations(v,d,p,zn))}let g=p.start(vk(d,p,m,n.shouldReduceMotion&&Vd.has(d)?{type:!1}:y));rS(l)&&(l.add(d),g=g.then(()=>l.remove(d))),c.push(g)}return Promise.all(c).then(()=>{o&&Tbe(n,o)})}function LAe(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(kAe).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(u2(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function kAe(n,e){return n.sortNodePosition(e)}function DAe({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}const BAe=[...JL].reverse(),OAe=JL.length;function NAe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>RAe(n,t,r)))}function FAe(n){let e=NAe(n);const t=UAe();let r=!0;const i=(l,c)=>{const u=ab(n,c);if(u){const{transition:d,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},g=1/0;for(let x=0;x<OAe;x++){const _=BAe[x],w=t[_],A=u[_]!==void 0?u[_]:d[_],T=Ry(A),P=_===c?w.isActive:null;P===!1&&(g=x);let L=A===d[_]&&A!==u[_]&&T;if(L&&r&&n.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...y},!w.isActive&&P===null||!A&&!w.prevProp||nb(A)||typeof A=="boolean")continue;const M=zAe(w.prevProp,A);let R=M||_===c&&w.isActive&&!L&&T||x>g&&T;const k=Array.isArray(A)?A:[A];let V=k.reduce(i,{});P===!1&&(V={});const{prevResolvedValues:U={}}=w,F={...U,...V},J=q=>{R=!0,m.delete(q),w.needsAnimating[q]=!0};for(const q in F){const se=V[q],ue=U[q];y.hasOwnProperty(q)||(se!==ue?tS(se)&&tS(ue)?!RW(se,ue)||M?J(q):w.protectedKeys[q]=!0:se!==void 0?J(q):m.add(q):se!==void 0&&m.has(q)?J(q):w.protectedKeys[q]=!0)}w.prevProp=A,w.prevResolvedValues=V,w.isActive&&(y={...y,...V}),r&&n.blockInitialAnimation&&(R=!1),R&&!L&&p.push(...k.map(q=>({animation:q,options:{type:_,...l}})))}if(m.size){const x={};m.forEach(_=>{const w=n.getBaseTarget(_);w!==void 0&&(x[_]=w)}),p.push({animation:x})}let v=Boolean(p.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function a(l,c,u){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(u,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function zAe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!RW(e,n):!1}function Mu(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UAe(){return{animate:Mu(!0),whileInView:Mu(),whileHover:Mu(),whileTap:Mu(),whileDrag:Mu(),whileFocus:Mu(),exit:Mu()}}class HAe extends tu{constructor(e){super(e),e.animationState||(e.animationState=FAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),nb(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let GAe=0;class VAe extends tu{constructor(){super(...arguments),this.id=GAe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $Ae={animation:{Feature:HAe},exit:{Feature:VAe}},n4=(n,e)=>Math.abs(n-e);function WAe(n,e){const t=n4(n.x,e.x),r=n4(n.y,e.y);return Math.sqrt(t**2+r**2)}class nj{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=HM(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=WAe(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:p}=c,{timestamp:m}=Ic;this.history.push({...p,timestamp:m});const{onStart:y,onMove:g}=this.handlers;u||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=UM(u,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=HM(c.type==="pointercancel"?this.lastMoveEventInfo:UM(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),p&&p(c,m)},!CW(e))return;this.handlers=t,this.transformPagePoint=r;const i=sb(e),s=UM(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Ic;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,HM(s,this.history)),this.removeListeners=Pc(cl(window,"pointermove",this.handlePointerMove),cl(window,"pointerup",this.handlePointerUp),cl(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gc.update(this.updatePoint)}}function UM(n,e){return e?{point:e(n.point)}:n}function r4(n,e){return{x:n.x-e.x,y:n.y-e.y}}function HM({point:n},e){return{point:n,delta:r4(n,rj(e)),offset:r4(n,jAe(e)),velocity:KAe(e,.1)}}function jAe(n){return n[0]}function rj(n){return n[n.length-1]}function KAe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=rj(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Rc(e)));)t--;if(!r)return{x:0,y:0};const s=ap(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zs(n){return n.max-n.min}function d2(n,e=0,t=.01){return Math.abs(n-e)<=t}function i4(n,e,t,r=.5){n.origin=r,n.originPoint=rr(e.min,e.max,n.origin),n.scale=zs(t)/zs(e),(d2(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=rr(t.min,t.max,n.origin)-n.originPoint,(d2(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Cg(n,e,t,r){i4(n.x,e.x,t.x,r?r.originX:void 0),i4(n.y,e.y,t.y,r?r.originY:void 0)}function s4(n,e,t){n.min=t.min+e.min,n.max=n.min+zs(e)}function XAe(n,e,t){s4(n.x,e.x,t.x),s4(n.y,e.y,t.y)}function o4(n,e,t){n.min=e.min-t.min,n.max=n.min+zs(e)}function Mg(n,e,t){o4(n.x,e.x,t.x),o4(n.y,e.y,t.y)}function JAe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rr(t,n,r.max):Math.min(n,t)),n}function a4(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function qAe(n,{top:e,left:t,bottom:r,right:i}){return{x:a4(n.x,t,i),y:a4(n.y,e,r)}}function l4(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function YAe(n,e){return{x:l4(n.x,e.x),y:l4(n.y,e.y)}}function QAe(n,e){let t=.5;const r=zs(n),i=zs(e);return i>r?t=By(e.min,e.max-r,n.min):r>i&&(t=By(n.min,n.max-i,e.min)),Pd(0,1,t)}function ZAe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const h2=.35;function eCe(n=h2){return n===!1?n=0:n===!0&&(n=h2),{x:c4(n,"left","right"),y:c4(n,"top","bottom")}}function c4(n,e,t){return{min:u4(n,e),max:u4(n,t)}}function u4(n,e){return typeof n=="number"?n:n[e]||0}const d4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eg=()=>({x:d4(),y:d4()}),h4=()=>({min:0,max:0}),Ar=()=>({x:h4(),y:h4()});function oa(n){return[n("x"),n("y")]}function ij({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function tCe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nCe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function GM(n){return n===void 0||n===1}function f2({scale:n,scaleX:e,scaleY:t}){return!GM(n)||!GM(e)||!GM(t)}function Bu(n){return f2(n)||sj(n)||n.z||n.rotate||n.rotateX||n.rotateY}function sj(n){return f4(n.x)||f4(n.y)}function f4(n){return n&&n!=="0%"}function aS(n,e,t){const r=n-t,i=e*r;return t+i}function p4(n,e,t,r,i){return i!==void 0&&(n=aS(n,i,r)),aS(n,t,r)+e}function p2(n,e=0,t=1,r,i){n.min=p4(n.min,e,t,r,i),n.max=p4(n.max,e,t,r,i)}function oj(n,{x:e,y:t}){p2(n.x,e.translate,e.scale,e.originPoint),p2(n.y,t.translate,t.scale,t.originPoint)}function rCe(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&of(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,oj(n,o)),r&&Bu(s.latestValues)&&of(n,s.latestValues))}e.x=m4(e.x),e.y=m4(e.y)}function m4(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function rc(n,e){n.min=n.min+e,n.max=n.max+e}function g4(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=rr(n.min,n.max,s);p2(n,e[t],e[r],o,e.scale)}const iCe=["x","scaleX","originX"],sCe=["y","scaleY","originY"];function of(n,e){g4(n.x,e,iCe),g4(n.y,e,sCe)}function aj(n,e){return ij(nCe(n.getBoundingClientRect(),e))}function oCe(n,e,t){const r=aj(n,t),{scroll:i}=e;return i&&(rc(r.x,i.offset.x),rc(r.y,i.offset.y)),r}const aCe=new WeakMap;class lCe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ar(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(sb(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:p}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EW(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oa(y=>{let g=this.getAxisMotionValue(y).get()||0;if(wa.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[y];x&&(g=zs(x)*(parseFloat(g)/100))}}this.originPoint[y]=g}),p&&zn.update(()=>p(l,c));const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:y}=c;if(d&&this.currentDirection===null){this.currentDirection=cCe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new nj(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&zn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Zx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=JAe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&rf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qAe(r.layoutBox,e):this.constraints=!1,this.elastic=eCe(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ZAe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!rf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=oCe(r,i.root,this.visualElement.getTransformPagePoint());let o=YAe(i.layout.layoutBox,s);if(t){const a=t(tCe(o));this.hasMutatedConstraints=!!a,a&&(o=ij(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=oa(u=>{if(!Zx(u,t,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(vk(e,r,0,t))}stopAnimation(){oa(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){oa(t=>{const{drag:r}=this.getProps();if(!Zx(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-rr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rf(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};oa(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=QAe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oa(o=>{if(!Zx(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(rr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;aCe.set(this.visualElement,this);const e=this.visualElement.current,t=cl(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();rf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=il(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(oa(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=h2,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zx(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function cCe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class uCe extends tu{constructor(e){super(e),this.removeGroupControls=go,this.removeListeners=go,this.controls=new lCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||go}unmount(){this.removeGroupControls(),this.removeListeners()}}const y4=n=>(e,t)=>{n&&zn.update(()=>n(e,t))};class dCe extends tu{constructor(){super(...arguments),this.removePointerDownListener=go}onPointerDown(e){this.session=new nj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:y4(e),onStart:y4(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&zn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=cl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function hCe(){const n=D.useContext(L0);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=D.useId();return D.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}function fCe(){return pCe(D.useContext(L0))}function pCe(n){return n===null?!0:n.isPresent}function v4(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Bm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xt.test(n))n=parseFloat(n);else return n;const t=v4(n,e.target.x),r=v4(n,e.target.y);return`${t}% ${r}%`}},lj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mCe(n){const e=lj.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function m2(n,e,t=1){const[r,i]=mCe(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():t2(i)?m2(i,e,t+1):i}function gCe(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!t2(s))return;const o=m2(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!t2(s))continue;const o=m2(s,r);o&&(e[i]=o,t&&t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const x4="_$css",yCe={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=n.includes("var("),s=[];i&&(n=n.replace(lj,m=>(s.push(m),x4)));const o=Vc.parse(n);if(o.length>5)return r;const a=Vc.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=rr(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(i){let m=0;p=p.replace(x4,()=>{const y=s[m];return m++,y})}return p}};class vCe extends ul.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;xwe(xCe),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||zn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function cj(n){const[e,t]=hCe(),r=D.useContext(QL);return ul.createElement(vCe,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(hW),isPresent:e,safeToRemove:t})}const xCe={borderRadius:{...Bm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bm,borderTopRightRadius:Bm,borderBottomLeftRadius:Bm,borderBottomRightRadius:Bm,boxShadow:yCe};class _Ce{constructor(e){this.animations=e.filter(Boolean)}get currentTime(){return this.animations[0].currentTime}set currentTime(e){for(let t=0;t<this.animations.length;t++)this.animations[t].currentTime=e}stop(){this.animations.forEach(e=>e.stop())}}function SCe(n,e,t={}){const r=hs(n)?n:op(n);return r.start(vk("",r,e,t)),r.animation||new _Ce([])}const uj=["TopLeft","TopRight","BottomLeft","BottomRight"],wCe=uj.length,_4=n=>typeof n=="string"?parseFloat(n):n,S4=n=>typeof n=="number"||xt.test(n);function bCe(n,e,t,r,i,s){i?(n.opacity=rr(0,t.opacity!==void 0?t.opacity:1,ACe(r)),n.opacityExit=rr(e.opacity!==void 0?e.opacity:1,0,CCe(r))):s&&(n.opacity=rr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<wCe;o++){const a=`border${uj[o]}Radius`;let l=w4(e,a),c=w4(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||S4(l)===S4(c)?(n[a]=Math.max(rr(_4(l),_4(c),r),0),(wa.test(c)||wa.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=rr(e.rotate||0,t.rotate||0,r))}function w4(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ACe=dj(0,.5,gk),CCe=dj(.5,.95,go);function dj(n,e,t){return r=>r<n?0:r>e?1:t(By(n,e,r))}function b4(n,e){n.min=e.min,n.max=e.max}function no(n,e){b4(n.x,e.x),b4(n.y,e.y)}function A4(n,e,t,r,i){return n-=e,n=aS(n,1/t,r),i!==void 0&&(n=aS(n,1/i,r)),n}function MCe(n,e=0,t=1,r=.5,i,s=n,o=n){if(wa.test(e)&&(e=parseFloat(e),e=rr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=rr(s.min,s.max,r);n===s&&(a-=e),n.min=A4(n.min,e,t,a,i),n.max=A4(n.max,e,t,a,i)}function C4(n,e,[t,r,i],s,o){MCe(n,e[t],e[r],e[i],e.scale,s,o)}const ECe=["x","scaleX","originX"],TCe=["y","scaleY","originY"];function M4(n,e,t,r){C4(n.x,e,ECe,t?t.x:void 0,r?r.x:void 0),C4(n.y,e,TCe,t?t.y:void 0,r?r.y:void 0)}function E4(n){return n.translate===0&&n.scale===1}function hj(n){return E4(n.x)&&E4(n.y)}function g2(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function T4(n){return zs(n.x)/zs(n.y)}class PCe{constructor(){this.members=[]}add(e){ak(this.members,e),e.scheduleRender()}remove(e){if(lk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P4(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const ICe=(n,e)=>n.depth-e.depth;class RCe{constructor(){this.children=[],this.isDirty=!1}add(e){ak(this.children,e),this.isDirty=!0}remove(e){lk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ICe),this.isDirty=!1,this.children.forEach(e)}}function LCe(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Gc.read(r),n(s-e))};return zn.read(r,!0),()=>Gc.read(r)}function kCe(n){window.MotionDebug&&window.MotionDebug.record(n)}const I4=["","X","Y","Z"],R4=1e3;let DCe=0;const Ou={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fj({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=DCe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ou.totalNodes=Ou.resolvedTargetDeltas=Ou.recalculatedProjection=0,this.nodes.forEach(NCe),this.nodes.forEach(HCe),this.nodes.forEach(GCe),this.nodes.forEach(FCe),kCe(Ou)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RCe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ck),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=LCe(p,250),wg.hasAnimatedSinceResize&&(wg.hasAnimatedSinceResize=!1,this.nodes.forEach(k4))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||KCe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),_=!this.targetLayout||!g2(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const A={...ej(g,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else!p&&this.animationProgress===0&&k4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gc.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VCe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(L4);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(XCe),this.potentialNodes.clear()),this.nodes.forEach(UCe),this.nodes.forEach(BCe),this.nodes.forEach(OCe),this.clearAllSnapshots(),LM.update(),LM.preRender(),LM.render())}clearAllSnapshots(){this.nodes.forEach(zCe),this.sharedNodes.forEach($Ce)}scheduleUpdateProjection(){zn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ar(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!hj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Bu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),JCe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ar();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(rc(a.x,l.offset.x),rc(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ar();no(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){no(a,o);const{scroll:p}=this.root;p&&(rc(a.x,-p.offset.x),rc(a.y,-p.offset.y))}rc(a.x,u.offset.x),rc(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Ar();no(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&of(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Bu(u.latestValues)&&of(l,u.latestValues)}return Bu(this.latestValues)&&of(l,this.latestValues),l}removeTransform(o){const a=Ar();no(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bu(c.latestValues))continue;f2(c.latestValues)&&c.updateSnapshot();const u=Ar(),d=c.measurePageBox();no(u,d),M4(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Bu(this.latestValues)&&M4(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((Boolean(this.resumingFrom)||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),Mg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ar(),this.targetWithTransforms=Ar()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?XAe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):no(this.target,this.layout.layoutBox),oj(this.target,this.targetDelta)):no(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Ar(),this.relativeTargetOrigin=Ar(),Mg(this.relativeTargetOrigin,this.target,p.target),no(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ou.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||f2(this.parent.latestValues)||sj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;no(this.layoutCorrected,this.layout.layoutBox),rCe(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Eg(),this.projectionDeltaWithTransform=Eg());const m=this.treeScale.x,y=this.treeScale.y,g=this.projectionTransform;Cg(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=P4(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ou.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Eg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ar(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,v=this.getStack(),x=!v||v.members.length<=1,_=Boolean(g&&!x&&this.options.crossfade===!0&&!this.path.some(jCe));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const T=A/1e3;D4(d.x,o.x,T),D4(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mg(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WCe(this.relativeTarget,this.relativeTargetOrigin,p,T),w&&g2(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ar()),no(w,this.relativeTarget)),g&&(this.animationValues=u,bCe(u,c,this.latestValues,T,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gc.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{wg.hasAnimatedSinceResize=!0,this.currentAnimation=SCe(0,R4,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&pj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ar();const d=zs(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=zs(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}no(a,l),of(a,u),Cg(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PCe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<I4.length;u++){const d="rotate"+I4[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=O1(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=O1(o.pointerEvents)||""),this.hasProjected&&!Bu(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=P4(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Z_){if(p[g]===void 0)continue;const{correct:v,applyTo:x}=Z_[g],_=c.transform==="none"?p[g]:v(p[g],d);if(x){const w=x.length;for(let A=0;A<w;A++)c[x[A]]=_}else c[g]=_}return this.options.layoutId&&(c.pointerEvents=d===this?O1(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(L4),this.root.sharedNodes.clear()}}}function BCe(n){n.updateLayout()}function OCe(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?oa(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=zs(p);p.min=r[d].min,p.max=p.min+m}):pj(s,t.layoutBox,r)&&oa(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=zs(r[d]);p.max=p.min+m});const a=Eg();Cg(a,r,t.layoutBox);const l=Eg();o?Cg(l,n.applyTransform(i,!0),t.measuredBox):Cg(l,r,t.layoutBox);const c=!hj(a);let u=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=Ar();Mg(y,t.layoutBox,p.layoutBox);const g=Ar();Mg(g,r,m.layoutBox),g2(y,g)||(u=!0),d.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function NCe(n){Ou.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function FCe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function zCe(n){n.clearSnapshot()}function L4(n){n.clearMeasurements()}function UCe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function k4(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function HCe(n){n.resolveTargetDelta()}function GCe(n){n.calcProjection()}function VCe(n){n.resetRotation()}function $Ce(n){n.removeLeadSnapshot()}function D4(n,e,t){n.translate=rr(e.translate,0,t),n.scale=rr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function B4(n,e,t,r){n.min=rr(e.min,t.min,r),n.max=rr(e.max,t.max,r)}function WCe(n,e,t,r){B4(n.x,e.x,t.x,r),B4(n.y,e.y,t.y,r)}function jCe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const KCe={duration:.45,ease:[.4,0,.1,1]};function XCe(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(Boolean(n.path[s].instance)){t=n.path[s];break}const i=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&n.mount(i,!0)}function O4(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function JCe(n){O4(n.x),O4(n.y)}function pj(n,e,t){return n==="position"||n==="preserve-aspect"&&!d2(T4(e),T4(t),.2)}const qCe=fj({attachResizeListener:(n,e)=>il(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VM={current:void 0},mj=fj({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!VM.current){const n=new qCe(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),VM.current=n}return VM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),YCe={pan:{Feature:dCe},drag:{Feature:uCe,ProjectionNode:mj,MeasureLayout:cj}},QCe=new Set(["width","height","top","left","right","bottom","x","y"]),gj=n=>QCe.has(n),ZCe=n=>Object.keys(n).some(gj),N4=n=>n===$d||n===xt,F4=(n,e)=>parseFloat(n.split(", ")[e]),z4=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return F4(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?F4(s[1],n):0}},eMe=new Set(["x","y","z"]),tMe=ib.filter(n=>!eMe.has(n));function nMe(n){const e=[];return tMe.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const U4={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:z4(4,13),y:z4(5,14)},rMe=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=U4[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=U4[c](l,s)}),n},iMe=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(gj);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],d=Dm(u);const p=e[l];let m;if(tS(p)){const y=p.length,g=p[0]===null?1:0;u=p[g],d=Dm(u);for(let v=g;v<y;v++)m?iS(Dm(p[v])===m):m=Dm(p[v])}else m=Dm(p);if(d!==m)if(N4(d)&&N4(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===xt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(u===0||p===0)?u===0?c.set(m.transform(u)):e[l]=d.transform(p):(o||(s=nMe(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=rMe(e,n,a);return s.length&&s.forEach(([u,d])=>{n.getValue(u).set(d)}),n.render(),tb&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function sMe(n,e,t,r){return ZCe(e)?iMe(n,e,t,r):{target:e,transitionEnd:r}}const oMe=(n,e,t,r)=>{const i=gCe(n,e,r);return e=i.target,r=i.transitionEnd,sMe(n,e,t,r)},y2={current:null},yj={current:!1};function aMe(){if(yj.current=!0,!!tb)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>y2.current=n.matches;n.addListener(e),e()}else y2.current=!1}function lMe(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(hs(s))n.addValue(i,s),rS(r)&&r.add(i);else if(hs(o))n.addValue(i,op(s,{owner:n})),rS(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,op(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const vj=Object.keys(Ly),cMe=vj.length,H4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uMe=qL.length;class dMe{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>zn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=rb(t),this.isVariantNode=dW(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const d in u){const p=u[d];a[d]!==void 0&&hs(p)&&(p.set(a[d],!1),rS(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),yj.current||aMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gc.update(this.notifyUpdate),Gc.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Vd.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&zn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s,o){let a,l;for(let c=0;c<cMe;c++){const u=vj[c],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:y}=Ly[u];m&&(a=m),d(t)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(d)||p&&rf(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ar()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<H4.length;r++){const i=H4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=lMe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<uMe;r++){const i=qL[r],s=this.props[i];(Ry(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=op(t,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=ok(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ck),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class xj extends dMe{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Rbe(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){Pbe(this,r,o);const a=oMe(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function hMe(n){return window.getComputedStyle(n)}class fMe extends xj{readValueFromInstance(e,t){if(Vd.has(t)){const r=dk(t);return r&&r.default||0}else{const r=hMe(e),i=(mW(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return aj(e,t)}build(e,t,r,i){ek(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return sk(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){_W(e,t,r,i)}}class pMe extends xj{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Vd.has(t)){const r=dk(t);return r&&r.default||0}return t=SW.has(t)?t:ik(t),e.getAttribute(t)}measureInstanceViewportBox(){return Ar()}scrapeMotionValuesFromProps(e,t){return bW(e,t)}build(e,t,r,i){nk(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){wW(e,t,r,i)}mount(e){this.isSVGTag=rk(e.tagName),super.mount(e)}}const mMe=(n,e)=>ZL(n)?new pMe(e,{enableHardwareAcceleration:!1}):new fMe(e,{enableHardwareAcceleration:!0}),gMe={layout:{ProjectionNode:mj,MeasureLayout:cj}},yMe={...$Ae,...lbe,...YCe,...gMe},vMe=ywe((n,e)=>Wwe(n,e,yMe,mMe));function _j(){const n=D.useRef(!1);return Q_(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function xMe(){const n=_j(),[e,t]=D.useState(0),r=D.useCallback(()=>{n.current&&t(e+1)},[e]);return[D.useCallback(()=>zn.postRender(r),[r]),e]}class _Me extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SMe({children:n,isPresent:e}){const t=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),D.createElement(_Me,{isPresent:e,childRef:r,sizeRef:i},D.cloneElement(n,{ref:r}))}const $M=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=YL(wMe),l=D.useId(),c=D.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[t]);return D.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[t]),D.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),o==="popLayout"&&(n=D.createElement(SMe,{isPresent:t},n)),D.createElement(L0.Provider,{value:c},n)};function wMe(){return new Map}function bMe(n){return D.useEffect(()=>()=>n(),[])}const Fh=n=>n.key||"";function AMe(n,e){n.forEach(t=>{const r=Fh(t);e.set(r,t)})}function CMe(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const MMe=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{let[a]=xMe();const l=D.useContext(QL).forceRender;l&&(a=l);const c=_j(),u=CMe(n);let d=u;const p=new Set,m=D.useRef(d),y=D.useRef(new Map).current,g=D.useRef(!0);if(Q_(()=>{g.current=!1,AMe(u,y),m.current=d}),bMe(()=>{g.current=!0,y.clear(),p.clear()}),g.current)return D.createElement(D.Fragment,null,d.map(w=>D.createElement($M,{key:Fh(w),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},w)));d=[...d];const v=m.current.map(Fh),x=u.map(Fh),_=v.length;for(let w=0;w<_;w++){const A=v[w];x.indexOf(A)===-1&&p.add(A)}return o==="wait"&&p.size&&(d=[]),p.forEach(w=>{if(x.indexOf(w)!==-1)return;const A=y.get(w);if(!A)return;const T=v.indexOf(w),P=()=>{y.delete(w),p.delete(w);const L=m.current.findIndex(M=>M.key===w);if(m.current.splice(L,1),!p.size){if(m.current=u,c.current===!1)return;a(),r&&r()}};d.splice(T,0,D.createElement($M,{key:Fh(A),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:s,mode:o},A))}),d=d.map(w=>{const A=w.key;return p.has(A)?w:D.createElement($M,{key:Fh(w),isPresent:!0,presenceAffectsLayout:s,mode:o},w)}),D.createElement(D.Fragment,null,p.size?d:d.map(w=>D.cloneElement(w)))};var EMe={initial:n=>{const{position:e}=n,t=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[t]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},Sj=D.memo(n=>{const{id:e,message:t,onCloseComplete:r,onRequestRemove:i,requestClose:s=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=EMe,toastSpacing:u="0.5rem"}=n,[d,p]=D.useState(a),m=fCe();Fz(()=>{m||r==null||r()},[m]),Fz(()=>{p(a)},[a]);const y=()=>p(null),g=()=>p(a),v=()=>{m&&i()};D.useEffect(()=>{m&&s&&i()},[m,s,i]),owe(v,d);const x=D.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:u,...l}),[l,u]),_=D.useMemo(()=>rwe(o),[o]);return C(vMe.li,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:y,onHoverEnd:g,custom:{position:o},style:_,children:C(Xo.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:fa(t,{id:e,onClose:v})})})});Sj.displayName="ToastComponent";function TMe(n,e){var t;const r=n??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(t=s==null?void 0:s[e])!=null?t:r}var G4={path:G("g",{stroke:"currentColor",strokeWidth:"1.5",children:[C("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),C("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),C("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},O0=Dp((n,e)=>{const{as:t,viewBox:r,color:i="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=n,u=kp("chakra-icon",a),d=XL("Icon",n),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:i,...l,...d},m={ref:e,focusable:s,className:u,__css:p},y=r??G4.viewBox;if(t&&typeof t!="string")return C(Xo.svg,{as:t,...m,...c});const g=o??G4.path;return C(Xo.svg,{verticalAlign:"middle",viewBox:y,...m,...c,children:g})});O0.displayName="Icon";function PMe(n){return C(O0,{viewBox:"0 0 24 24",...n,children:C("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function IMe(n){return C(O0,{viewBox:"0 0 24 24",...n,children:C("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function V4(n){return C(O0,{viewBox:"0 0 24 24",...n,children:C("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var RMe=Bme({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),wj=Dp((n,e)=>{const t=XL("Spinner",n),{label:r="Loading...",thickness:i="2px",speed:s="0.45s",emptyColor:o="transparent",className:a,...l}=GL(n),c=kp("chakra-spinner",a),u={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:i,borderBottomColor:o,borderLeftColor:o,animation:`${RMe} ${s} linear infinite`,...t};return C(Xo.div,{ref:e,__css:u,className:c,...l,children:r&&C(Xo.span,{srOnly:!0,children:r})})});wj.displayName="Spinner";var[LMe,kMe]=I0({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[DMe,xk]=I0({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),bj={info:{icon:IMe,colorScheme:"blue"},warning:{icon:V4,colorScheme:"orange"},success:{icon:PMe,colorScheme:"green"},error:{icon:V4,colorScheme:"red"},loading:{icon:wj,colorScheme:"blue"}};function BMe(n){return bj[n].colorScheme}function OMe(n){return bj[n].icon}var Aj=Dp(function(e,t){const i={display:"inline",...xk().description};return C(Xo.div,{ref:t,...e,className:kp("chakra-alert__desc",e.className),__css:i})});Aj.displayName="AlertDescription";function Cj(n){const{status:e}=kMe(),t=OMe(e),r=xk(),i=e==="loading"?r.spinner:r.icon;return C(Xo.span,{display:"inherit",...n,className:kp("chakra-alert__icon",n.className),__css:i,children:n.children||C(t,{h:"100%",w:"100%"})})}Cj.displayName="AlertIcon";var Mj=Dp(function(e,t){const r=xk();return C(Xo.div,{ref:t,...e,className:kp("chakra-alert__title",e.className),__css:r.title})});Mj.displayName="AlertTitle";var Ej=Dp(function(e,t){var r;const{status:i="info",addRole:s=!0,...o}=GL(e),a=(r=e.colorScheme)!=null?r:BMe(i),l=OSe("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return C(LMe,{value:{status:i},children:C(DMe,{value:l,children:C(Xo.div,{role:s?"alert":void 0,ref:t,...o,className:kp("chakra-alert",e.className),__css:c})})})});Ej.displayName="Alert";function NMe(n){return C(O0,{focusable:"false","aria-hidden":!0,...n,children:C("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var Tj=Dp(function(e,t){const r=XL("CloseButton",e),{children:i,isDisabled:s,__css:o,...a}=GL(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return C(Xo.button,{type:"button","aria-label":"Close",ref:t,disabled:s,__css:{...l,...r,...o},...a,children:i||C(NMe,{width:"1em",height:"1em"})})});Tj.displayName="CloseButton";var FMe={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},ha=zMe(FMe);function zMe(n){let e=n;const t=new Set,r=i=>{e=i(e),t.forEach(s=>s())};return{getState:()=>e,subscribe:i=>(t.add(i),()=>{r(()=>n),t.delete(i)}),removeToast:(i,s)=>{r(o=>({...o,[s]:o[s].filter(a=>a.id!=i)}))},notify:(i,s)=>{const o=UMe(i,s),{position:a,id:l}=o;return r(c=>{var u,d;const m=a.includes("top")?[o,...(u=c[a])!=null?u:[]]:[...(d=c[a])!=null?d:[],o];return{...c,[a]:m}}),l},update:(i,s)=>{i&&r(o=>{const a={...o},{position:l,index:c}=Nz(a,i);return l&&c!==-1&&(a[l][c]={...a[l][c],...s,message:Pj(s)}),a})},closeAll:({positions:i}={})=>{r(s=>(i??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=s[c].map(u=>({...u,requestClose:!0})),l),{...s}))},close:i=>{r(s=>{const o=lW(s,i);return o?{...s,[o]:s[o].map(a=>a.id==i?{...a,requestClose:!0}:a)}:s})},isActive:i=>Boolean(Nz(ha.getState(),i).position)}}var $4=0;function UMe(n,e={}){var t,r;$4+=1;const i=(t=e.id)!=null?t:$4,s=(r=e.position)!=null?r:"bottom";return{id:i,message:n,position:s,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>ha.removeToast(String(i),s),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var HMe=n=>{const{status:e,variant:t="solid",id:r,title:i,isClosable:s,onClose:o,description:a,icon:l}=n,c=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return G(Ej,{addRole:!1,status:e,variant:t,id:c==null?void 0:c.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",children:[C(Cj,{children:l}),G(Xo.div,{flex:"1",maxWidth:"100%",children:[i&&C(Mj,{id:c==null?void 0:c.title,children:i}),a&&C(Aj,{id:c==null?void 0:c.description,display:"block",children:a})]}),s&&C(Tj,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function Pj(n={}){const{render:e,toastComponent:t=HMe}=n;return i=>typeof e=="function"?e({...i,...n}):C(t,{...i,...n})}function GMe(n,e){const t=i=>{var s;return{...e,...i,position:TMe((s=i==null?void 0:i.position)!=null?s:e==null?void 0:e.position,n)}},r=i=>{const s=t(i),o=Pj(s);return ha.notify(o,s)};return r.update=(i,s)=>{ha.update(i,t(s))},r.promise=(i,s)=>{const o=r({...s.loading,status:"loading",duration:null});i.then(a=>r.update(o,{status:"success",duration:5e3,...fa(s.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...fa(s.error,a)}))},r.closeAll=ha.closeAll,r.close=ha.close,r.isActive=ha.isActive,r}var[VMe,$Me]=I0({name:"ToastOptionsContext",strict:!1}),WMe=n=>{const e=D.useSyncExternalStore(ha.subscribe,ha.getState,ha.getState),{motionVariants:t,component:r=Sj,portalProps:i}=n,o=Object.keys(e).map(a=>{const l=e[a];return C("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${a}`,style:iwe(a),children:C(MMe,{initial:!1,children:l.map(c=>C(r,{motionVariants:t,...c},c.id))})},a)});return C(Jw,{...i,children:o})};function Ij(n){const{theme:e}=k$(),t=$Me();return D.useMemo(()=>GMe(e.direction,{...t,...n}),[n,e.direction,t])}var jMe=n=>function({children:t,theme:r=n,toastOptions:i,...s}){return G(twe,{theme:r,...s,children:[C(VMe,{value:i==null?void 0:i.defaultOptions,children:t}),C(WMe,{...i})]})},KMe=jMe(MSe);const XMe=({id:n,image:e,title:t,price:r,colors:i,sizes:s,quantity:o,textile:a})=>{const l=Ij(),[c,u]=D.useState(0),[d,p]=D.useState(0),m=gL(nf,"cartItems"),y=async()=>{const g={id:n,image:e,title:t,price:r,quantity:o,name:i[c],sizes:s,textile:a};try{const v=C1(m,g.id);(await UP(v)).exists()?await HP(v,{count:GP(1)}):await Dpe(v,{...g,count:1}),l({title:"   !",status:"success",isClosable:!0,position:"top-right",duration:3e3})}catch(v){console.error(v)}};return G("div",{className:"catalog__card",children:[C("div",{children:C("img",{src:e,alt:"  "})}),G("div",{className:"catalog__card_description",children:[C("h4",{children:t}),C("div",{className:"catalog__card__colors",children:i.map((g,v)=>C("span",{onClick:()=>u(v),className:c===v?"active":"",children:C("img",{src:g.img})},v))}),C("div",{className:"catalog__card__sizes",children:s.map((g,v)=>C("span",{onClick:()=>p(v),className:"disabled",children:C("strong",{children:g})},v))}),G("div",{className:"catalog__card_add",children:[G("p",{children:[" ",r," ."]}),G(En,{onClick:y,children:[C("img",{src:iG,alt:""}),"4"]})]})]})]},n)},JMe=({searchedCatalogItems:n,isLoading:e})=>C("div",{className:"catalog__cards",children:e?[...new Array(6)].map((t,r)=>C(cce,{},r)):n.map(t=>C(XMe,{...t},t.image))}),qMe=({isVisiblePopup:n})=>C("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n?"rotated":"",children:C("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})}),YMe=()=>C("svg",{id:"Layer_1",version:"1.1",viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C("path",{d:"M448.3,424.7L335,311.3c20.8-26,33.3-59.1,33.3-95.1c0-84.1-68.1-152.2-152-152.2c-84,0-152,68.2-152,152.2  s68.1,152.2,152,152.2c36.2,0,69.4-12.7,95.5-33.8L425,448L448.3,424.7z M120.1,312.6c-25.7-25.7-39.8-59.9-39.8-96.3  s14.2-70.6,39.8-96.3S180,80,216.3,80c36.3,0,70.5,14.2,96.2,39.9s39.8,59.9,39.8,96.3s-14.2,70.6-39.8,96.3  c-25.7,25.7-59.9,39.9-96.2,39.9C180,352.5,145.8,338.3,120.1,312.6z",fill:"rgba(91, 91, 91, 1)"})}),QMe=({setSearchQuary:n})=>C("svg",{onClick:()=>n(""),enableBackground:"new 0 0 128 128",height:"25px",id:"Layer_1",version:"1.1",viewBox:"0 0 128 128",width:"25px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:C("g",{children:C("g",{children:C("path",{fill:"rgba(91, 91, 91, 1)",d:"M84.815,43.399c-0.781-0.782-2.047-0.782-2.828,0L64.032,61.356L46.077,43.399c-0.781-0.782-2.047-0.782-2.828,0    c-0.781,0.781-0.781,2.047,0,2.828l17.955,17.957L43.249,82.141c-0.781,0.78-0.781,2.047,0,2.828    c0.391,0.39,0.902,0.585,1.414,0.585s1.023-0.195,1.414-0.585l17.955-17.956l17.955,17.956c0.391,0.39,0.902,0.585,1.414,0.585    s1.023-0.195,1.414-0.585c0.781-0.781,0.781-2.048,0-2.828L66.86,64.184l17.955-17.957C85.597,45.447,85.597,44.18,84.815,43.399z     M64.032,14.054c-27.642,0-50.129,22.487-50.129,50.127c0.002,27.643,22.491,50.131,50.133,50.131    c27.639,0,50.125-22.489,50.125-50.131C114.161,36.541,91.674,14.054,64.032,14.054z M64.036,110.313h-0.002    c-25.435,0-46.129-20.695-46.131-46.131c0-25.435,20.693-46.127,46.129-46.127s46.129,20.693,46.129,46.127    C110.161,89.617,89.47,110.313,64.036,110.313z"})})})}),ZMe=({catalogItems:n,setCatalogItems:e,setActiveSort:t,activeSort:r})=>{const i=[{name:"",type:"rating"},{name:"",type:"price"},{name:"",type:"title"},{name:"",type:"male"},{name:"",type:"female"},{name:"",type:"child"}],[s,o]=D.useState(!1);//! 
const a=c=>{t(c);const u=n.sort((d,p)=>d[c.type].localeCompare(p[c.type]));e(u)},l=c=>{a&&a(c),t(c),o(!1)};return G("div",{className:"sort-popup",children:[G("p",{className:"sort-popup__name d-flex align-items-center gap-2",onClick:()=>o(!s),children:[C(qMe,{isVisiblePopup:s,className:"sort__lable"}),"  : ",C("strong",{children:r.name})]}),s&&C("div",{className:"sort__popup",children:C("ul",{className:"d-flex flex-column align-items-start",children:i.map((c,u)=>C("li",{className:r.type===c.type?"active":"",onClick:()=>l(c),children:c.name},`${c.id}_${u}`))})})]})},eEe=["","","","","","","","","",""],tEe=({activeCategory:n,setActiveCategory:e,filterPizzas:t,catalogItems:r,setCatalogItems:i,activeSort:s,setActiveSort:o})=>{const a=l=>{e(l),t(l)};return C("div",{className:"catalog__category__filter d-flex align-items-center",children:G("ul",{id:"style__scroll",children:[C("li",{className:n===""?"active":"",onClick:()=>a(""),children:""}),eEe.map((l,c)=>C("li",{onClick:()=>a(c),className:n===c?"active":"",children:l},c))]})})};var v2={},nEe={get exports(){return v2},set exports(n){v2=n}};(function(n,e){(function(t,r){n.exports=r(D)})(Ya,t=>(()=>{var r={703:(a,l,c)=>{var u=c(414);function d(){}function p(){}p.resetWarningCache=d,a.exports=function(){function m(v,x,_,w,A,T){if(T!==u){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}function y(){return m}m.isRequired=m;var g={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:y,element:m,elementType:m,instanceOf:y,node:m,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:p,resetWarningCache:d};return g.PropTypes=g,g}},697:(a,l,c)=>{a.exports=c(703)()},414:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:a=>{a.exports=t}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a](c,c.exports,s),c.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{default:()=>V});var a=s(98),l=s.n(a),c=s(697),u=s.n(c);function d(){return d=Object.assign?Object.assign.bind():function(U){for(var F=1;F<arguments.length;F++){var J=arguments[F];for(var q in J)Object.prototype.hasOwnProperty.call(J,q)&&(U[q]=J[q])}return U},d.apply(this,arguments)}var p=function(U){var F=U.pageClassName,J=U.pageLinkClassName,q=U.page,se=U.selected,ue=U.activeClassName,H=U.activeLinkClassName,j=U.getEventListener,O=U.pageSelectedHandler,oe=U.href,z=U.extraAriaContext,Q=U.pageLabelBuilder,de=U.rel,Z=U.ariaLabel||"Page "+q+(z?" "+z:""),Ae=null;return se&&(Ae="page",Z=U.ariaLabel||"Page "+q+" is your current page",F=F!==void 0?F+" "+ue:ue,J!==void 0?H!==void 0&&(J=J+" "+H):J=H),l().createElement("li",{className:F},l().createElement("a",d({rel:de,role:oe?void 0:"button",className:J,href:oe,tabIndex:se?"-1":"0","aria-label":Z,"aria-current":Ae,onKeyPress:O},j(O)),Q(q)))};p.propTypes={pageSelectedHandler:u().func.isRequired,selected:u().bool.isRequired,pageClassName:u().string,pageLinkClassName:u().string,activeClassName:u().string,activeLinkClassName:u().string,extraAriaContext:u().string,href:u().string,ariaLabel:u().string,page:u().number.isRequired,getEventListener:u().func.isRequired,pageLabelBuilder:u().func.isRequired,rel:u().string};const m=p;function y(){return y=Object.assign?Object.assign.bind():function(U){for(var F=1;F<arguments.length;F++){var J=arguments[F];for(var q in J)Object.prototype.hasOwnProperty.call(J,q)&&(U[q]=J[q])}return U},y.apply(this,arguments)}var g=function(U){var F=U.breakLabel,J=U.breakClassName,q=U.breakLinkClassName,se=U.breakHandler,ue=U.getEventListener,H=J||"break";return l().createElement("li",{className:H},l().createElement("a",y({className:q,role:"button",tabIndex:"0",onKeyPress:se},ue(se)),F))};g.propTypes={breakLabel:u().oneOfType([u().string,u().node]),breakClassName:u().string,breakLinkClassName:u().string,breakHandler:u().func.isRequired,getEventListener:u().func.isRequired};const v=g;function x(U){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return U??F}function _(U){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},_(U)}function w(){return w=Object.assign?Object.assign.bind():function(U){for(var F=1;F<arguments.length;F++){var J=arguments[F];for(var q in J)Object.prototype.hasOwnProperty.call(J,q)&&(U[q]=J[q])}return U},w.apply(this,arguments)}function A(U,F){for(var J=0;J<F.length;J++){var q=F[J];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}function T(U,F){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,q){return J.__proto__=q,J},T(U,F)}function P(U,F){if(F&&(_(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(U)}function L(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function M(U){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},M(U)}function R(U,F,J){return F in U?Object.defineProperty(U,F,{value:J,enumerable:!0,configurable:!0,writable:!0}):U[F]=J,U}var k=function(U){(function(j,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(O&&O.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),O&&T(j,O)})(H,U);var F,J,q,se,ue=(q=H,se=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var j,O=M(q);if(se){var oe=M(this).constructor;j=Reflect.construct(O,arguments,oe)}else j=O.apply(this,arguments);return P(this,j)});function H(j){var O,oe;return function(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,H),R(L(O=ue.call(this,j)),"handlePreviousPage",function(z){var Q=O.state.selected;O.handleClick(z,null,Q>0?Q-1:void 0,{isPrevious:!0})}),R(L(O),"handleNextPage",function(z){var Q=O.state.selected,de=O.props.pageCount;O.handleClick(z,null,Q<de-1?Q+1:void 0,{isNext:!0})}),R(L(O),"handlePageSelected",function(z,Q){if(O.state.selected===z)return O.callActiveCallback(z),void O.handleClick(Q,null,void 0,{isActive:!0});O.handleClick(Q,null,z)}),R(L(O),"handlePageChange",function(z){O.state.selected!==z&&(O.setState({selected:z}),O.callCallback(z))}),R(L(O),"getEventListener",function(z){return R({},O.props.eventListener,z)}),R(L(O),"handleClick",function(z,Q,de){var Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ae=Z.isPrevious,Te=Ae!==void 0&&Ae,Be=Z.isNext,Ve=Be!==void 0&&Be,Re=Z.isBreak,Pe=Re!==void 0&&Re,pe=Z.isActive,ge=pe!==void 0&&pe;z.preventDefault?z.preventDefault():z.returnValue=!1;var Ce=O.state.selected,We=O.props.onClick,ke=de;if(We){var Ge=We({index:Q,selected:Ce,nextSelectedPage:de,event:z,isPrevious:Te,isNext:Ve,isBreak:Pe,isActive:ge});if(Ge===!1)return;Number.isInteger(Ge)&&(ke=Ge)}ke!==void 0&&O.handlePageChange(ke)}),R(L(O),"handleBreakClick",function(z,Q){var de=O.state.selected;O.handleClick(Q,z,de<z?O.getForwardJump():O.getBackwardJump(),{isBreak:!0})}),R(L(O),"callCallback",function(z){O.props.onPageChange!==void 0&&typeof O.props.onPageChange=="function"&&O.props.onPageChange({selected:z})}),R(L(O),"callActiveCallback",function(z){O.props.onPageActive!==void 0&&typeof O.props.onPageActive=="function"&&O.props.onPageActive({selected:z})}),R(L(O),"getElementPageRel",function(z){var Q=O.state.selected,de=O.props,Z=de.nextPageRel,Ae=de.prevPageRel,Te=de.selectedPageRel;return Q-1===z?Ae:Q===z?Te:Q+1===z?Z:void 0}),R(L(O),"pagination",function(){var z=[],Q=O.props,de=Q.pageRangeDisplayed,Z=Q.pageCount,Ae=Q.marginPagesDisplayed,Te=Q.breakLabel,Be=Q.breakClassName,Ve=Q.breakLinkClassName,Re=O.state.selected;if(Z<=de)for(var Pe=0;Pe<Z;Pe++)z.push(O.getPageElement(Pe));else{var pe=de/2,ge=de-pe;Re>Z-de/2?pe=de-(ge=Z-Re):Re<de/2&&(ge=de-(pe=Re));var Ce,We,ke=function(et){return O.getPageElement(et)},Ge=[];for(Ce=0;Ce<Z;Ce++){var Ye=Ce+1;Ye<=Ae||Ye>Z-Ae||Ce>=Re-pe&&Ce<=Re+(Re===0&&de>1?ge-1:ge)?Ge.push({type:"page",index:Ce,display:ke(Ce)}):Te&&Ge.length>0&&Ge[Ge.length-1].display!==We&&(de>0||Ae>0)&&(We=l().createElement(v,{key:Ce,breakLabel:Te,breakClassName:Be,breakLinkClassName:Ve,breakHandler:O.handleBreakClick.bind(null,Ce),getEventListener:O.getEventListener}),Ge.push({type:"break",index:Ce,display:We}))}Ge.forEach(function(et,gt){var Mt=et;et.type==="break"&&Ge[gt-1]&&Ge[gt-1].type==="page"&&Ge[gt+1]&&Ge[gt+1].type==="page"&&Ge[gt+1].index-Ge[gt-1].index<=2&&(Mt={type:"page",index:et.index,display:ke(et.index)}),z.push(Mt.display)})}return z}),j.initialPage!==void 0&&j.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(j.initialPage,") and forcePage (").concat(j.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),oe=j.initialPage?j.initialPage:j.forcePage?j.forcePage:0,O.state={selected:oe},O}return F=H,(J=[{key:"componentDidMount",value:function(){var j=this.props,O=j.initialPage,oe=j.disableInitialCallback,z=j.extraAriaContext,Q=j.pageCount,de=j.forcePage;O===void 0||oe||this.callCallback(O),z&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(Q)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(Q,"). Did you forget a Math.ceil()?")),O!==void 0&&O>Q-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(O," > ").concat(Q-1,").")),de!==void 0&&de>Q-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(de," > ").concat(Q-1,")."))}},{key:"componentDidUpdate",value:function(j){this.props.forcePage!==void 0&&this.props.forcePage!==j.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(j.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var j=this.state.selected,O=this.props,oe=O.pageCount,z=j+O.pageRangeDisplayed;return z>=oe?oe-1:z}},{key:"getBackwardJump",value:function(){var j=this.state.selected-this.props.pageRangeDisplayed;return j<0?0:j}},{key:"getElementHref",value:function(j){var O=this.props,oe=O.hrefBuilder,z=O.pageCount,Q=O.hrefAllControls;if(oe)return Q||j>=0&&j<z?oe(j+1,z,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(j){var O=j===this.state.selected;if(this.props.ariaLabelBuilder&&j>=0&&j<this.props.pageCount){var oe=this.props.ariaLabelBuilder(j+1,O);return this.props.extraAriaContext&&!O&&(oe=oe+" "+this.props.extraAriaContext),oe}}},{key:"getPageElement",value:function(j){var O=this.state.selected,oe=this.props,z=oe.pageClassName,Q=oe.pageLinkClassName,de=oe.activeClassName,Z=oe.activeLinkClassName,Ae=oe.extraAriaContext,Te=oe.pageLabelBuilder;return l().createElement(m,{key:j,pageSelectedHandler:this.handlePageSelected.bind(null,j),selected:O===j,rel:this.getElementPageRel(j),pageClassName:z,pageLinkClassName:Q,activeClassName:de,activeLinkClassName:Z,extraAriaContext:Ae,href:this.getElementHref(j),ariaLabel:this.ariaLabelBuilder(j),page:j+1,pageLabelBuilder:Te,getEventListener:this.getEventListener})}},{key:"render",value:function(){var j=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&j!==void 0)return j&&j(this.props);var O=this.props,oe=O.disabledClassName,z=O.disabledLinkClassName,Q=O.pageCount,de=O.className,Z=O.containerClassName,Ae=O.previousLabel,Te=O.previousClassName,Be=O.previousLinkClassName,Ve=O.previousAriaLabel,Re=O.prevRel,Pe=O.nextLabel,pe=O.nextClassName,ge=O.nextLinkClassName,Ce=O.nextAriaLabel,We=O.nextRel,ke=this.state.selected,Ge=ke===0,Ye=ke===Q-1,et="".concat(x(Te)).concat(Ge?" ".concat(x(oe)):""),gt="".concat(x(pe)).concat(Ye?" ".concat(x(oe)):""),Mt="".concat(x(Be)).concat(Ge?" ".concat(x(z)):""),K="".concat(x(ge)).concat(Ye?" ".concat(x(z)):""),B=Ge?"true":"false",fe=Ye?"true":"false";return l().createElement("ul",{className:de||Z,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:et},l().createElement("a",w({className:Mt,href:this.getElementHref(ke-1),tabIndex:Ge?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":B,"aria-label":Ve,rel:Re},this.getEventListener(this.handlePreviousPage)),Ae)),this.pagination(),l().createElement("li",{className:gt},l().createElement("a",w({className:K,href:this.getElementHref(ke+1),tabIndex:Ye?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":fe,"aria-label":Ce,rel:We},this.getEventListener(this.handleNextPage)),Pe)))}}])&&A(F.prototype,J),Object.defineProperty(F,"prototype",{writable:!1}),H}(a.Component);R(k,"propTypes",{pageCount:u().number.isRequired,pageRangeDisplayed:u().number,marginPagesDisplayed:u().number,previousLabel:u().node,previousAriaLabel:u().string,prevPageRel:u().string,prevRel:u().string,nextLabel:u().node,nextAriaLabel:u().string,nextPageRel:u().string,nextRel:u().string,breakLabel:u().oneOfType([u().string,u().node]),hrefBuilder:u().func,hrefAllControls:u().bool,onPageChange:u().func,onPageActive:u().func,onClick:u().func,initialPage:u().number,forcePage:u().number,disableInitialCallback:u().bool,containerClassName:u().string,className:u().string,pageClassName:u().string,pageLinkClassName:u().string,pageLabelBuilder:u().func,activeClassName:u().string,activeLinkClassName:u().string,previousClassName:u().string,nextClassName:u().string,previousLinkClassName:u().string,nextLinkClassName:u().string,disabledClassName:u().string,disabledLinkClassName:u().string,breakClassName:u().string,breakLinkClassName:u().string,extraAriaContext:u().string,ariaLabelBuilder:u().func,eventListener:u().string,renderOnZeroPageCount:u().func,selectedPageRel:u().string}),R(k,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(U){return U},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const V=k})(),o})())})(nEe);const rEe=mS(v2),iEe=({onChangePage:n})=>C("div",{className:"catalog__pagination",children:C(rEe,{className:"pagination",breakLabel:"...",nextLabel:">",onPageChange:e=>n(e.selected+1),pageRangeDisplayed:3,pageCount:2,previousLabel:"<",renderOnZeroPageCount:null})}),sEe="_wrapper_yu5if_1",oEe="_input_yu5if_19",WM={wrapper:sEe,input:oEe},aEe=({searchQuary:n,setSearchQuary:e})=>G("div",{className:WM.wrapper,children:[C(YMe,{className:WM.icon}),C("input",{value:n,onChange:t=>e(t.target.value),className:WM.input,type:"text",placeholder:" ..."}),n&&C(QMe,{setSearchQuary:e})]}),lEe=({catalogItems:n,setCatalogItems:e,isLoading:t,activeCategory:r,setActiveCategory:i,filterPizzas:s,activeSort:o,setActiveSort:a,searchQuary:l,setSearchQuary:c,searchedCatalogItems:u,setCurrentPage:d})=>G("div",{className:"catalog",children:[G("div",{className:"container",children:[G("div",{className:"catalog__sort",children:[C("h2",{children:""}),G("div",{className:"d-flex align-items-center",children:[C(aEe,{searchQuary:l,setSearchQuary:c}),C(ZMe,{catalogItems:n,setCatalogItems:e,activeSort:o,setActiveSort:a})]})]}),C(tEe,{activeSort:o,setActiveSort:a,catalogItems:n,setCatalogItems:e,activeCategory:r,setActiveCategory:i,filterPizzas:s}),C(JMe,{catalogItems:n,isLoading:t,searchedCatalogItems:u})]}),C(iEe,{onChangePage:p=>d(p)}),C(Dd,{})]}),cEe="/money-can/assets/about1-83284332.png",uEe="/money-can/assets/about2-83a96a97.png",dEe="/money-can/assets/desingHeader-62d0e9b5.jpg",hEe=()=>G("div",{className:"about-us-page__section",children:[G("div",{children:[C("div",{children:C("img",{src:cEe,alt:""})}),G("div",{children:[C("h4",{children:"Lorem ipsum"}),G("p",{children:["Lorem    2010-         .     , Womazing   ,         .     ,         .            -,     prt-a-porter ."," "]})]})]}),G("div",{children:[C("div",{children:C("img",{src:uEe,alt:""})}),G("div",{children:[C("h4",{children:"Lorem ipsum"}),G("p",{children:["Lorem    2010-         .     , Womazing   ,         .     ,         .            -,     prt-a-porter ."," "]})]})]}),G("div",{children:[C("div",{children:C("img",{src:dEe,alt:""})}),G("div",{children:[C("h4",{children:"Lorem ipsum"}),G("p",{children:["Lorem    2010-         .     , Womazing   ,         .     ,         .            -,     prt-a-porter ."," "]})]})]})]}),fEe="/money-can/assets/pexels-ron-lach-9850088-a05de392.jpg",pEe=()=>C("section",{className:"about-us-page__comand",children:G("div",{className:"container",children:[C("h4",{children:" "}),C("p",{children:"                  .           , .            .         ,          ."}),C("figure",{children:C("img",{src:fEe,alt:" ",title:" "})}),C(En,{to:"/cooperation",children:" "})]})}),mEe=()=>G("div",{className:"about-us-page",children:[G("div",{className:"container",children:[C("h2",{children:" "}),C(hEe,{}),C(pEe,{})]}),C(Dd,{})]}),gEe="/money-can/assets/boss-6dc6e1cc.jpg",N1="/money-can/assets/designStars-2927c50b.svg",yEe="/money-can/assets/pexels-godisable-jacob-959751-83e71f46.jpg",vEe="/money-can/assets/pexels-los-muertos-crew-8030150-a9865f14.jpg",xEe="/money-can/assets/pexels-nappy-3097438-95e7e0f6.jpg",_Ee="/money-can/assets/pexels-sachin-bharti-1631181-f835a235.jpg",e1="/money-can/assets/pexels-anubhaw-anand-3756086-4d503552.jpg",F1=()=>C("section",{className:"design-boss__works",children:G("div",{className:"container",children:[C("h4",{children:""}),G(jy,{className:"design-boss__works__cards",...{infinite:!0,autoplay:!0,speed:500,slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,infinite:!0,dots:!1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},children:[C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:Pu,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:yEe,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:vEe,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:xEe,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:_Ee,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:e1,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:e1,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:e1,alt:""})})}),C("div",{className:"design-boss__works__card",children:C(Cs,{to:"/constructor",children:C("img",{src:e1,alt:""})})})]})]})}),W4=()=>C("section",{className:"design-department__boss",children:G("div",{className:"design-dep__bg",children:[G("div",{className:"container",children:[C("figure",{children:C("img",{src:gEe,alt:" ",title:"  "})}),G("div",{children:[G("p",{children:[C("strong",{children:" :"}),"  "]}),G("p",{children:[C("strong",{children:":"}),"  ,  "]}),G("p",{children:[C("strong",{children:":"})," ",G("ul",{children:[G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1800"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"500 "})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1500"})," ."]})]})]}),C("figure",{children:C("img",{src:N1,alt:""})}),G("div",{className:"d-flex gap-2",children:[C(En,{children:" "}),C(En,{children:"  "})]})]})]}),C(F1,{})]})}),SEe=()=>G("section",{className:"design-department",children:[C("section",{className:"design__description",children:C("section",{className:"container",children:G("div",{children:[C("h2",{children:" "}),C("p",{children:" -            .      ,            ,    .              ."})]})})}),C(W4,{}),C(W4,{}),C("section",{className:"des-dep__constructor",children:G("div",{className:"container",children:[G("h4",{children:[C("strong",{children:"3D"})," "]}),G("p",{children:["     , ,         "," "]}),C(En,{children:"  "})]})}),C(Dd,{})]}),wEe=()=>{const n=AR("./planet/scene.gltf");return C("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},bEe=()=>C(xR,{shadows:!0,frameloop:"demand",gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-3,3,6]},children:G(D.Suspense,{fallback:C(ER,{}),children:[C(CR,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),C(wEe,{})]})}),AEe=()=>G("div",{className:"container",children:[C("figure",{children:C(bEe,{})}),G("form",{action:"",children:[C("h4",{children:" "}),C("label",{htmlFor:"email",children:" email"}),C("input",{required:!0,id:"email",type:"text",placeholder:" email"}),C("label",{htmlFor:"text",children:" ,     "}),C("textarea",{name:"",id:"text",cols:"30",rows:"10",children:","}),C(En,{type:"button",children:""})]})]}),CEe=()=>G("div",{className:"container",children:[C("h4",{children:" "}),G("div",{children:[G("div",{children:[C("span",{children:""}),C("p",{children:C("a",{href:"",children:"+ 996 12 21 11"})})]}),G("div",{children:[C("span",{children:"Email"}),G("p",{children:[C("a",{href:"",children:"moneycan@gmail.com"})," "]})]}),G("div",{children:[C("span",{children:""}),G("p",{children:[C("a",{href:"",children:". , . , 25"})," "]})]})]})]}),MEe=()=>G("div",{className:"container",children:[C("h4",{children:" "}),G("div",{children:[G("div",{children:[C("span",{children:""}),C("p",{children:C("a",{href:"",children:"+996 700 000 000"})})]}),G("div",{children:[C("span",{children:"  "}),G("p",{children:[C("a",{href:"",children:"+996 700 000 000"})," "]})]}),G("div",{children:[C("span",{children:"  "}),G("p",{children:[C("a",{href:"",children:"+996 700 000 000"})," "]})]}),G("div",{children:[C("span",{children:"  "}),G("p",{children:[C("a",{href:"",children:"+996 700 000 000"})," "]})]})]})]}),EEe=()=>G("section",{className:"contuct-page",children:[C("div",{className:"container contuct-page__header__text",children:C("h2",{children:""})}),C("section",{className:"contuct-page__form",children:C(AEe,{})}),C("section",{className:"contuct-page__company",children:C(CEe,{})}),C("section",{className:"contuct-page__comand",children:C(MEe,{})}),C("section",{className:"contuct__map",children:C("div",{className:"container",children:C("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d11696.552555433744!2d74.60490565!3d42.86992839999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2skg!4v1677494983736!5m2!1sru!2skg",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})})})]}),TEe="/money-can/assets/trashBasket 1-9d02c15b.svg",PEe="/money-can/assets/plus-square 1-3ebdc397.svg",IEe="/money-can/assets/dash-square 1-b8b56e8c.svg",REe="/money-can/assets/x-square 1-dbbf21d1.svg";var x2={},LEe={get exports(){return x2},set exports(n){x2=n}},Rj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=D;function kEe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var DEe=typeof Object.is=="function"?Object.is:kEe,BEe=lp.useState,OEe=lp.useEffect,NEe=lp.useLayoutEffect,FEe=lp.useDebugValue;function zEe(n,e){var t=e(),r=BEe({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return NEe(function(){i.value=t,i.getSnapshot=e,jM(i)&&s({inst:i})},[n,t,e]),OEe(function(){return jM(i)&&s({inst:i}),n(function(){jM(i)&&s({inst:i})})},[n]),FEe(t),t}function jM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!DEe(n,t)}catch{return!0}}function UEe(n,e){return e()}var HEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UEe:zEe;Rj.useSyncExternalStore=lp.useSyncExternalStore!==void 0?lp.useSyncExternalStore:HEe;(function(n){n.exports=Rj})(LEe);var _2={},GEe={get exports(){return _2},set exports(n){_2=n}},Lj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=D,VEe=x2;function $Ee(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var WEe=typeof Object.is=="function"?Object.is:$Ee,jEe=VEe.useSyncExternalStore,KEe=lb.useRef,XEe=lb.useEffect,JEe=lb.useMemo,qEe=lb.useDebugValue;Lj.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=KEe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=JEe(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return d=y}return d=m}if(y=d,WEe(u,m))return y;var g=r(m);return i!==void 0&&i(y,g)?y:(u=m,d=g)}var c=!1,u,d,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=jEe(n,s[0],s[1]);return XEe(function(){o.hasValue=!0,o.value=a},[a]),qEe(a),a};(function(n){n.exports=Lj})(GEe);function YEe(n){n()}let kj=YEe;const QEe=n=>kj=n,ZEe=()=>kj,lS=D.createContext(null);function eTe(){return D.useContext(lS)}const tTe=()=>{throw new Error("uSES not initialized!")};let Dj=tTe;const nTe=n=>{Dj=n},rTe=(n,e)=>n===e;function iTe(n=lS){const e=n===lS?eTe:()=>D.useContext(n);return function(r,i=rTe){const{store:s,subscription:o,getServerState:a}=e(),l=Dj(o.addNestedSub,s.getState,a||s.getState,r,i);return D.useDebugValue(l),l}}const sTe=iTe();var j4={},oTe={get exports(){return j4},set exports(n){j4=n}},wn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),cb=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),hb=Symbol.for("react.provider"),fb=Symbol.for("react.context"),aTe=Symbol.for("react.server_context"),pb=Symbol.for("react.forward_ref"),mb=Symbol.for("react.suspense"),gb=Symbol.for("react.suspense_list"),yb=Symbol.for("react.memo"),vb=Symbol.for("react.lazy"),lTe=Symbol.for("react.offscreen"),Bj;Bj=Symbol.for("react.module.reference");function _o(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case _k:switch(n=n.type,n){case cb:case db:case ub:case mb:case gb:return n;default:switch(n=n&&n.$$typeof,n){case aTe:case fb:case pb:case vb:case yb:case hb:return n;default:return e}}case Sk:return e}}}wn.ContextConsumer=fb;wn.ContextProvider=hb;wn.Element=_k;wn.ForwardRef=pb;wn.Fragment=cb;wn.Lazy=vb;wn.Memo=yb;wn.Portal=Sk;wn.Profiler=db;wn.StrictMode=ub;wn.Suspense=mb;wn.SuspenseList=gb;wn.isAsyncMode=function(){return!1};wn.isConcurrentMode=function(){return!1};wn.isContextConsumer=function(n){return _o(n)===fb};wn.isContextProvider=function(n){return _o(n)===hb};wn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===_k};wn.isForwardRef=function(n){return _o(n)===pb};wn.isFragment=function(n){return _o(n)===cb};wn.isLazy=function(n){return _o(n)===vb};wn.isMemo=function(n){return _o(n)===yb};wn.isPortal=function(n){return _o(n)===Sk};wn.isProfiler=function(n){return _o(n)===db};wn.isStrictMode=function(n){return _o(n)===ub};wn.isSuspense=function(n){return _o(n)===mb};wn.isSuspenseList=function(n){return _o(n)===gb};wn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===cb||n===db||n===ub||n===mb||n===gb||n===lTe||typeof n=="object"&&n!==null&&(n.$$typeof===vb||n.$$typeof===yb||n.$$typeof===hb||n.$$typeof===fb||n.$$typeof===pb||n.$$typeof===Bj||n.getModuleId!==void 0)};wn.typeOf=_o;(function(n){n.exports=wn})(oTe);function cTe(){const n=ZEe();let e=null,t=null;return{clear(){e=null,t=null},notify(){n(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const K4={notify(){},get:()=>[]};function uTe(n,e){let t,r=K4;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return Boolean(t)}function l(){t||(t=e?e.addNestedSub(o):n.subscribe(o),r=cTe())}function c(){t&&(t(),t=void 0,r.clear(),r=K4)}const u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return u}const dTe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hTe=dTe?D.useLayoutEffect:D.useEffect;function fTe({store:n,context:e,children:t,serverState:r}){const i=D.useMemo(()=>{const a=uTe(n);return{store:n,subscription:a,getServerState:r?()=>r:void 0}},[n,r]),s=D.useMemo(()=>n.getState(),[n]);hTe(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==n.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||lS;return ul.createElement(o.Provider,{value:i},t)}nTe(_2.useSyncExternalStoreWithSelector);QEe(If.unstable_batchedUpdates);const pTe=()=>{const n=Ij(),e=sTe(l=>l.cart.cartItems),[t,r]=D.useState(e),i=async l=>{try{const c=C1(nf,"cartItems",l);await mM(c),a(),n({title:"   !",status:"success",isClosable:!0,position:"top-right",duration:3e3})}catch(c){console.log("error:",c)}},s=async l=>{try{const c=C1(nf,"cartItems",l),u=GP(-1);await HP(c,{count:u}),(await UP(c)).data().count===0?(await mM(c),console.log("Item deleted successfully!")):console.log("Item decremented successfully!"),a()}catch(c){console.error("Error decrementing item: ",c)}},o=async l=>{try{const c=C1(nf,"cartItems",l),u=GP(1);await HP(c,{count:u}),(await UP(c)).data().count===0?(await mM(c),console.log("Item deleted successfully!")):console.log("Item incremented successfully!"),a()}catch(c){console.error("Error incremented item: ",c)}},a=async()=>{try{const l=gL(nf,"cartItems"),u=(await d$(l)).docs.map(d=>({...d.data(),id:d.id}));r(u)}catch(l){console.log(l)}};return D.useEffect(()=>{a()},[]),G("section",{className:"shopping-cart",children:[G("div",{className:"container",children:[G("div",{className:"shopping-cart__header",children:[G("div",{className:"shopping-cart__image",children:[C("figure",{children:C("img",{src:IH,alt:""})}),C("h2",{children:""})]}),G(En,{children:[C("img",{src:TEe,alt:" "})," "]})]}),C("div",{className:"shopping-cart__extra",children:G("p",{children:[":",C("strong",{children:" "})]})}),C("section",{className:"shopping-cart__items",children:t.map(l=>G("section",{className:"shopping-cart__item",children:[G("div",{children:[C("figure",{children:C("img",{src:l.image,alt:" ",title:" "})}),G("div",{className:"shopping-cart__items_item",children:[C("p",{children:l.title}),G("p",{children:[C("strong",{children:"-:"}),".  "]}),G("p",{children:[C("strong",{children:":"}),l.name.name]}),G("p",{children:[C("strong",{children:":"}),l.textile]}),G("p",{children:[C("strong",{children:":"}),l.sizes]})]})]}),G("div",{className:"shopping-cart__items_count",children:[C("img",{onClick:()=>o(l.id),src:PEe,alt:"  ",title:"  "}),C("span",{children:C("strong",{children:l.count})}),C("img",{onClick:()=>s(l.id),src:IEe,alt:"  ",title:"  "})]}),G("div",{className:"shopping-cart__items_price",children:[G("p",{children:[C("strong",{children:l.price}),"."]}),C("img",{src:REe,onClick:()=>i(l.id),alt:" ",title:" "})]})]},l.id))}),G("section",{className:"shopping-cart__payment",children:[G("p",{children:[": ",C("strong",{children:"1500"})," ."]}),G("p",{children:[" : ",C("strong",{children:"1500"})," ."]}),C(En,{children:" "}),C(En,{children:" "})]})]}),C(Dd,{})]})},mTe="/money-can/assets/pexels-the-lazy-artist-gallery-1342609-692dedc9.jpg",gTe="/money-can/assets/pexels-angela-roma-7480096-2ec7a1b4.jpg",yTe="/money-can/assets/pexels-cottonbro-studio-4622423-261c1e96.jpg",vTe=()=>G("section",{className:"production",children:[C("section",{className:"production__description",children:G("div",{className:"container",children:[C("h2",{children:""}),C("p",{children:"    ,    ,      .       ,       .      ,      ,     .      .      ,  ,     ,    .      ,     ,     ,       .           ."})]})}),G("section",{className:"first-production",children:[G("div",{className:"container",children:[C("figure",{children:C("img",{src:mTe,alt:""})}),G("div",{children:[G("div",{children:[G("div",{children:[G("p",{children:[C("strong",{children:" :"}),"  "]}),G("p",{children:[C("strong",{children:":"})," ",G("ul",{children:[G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1800"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"500 "})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1500"})," ."]})]})]}),G("p",{children:[C("strong",{children:":"})," 200 .  "]}),G("p",{children:[C("strong",{children:" :"}),G("ul",{children:[C("li",{children:"15 "}),C("li",{children:"3 "})]})]})]}),C("figure",{children:C("img",{src:N1,alt:""})})]}),G("div",{className:"first-production_btn",children:[C(En,{children:" "})," ",C(En,{children:""})]})]})]}),C(F1,{})]}),G("section",{className:"first-production",children:[G("div",{className:"container",children:[C("figure",{children:C("img",{src:gTe,alt:""})}),G("div",{children:[G("div",{children:[G("div",{children:[G("p",{children:[C("strong",{children:" :"}),"  "]}),G("p",{children:[C("strong",{children:":"})," ",G("ul",{children:[G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1800"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"500 "})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1500"})," ."]})]})]}),G("p",{children:[C("strong",{children:":"})," 200 .  "]}),G("p",{children:[C("strong",{children:" :"}),G("ul",{children:[C("li",{children:"15 "}),C("li",{children:"3 "})]})]})]}),C("figure",{children:C("img",{src:N1,alt:""})})]}),G("div",{className:"first-production_btn",children:[C(En,{children:" "})," ",C(En,{children:""})]})]})]}),C(F1,{})," "]}),G("section",{className:"first-production",children:[G("div",{className:"container",children:[C("figure",{children:C("img",{src:yTe,alt:""})}),G("div",{children:[G("div",{children:[G("div",{children:[G("p",{children:[C("strong",{children:" :"}),"  "]}),G("p",{children:[C("strong",{children:":"})," ",G("ul",{children:[G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1800"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"2000"})," ."]}),G("li",{children:[" -  ",C("strong",{children:"500 "})," ."]}),G("li",{children:[" -  ",C("strong",{children:"1500"})," ."]})]})]}),G("p",{children:[C("strong",{children:":"})," 200 .  "]}),G("p",{children:[C("strong",{children:" :"}),G("ul",{children:[C("li",{children:"15 "}),C("li",{children:"3 "})]})]})]}),C("figure",{children:C("img",{src:N1,alt:""})})]}),G("div",{className:"first-production_btn",children:[C(En,{children:" "}),C(En,{children:""})]})]})]}),C(F1,{})]}),C(Dd,{})]}),xTe="/money-can/assets/Arrow 1-eaf353f4.svg",_Te="/money-can/assets/cartAdd-83a06265.svg",STe="/money-can/assets/bag-e17116bb.svg",Oj="/money-can/assets/currency-d2a2ebfa.svg",wTe=()=>G("div",{className:"container",children:[C("h2",{children:" "}),G("section",{className:"cooperation__catalog",children:[C("div",{className:"cooperation__catalog_arrow",children:C("img",{src:xTe,alt:""})}),G("div",{className:"cooperation__catalog_block",children:[G("div",{children:[C("img",{src:_Te,alt:""}),C("h4",{children:"   "})]}),C("img",{src:STe,alt:""})," ",C("strong",{children:" "}),G("ol",{children:[C("li",{children:"   ,     ,   .   "}),C("li",{children:"         , , ,   ."}),C("li",{children:"         "}),C("li",{children:"     "}),C("li",{children:"   "})]}),C("img",{src:Oj,alt:""}),C("strong",{children:""}),G("ol",{children:[C("li",{children:"         (       )"}),C("li",{children:"       "}),C("li",{children:"    "}),C("li",{children:"       "}),C("li",{children:"          (  1 - 2 )"}),C("li",{children:"     (  1-3 ,       )"}),G("li",{children:["     30    ,       ,  "," "]})]})]})]})]}),bTe="/money-can/assets/Arrow 2-7afdd446.svg",ATe="/money-can/assets/build-8fcf050e.svg",CTe=()=>G("div",{className:"container",children:[C("div",{className:"cooperation__production_arrow",children:C("img",{src:bTe,alt:""})}),G("div",{className:"cooperation__production_block",children:[G("div",{children:[C("img",{src:ATe,alt:""}),C("h4",{children:" : "})]}),G("ol",{children:[C("li",{children:" ,          "}),C("li",{children:"   "}),G("li",{children:["     (.. ,  ,   .)"," "]})]}),C("img",{src:Oj,alt:""}),C("strong",{children:""}),G("ol",{children:[C("li",{children:"      "}),C("li",{children:" 50%        "}),C("li",{children:"       "}),C("li",{children:" 1 - 2        "}),C("li",{children:"        "}),C("li",{children:"       "})]})]})]}),MTe="/money-can/assets/Arrow 3-3927bd56.svg",ETe="/money-can/assets/work-7254ef38.svg",TTe=()=>G("div",{className:"container",children:[C("div",{className:"how-we-work__arrow",children:C("img",{src:MTe,alt:""})}),G("div",{className:"how-we-work__content",children:[G("div",{children:[C("img",{src:ETe,alt:""}),C("h4",{children:"  "})]}),G("ol",{children:[C("li",{children:"   "}),C("li",{children:"  "}),C("li",{children:"   "}),C("li",{children:"  - , ,   ."}),G("li",{children:[" ",G("ul",{children:[C("li",{children:""}),C("li",{children:"      "}),C("li",{children:"     "}),C("li",{children:" "})]})]})]})]})]}),Nj="/money-can/assets/Arrow 4-45489708.svg",PTe="/money-can/assets/min-5c86178e.svg",ITe="/money-can/assets/sport-e86448fc.svg",RTe="/money-can/assets/bluzka-28edfa6c.svg",LTe="/money-can/assets/rubashka-7a9655d4.svg",kTe="/money-can/assets/palto-bc9d83e0.svg",DTe="/money-can/assets/classic-648c238b.svg",BTe="/money-can/assets/dress-3ad99d20.svg",OTe="/money-can/assets/futbolka-7433f4c2.svg",NTe="/money-can/assets/pants-5476a2e7.svg",FTe="/money-can/assets/kurtka-31552027.svg",zTe=()=>G("div",{className:"container",children:[C("div",{className:"cooperation__min_arrow",children:C("img",{src:Nj,alt:""})}),G("div",{className:"cooperation__min_content",children:[G("div",{children:[C("img",{src:PTe,alt:""}),C("h4",{children:" "})]}),G("ol",{children:[G("li",{children:[C("img",{src:ITe,alt:""}),"   5    .  20    "]}),G("li",{children:[C("img",{src:RTe,alt:""})," , , ,  3    .  40-80   "]}),G("li",{children:[C("img",{src:LTe,alt:""}),"  3    .  40-70   "]}),G("li",{children:[C("img",{src:kTe,alt:""}),"  4    .  15-30   1 "]}),G("li",{children:[C("img",{src:DTe,alt:""}),"   5    .  35-45   "]}),G("li",{children:[C("img",{src:BTe,alt:""}),"  3    .  40-70   "]}),G("li",{children:[C("img",{src:OTe,alt:""}),"  3    .  100-140   "]}),G("li",{children:[C("img",{src:NTe,alt:""}),"    3    .  65-95   "]}),G("li",{children:[C("img",{src:FTe,alt:""}),"  4    .  15-30   "]})]})]})]}),UTe="/money-can/assets/Arrow 6-a7443054.svg",HTe="/money-can/assets/time-172bb8ef.svg",GTe=()=>G("div",{className:"container",children:[C("div",{className:"cooperation__time_arrow",children:C("img",{src:UTe,alt:""})}),G("div",{className:"cooperation__time_content",children:[G("div",{children:[C("img",{src:HTe,alt:""}),C("h4",{children:""})]}),G("ol",{children:[C("li",{children:"  2-3 "}),C("li",{children:"        "})]})]})]}),VTe="/money-can/assets/delivery-10b8215e.svg",$Te="/money-can/assets/delAvto-bdf7d75e.svg",WTe="/money-can/assets/delAvia-06f99d75.svg",jTe=()=>G("div",{className:"container",children:[C("div",{className:"cooperation__delivery_arrow",children:C("img",{src:Nj,alt:""})}),G("div",{className:"cooperation__delivery_content",children:[G("div",{children:[C("img",{src:VTe,alt:""}),C("h4",{children:""})]}),G("ul",{children:[G("li",{children:[C("img",{src:$Te,alt:""})," "]}),C("li",{className:"delLi",children:" 4-15   "}),C("li",{className:"delLi",children:" 35-40 /  "}),G("li",{children:[C("img",{src:WTe,alt:""})," "]}),C("li",{className:"delLi",children:" 2-3   "}),C("li",{className:"delLi",children:" 150-190 /  "}),C("li",{className:"delLi delLiCol",children:"    ,      (),   ,         ."}),C("li",{className:"delLi delLiCol",children:":     (  ).         30/.          .             ,   ."})]})]})]}),KTe=()=>G("section",{className:"cooperation",children:[C("div",{className:"cooperation__catalog_section",children:C(wTe,{})}),C("section",{className:"cooperation-production",children:C(CTe,{})}),C("section",{className:"how-we-work",children:C(TTe,{})}),C("section",{className:"cooperation__min",children:C(zTe,{})}),C("section",{className:"cooperation__limits",children:C(GTe,{})}),C("section",{className:"cooperation__delivery",children:C(jTe,{})}),C("div",{className:"cooperation__arr_back",children:C(En,{children:" "})}),C(Dd,{})]}),XTe="/money-can/assets/-a7c01563.png",JTe=()=>G("section",{className:"fulfillment",children:[C("section",{className:"fulfillment__description",children:G("div",{className:"container",children:[C("h2",{children:""}),C("p",{children:"        ,    .      ,  , , , ,   . .     ,     ,           ."})]})}),C("section",{className:"fulfillment__content",children:G("div",{className:"container",children:[C("figure",{children:C("img",{src:XTe,alt:"  "})}),G("div",{className:"fulfillment__about",children:[G("p",{children:[C("strong",{children:" :"}),"  "]}),G("p",{children:[C("strong",{children:":"}),G("form",{action:"",children:[G("div",{children:[C("input",{type:"checkbox",id:"brak"}),C("label",{htmlFor:"brak",children:"  "})]}),G("div",{children:[C("input",{type:"checkbox",id:"brak"}),C("label",{htmlFor:"send",children:""})]}),G("div",{children:[C("input",{type:"checkbox",id:"clean"}),C("label",{htmlFor:"clean",children:" "})]}),G("div",{children:[C("input",{type:"checkbox",id:"lable"}),C("label",{htmlFor:"lable",children:" , , "})]}),G("div",{children:[C("input",{type:"checkbox",id:"brand"}),C("label",{htmlFor:"brand",children:"  ( )   "})]}),G("div",{children:[C("input",{type:"checkbox",id:"paint"}),C("label",{htmlFor:"paint",children:"    "})]}),G("div",{children:[C("input",{type:"checkbox",id:"mark"}),C("label",{htmlFor:"mark",children:""})]})]})]})]})]})})]}),qTe=n=>{const[e]=bR([n.imgUrl]);return G(Qle,{speed:.75,rotationIntensity:1,floatIntensity:2,children:[C("ambientLight",{intensity:.25}),C("directionalLight",{position:[0,0,.05]}),G("mesh",{castShadow:!0,receiveShadow:!0,scale:2.45,children:[C("icosahedronGeometry",{args:[1,1]}),C("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),C(Yle,{position:[0,0,1],map:e,rotation:[2*Math.PI,0,6.25],flatShading:!0})]})]})},YTe=({icon:n})=>G(xR,{style:{height:50},frameloop:"demand",gl:{preserveDrawing:!0},children:[G(D.Suspense,{fallback:C(ER,{}),children:[C(CR,{enableZoom:!1}),C(qTe,{imgUrl:n})]}),C(k6,{all:!0})]}),QTe=()=>C("div",{className:"contact-links",children:hq.map((n,e)=>C("div",{children:C(YTe,{icon:n.icon})},e))});const ZTe=()=>G("div",{className:"not-found",children:[G("h1",{children:[C("span",{children:""}),C("br",{}),"  "]}),C("p",{children:"       !"})]});function Fo(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $c(n){return!!n&&!!n[Kn]}function Cl(n){var e;return!!n&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===lPe}(n)||Array.isArray(n)||!!n[eU]||!!(!((e=n.constructor)===null||e===void 0)&&e[eU])||wk(n)||bk(n))}function Id(n,e,t){t===void 0&&(t=!1),Bp(n)===0?(t?Object.keys:Pf)(n).forEach(function(r){t&&typeof r=="symbol"||e(r,n[r],n)}):n.forEach(function(r,i){return e(i,r,n)})}function Bp(n){var e=n[Kn];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:wk(n)?2:bk(n)?3:0}function Tf(n,e){return Bp(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function ePe(n,e){return Bp(n)===2?n.get(e):n[e]}function Fj(n,e,t){var r=Bp(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function zj(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function wk(n){return oPe&&n instanceof Map}function bk(n){return aPe&&n instanceof Set}function Nu(n){return n.o||n.t}function Ak(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=Hj(n);delete e[Kn];for(var t=Pf(e),r=0;r<t.length;r++){var i=t[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),e)}function Ck(n,e){return e===void 0&&(e=!1),Mk(n)||$c(n)||!Cl(n)||(Bp(n)>1&&(n.set=n.add=n.clear=n.delete=tPe),Object.freeze(n),e&&Id(n,function(t,r){return Ck(r,!0)},!0)),n}function tPe(){Fo(2)}function Mk(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function ba(n){var e=A2[n];return e||Fo(18,n),e}function nPe(n,e){A2[n]||(A2[n]=e)}function S2(){return Oy}function KM(n,e){e&&(ba("Patches"),n.u=[],n.s=[],n.v=e)}function cS(n){w2(n),n.p.forEach(rPe),n.p=null}function w2(n){n===Oy&&(Oy=n.l)}function X4(n){return Oy={p:[],l:Oy,h:n,m:!0,_:0}}function rPe(n){var e=n[Kn];e.i===0||e.i===1?e.j():e.O=!0}function XM(n,e){e._=e.p.length;var t=e.p[0],r=n!==void 0&&n!==t;return e.h.g||ba("ES5").S(e,n,r),r?(t[Kn].P&&(cS(e),Fo(4)),Cl(n)&&(n=uS(e,n),e.l||dS(e,n)),e.u&&ba("Patches").M(t[Kn].t,n,e.u,e.s)):n=uS(e,t,[]),cS(e),e.u&&e.v(e.u,e.s),n!==Uj?n:void 0}function uS(n,e,t){if(Mk(e))return e;var r=e[Kn];if(!r)return Id(e,function(a,l){return J4(n,r,e,a,l,t)},!0),e;if(r.A!==n)return e;if(!r.P)return dS(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Ak(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Id(s,function(a,l){return J4(n,r,i,a,l,t,o)}),dS(n,i,!1),t&&n.u&&ba("Patches").N(r,t,n.u,n.s)}return r.o}function J4(n,e,t,r,i,s,o){if($c(i)){var a=uS(n,i,s&&e&&e.i!==3&&!Tf(e.R,r)?s.concat(r):void 0);if(Fj(t,r,a),!$c(a))return;n.m=!1}else o&&t.add(i);if(Cl(i)&&!Mk(i)){if(!n.h.D&&n._<1)return;uS(n,i),e&&e.A.l||dS(n,i)}}function dS(n,e,t){t===void 0&&(t=!1),!n.l&&n.h.D&&n.m&&Ck(e,t)}function JM(n,e){var t=n[Kn];return(t?Nu(t):n)[e]}function q4(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Object.getPrototypeOf(t)}}function ac(n){n.P||(n.P=!0,n.l&&ac(n.l))}function qM(n){n.o||(n.o=Ak(n.t))}function b2(n,e,t){var r=wk(e)?ba("MapSet").F(e,t):bk(e)?ba("MapSet").T(e,t):n.g?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:S2(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,c=Ny;o&&(l=[a],c=Jm);var u=Proxy.revocable(l,c),d=u.revoke,p=u.proxy;return a.k=p,a.j=d,p}(e,t):ba("ES5").J(e,t);return(t?t.A:S2()).p.push(r),r}function iPe(n){return $c(n)||Fo(22,n),function e(t){if(!Cl(t))return t;var r,i=t[Kn],s=Bp(t);if(i){if(!i.P&&(i.i<4||!ba("ES5").K(i)))return i.t;i.I=!0,r=Y4(t,s),i.I=!1}else r=Y4(t,s);return Id(r,function(o,a){i&&ePe(i.t,o)===a||Fj(r,o,e(a))}),s===3?new Set(r):r}(n)}function Y4(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return Ak(n)}function sPe(){function n(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Kn];return Ny.get(l,s)},set:function(l){var c=this[Kn];Ny.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Kn];if(!a.P)switch(a.i){case 5:r(a)&&ac(a);break;case 4:t(a)&&ac(a)}}}function t(s){for(var o=s.t,a=s.k,l=Pf(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==Kn){var d=o[u];if(d===void 0&&!Tf(o,u))return!0;var p=a[u],m=p&&p[Kn];if(m?m.t!==d:!zj(p,d))return!0}}var y=!!o[Kn];return l.length!==Pf(o).length+(y?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};nPe("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,d){if(u){for(var p=Array(d.length),m=0;m<d.length;m++)Object.defineProperty(p,""+m,n(m,!0));return p}var y=Hj(d);delete y[Kn];for(var g=Pf(y),v=0;v<g.length;v++){var x=g[v];y[x]=n(x,u||!!y[x].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,s),c={i:a?5:4,A:o?o.A:S2(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Kn,{value:c,writable:!0}),l},S:function(s,o,a){a?$c(o)&&o[Kn].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[Kn];if(u){var d=u.t,p=u.k,m=u.R,y=u.i;if(y===4)Id(p,function(w){w!==Kn&&(d[w]!==void 0||Tf(d,w)?m[w]||l(p[w]):(m[w]=!0,ac(u)))}),Id(d,function(w){p[w]!==void 0||Tf(p,w)||(m[w]=!1,ac(u))});else if(y===5){if(r(u)&&(ac(u),m.length=!0),p.length<d.length)for(var g=p.length;g<d.length;g++)m[g]=!1;else for(var v=d.length;v<p.length;v++)m[v]=!0;for(var x=Math.min(p.length,d.length),_=0;_<x;_++)p.hasOwnProperty(_)||(m[_]=!0),m[_]===void 0&&l(p[_])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?t(s):r(s)}})}var Q4,Oy,Ek=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oPe=typeof Map<"u",aPe=typeof Set<"u",Z4=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Uj=Ek?Symbol.for("immer-nothing"):((Q4={})["immer-nothing"]=!0,Q4),eU=Ek?Symbol.for("immer-draftable"):"__$immer_draftable",Kn=Ek?Symbol.for("immer-state"):"__$immer_state",lPe=""+Object.prototype.constructor,Pf=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Hj=Object.getOwnPropertyDescriptors||function(n){var e={};return Pf(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},A2={},Ny={get:function(n,e){if(e===Kn)return n;var t=Nu(n);if(!Tf(t,e))return function(i,s,o){var a,l=q4(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(n,t,e);var r=t[e];return n.I||!Cl(r)?r:r===JM(n.t,e)?(qM(n),n.o[e]=b2(n.A.h,r,n)):r},has:function(n,e){return e in Nu(n)},ownKeys:function(n){return Reflect.ownKeys(Nu(n))},set:function(n,e,t){var r=q4(Nu(n),e);if(r!=null&&r.set)return r.set.call(n.k,t),!0;if(!n.P){var i=JM(Nu(n),e),s=i==null?void 0:i[Kn];if(s&&s.t===t)return n.o[e]=t,n.R[e]=!1,!0;if(zj(t,i)&&(t!==void 0||Tf(n.t,e)))return!0;qM(n),ac(n)}return n.o[e]===t&&(t!==void 0||e in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[e])||(n.o[e]=t,n.R[e]=!0),!0},deleteProperty:function(n,e){return JM(n.t,e)!==void 0||e in n.t?(n.R[e]=!1,qM(n),ac(n)):delete n.R[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=Nu(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty:function(){Fo(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Fo(12)}},Jm={};Id(Ny,function(n,e){Jm[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Jm.deleteProperty=function(n,e){return Jm.set.call(this,n,e,void 0)},Jm.set=function(n,e,t){return Ny.set.call(this,n[0],e,t,n[0])};var cPe=function(){function n(t){var r=this;this.g=Z4,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(g){var v=this;g===void 0&&(g=a);for(var x=arguments.length,_=Array(x>1?x-1:0),w=1;w<x;w++)_[w-1]=arguments[w];return l.produce(g,function(A){var T;return(T=s).call.apply(T,[v,A].concat(_))})}}var c;if(typeof s!="function"&&Fo(6),o!==void 0&&typeof o!="function"&&Fo(7),Cl(i)){var u=X4(r),d=b2(r,i,void 0),p=!0;try{c=s(d),p=!1}finally{p?cS(u):w2(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return KM(u,o),XM(g,u)},function(g){throw cS(u),g}):(KM(u,o),XM(c,u))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===Uj&&(c=void 0),r.D&&Ck(c,!0),o){var m=[],y=[];ba("Patches").M(i,c,m,y),o(m,y)}return c}Fo(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];return r.produceWithPatches(c,function(m){return i.apply(void 0,[m].concat(d))})};var o,a,l=r.produce(i,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){Cl(t)||Fo(8),$c(t)&&(t=iPe(t));var r=X4(this),i=b2(this,t,void 0);return i[Kn].C=!0,w2(r),i},e.finishDraft=function(t,r){var i=t&&t[Kn],s=i.A;return KM(s,r),XM(void 0,s)},e.setAutoFreeze=function(t){this.D=t},e.setUseProxies=function(t){t&&!Z4&&Fo(20),this.g=t},e.applyPatches=function(t,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ba("Patches").$;return $c(t)?o(t,r):this.produce(t,function(a){return o(a,r)})},n}(),Us=new cPe,Gj=Us.produce;Us.produceWithPatches.bind(Us);Us.setAutoFreeze.bind(Us);Us.setUseProxies.bind(Us);Us.applyPatches.bind(Us);Us.createDraft.bind(Us);Us.finishDraft.bind(Us);function tU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(t),!0).forEach(function(r){Et(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ci(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var rU=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),YM=function(){return Math.random().toString(36).substring(7).split("").join(".")},hS={INIT:"@@redux/INIT"+YM(),REPLACE:"@@redux/REPLACE"+YM(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+YM()}};function uPe(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Vj(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ci(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ci(1));return t(Vj)(n,e)}if(typeof n!="function")throw new Error(Ci(2));var i=n,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(Ci(3));return s}function d(g){if(typeof g!="function")throw new Error(Ci(4));if(l)throw new Error(Ci(5));var v=!0;return c(),a.push(g),function(){if(v){if(l)throw new Error(Ci(6));v=!1,c();var _=a.indexOf(g);a.splice(_,1),o=null}}}function p(g){if(!uPe(g))throw new Error(Ci(7));if(typeof g.type>"u")throw new Error(Ci(8));if(l)throw new Error(Ci(9));try{l=!0,s=i(s,g)}finally{l=!1}for(var v=o=a,x=0;x<v.length;x++){var _=v[x];_()}return g}function m(g){if(typeof g!="function")throw new Error(Ci(10));i=g,p({type:hS.REPLACE})}function y(){var g,v=d;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(Ci(11));function w(){_.next&&_.next(u())}w();var A=v(w);return{unsubscribe:A}}},g[rU]=function(){return this},g}return p({type:hS.INIT}),r={dispatch:p,subscribe:d,getState:u,replaceReducer:m},r[rU]=y,r}function dPe(n){Object.keys(n).forEach(function(e){var t=n[e],r=t(void 0,{type:hS.INIT});if(typeof r>"u")throw new Error(Ci(12));if(typeof t(void 0,{type:hS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ci(13))})}function hPe(n){for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r];typeof n[i]=="function"&&(t[i]=n[i])}var s=Object.keys(t),o;try{dPe(t)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,d={},p=0;p<s.length;p++){var m=s[p],y=t[m],g=l[m],v=y(g,c);if(typeof v>"u")throw c&&c.type,new Error(Ci(14));d[m]=v,u=u||v!==g}return u=u||s.length!==Object.keys(l).length,u?d:l}}function fS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function fPe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ci(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=fS.apply(void 0,a)(i.dispatch),nU(nU({},i),{},{dispatch:s})}}}function $j(n){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,n):o(a)}}};return e}var Wj=$j();Wj.withExtraArgument=$j;const iU=Wj;var pPe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mPe=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pS=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},gPe=Object.defineProperty,yPe=Object.defineProperties,vPe=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,xPe=Object.prototype.hasOwnProperty,_Pe=Object.prototype.propertyIsEnumerable,oU=function(n,e,t){return e in n?gPe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Lc=function(n,e){for(var t in e||(e={}))xPe.call(e,t)&&oU(n,t,e[t]);if(sU)for(var r=0,i=sU(e);r<i.length;r++){var t=i[r];_Pe.call(e,t)&&oU(n,t,e[t])}return n},QM=function(n,e){return yPe(n,vPe(e))},SPe=function(n,e,t){return new Promise(function(r,i){var s=function(l){try{a(t.next(l))}catch(c){i(c)}},o=function(l){try{a(t.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((t=t.apply(n,e)).next())})},wPe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fS:fS.apply(null,arguments)};function bPe(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}var APe=function(n){pPe(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,pS([void 0],t[0].concat(this)))):new(e.bind.apply(e,pS([void 0],t.concat(this))))},e}(Array);function C2(n){return Cl(n)?Gj(n,function(){}):n}function CPe(n){return typeof n=="boolean"}function MPe(){return function(e){return EPe(e)}}function EPe(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck;var r=new APe;return t&&(CPe(t)?r.push(iU):r.push(iU.withExtraArgument(t.extraArgument))),r}var TPe=!0;function PPe(n){var e=MPe(),t=n||{},r=t.reducer,i=r===void 0?void 0:r,s=t.middleware,o=s===void 0?e():s,a=t.devTools,l=a===void 0?!0:a,c=t.preloadedState,u=c===void 0?void 0:c,d=t.enhancers,p=d===void 0?void 0:d,m;if(typeof i=="function")m=i;else if(bPe(i))m=hPe(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=o;typeof y=="function"&&(y=y(e));var g=fPe.apply(void 0,y),v=fS;l&&(v=wPe(Lc({trace:!TPe},typeof l=="object"&&l)));var x=[g];Array.isArray(p)?x=pS([g],p):typeof p=="function"&&(x=p(x));var _=v.apply(void 0,x);return Vj(m,u,_)}function kc(n,e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Lc(Lc({type:n,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:n,payload:r[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(r){return r.type===n},t}function jj(n){var e={},t=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return n(i),[e,t,r]}function IPe(n){return typeof n=="function"}function RPe(n,e,t,r){t===void 0&&(t=[]);var i=typeof e=="function"?jj(e):[e,t,r],s=i[0],o=i[1],a=i[2],l;if(IPe(n))l=function(){return C2(n())};else{var c=C2(n);l=function(){return c}}function u(d,p){d===void 0&&(d=l());var m=pS([s[p.type]],o.filter(function(y){var g=y.matcher;return g(p)}).map(function(y){var g=y.reducer;return g}));return m.filter(function(y){return!!y}).length===0&&(m=[a]),m.reduce(function(y,g){if(g)if($c(y)){var v=y,x=g(v,p);return x===void 0?y:x}else{if(Cl(y))return Gj(y,function(_){return g(_,p)});var x=g(y,p);if(x===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return y},d)}return u.getInitialState=l,u}function LPe(n,e){return n+"/"+e}function Kj(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var t=typeof n.initialState=="function"?n.initialState:C2(n.initialState),r=n.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var d=r[u],p=LPe(e,u),m,y;"reducer"in d?(m=d.reducer,y=d.prepare):m=d,s[u]=m,o[p]=m,a[u]=y?kc(p,y):kc(p)});function l(){var u=typeof n.extraReducers=="function"?jj(n.extraReducers):[n.extraReducers],d=u[0],p=d===void 0?{}:d,m=u[1],y=m===void 0?[]:m,g=u[2],v=g===void 0?void 0:g,x=Lc(Lc({},p),o);return RPe(t,function(_){for(var w in x)_.addCase(w,x[w]);for(var A=0,T=y;A<T.length;A++){var P=T[A];_.addMatcher(P.matcher,P.reducer)}v&&_.addDefaultCase(v)})}var c;return{name:e,reducer:function(u,d){return c||(c=l()),c(u,d)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var kPe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DPe=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=kPe[Math.random()*64|0];return e},BPe=["name","message","stack","code"],ZM=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),aU=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),OPe=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,r=BPe;t<r.length;t++){var i=r[t];typeof n[i]=="string"&&(e[i]=n[i])}return e}return{message:String(n)}};(function(){function n(e,t,r){var i=kc(e+"/fulfilled",function(c,u,d,p){return{payload:c,meta:QM(Lc({},p||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),s=kc(e+"/pending",function(c,u,d){return{payload:void 0,meta:QM(Lc({},d||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=kc(e+"/rejected",function(c,u,d,p,m){return{payload:p,error:(r&&r.serializeError||OPe)(c||"Rejected"),meta:QM(Lc({},m||{}),{arg:d,requestId:u,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,d,p){var m=r!=null&&r.idGenerator?r.idGenerator(c):DPe(),y=new a,g;function v(_){g=_,y.abort()}var x=function(){return SPe(this,null,function(){var _,w,A,T,P,L,M;return mPe(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),T=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,c,{getState:d,extra:p}),FPe(T)?[4,T]:[3,2];case 1:T=R.sent(),R.label=2;case 2:if(T===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return P=new Promise(function(k,V){return y.signal.addEventListener("abort",function(){return V({name:"AbortError",message:g||"Aborted"})})}),u(s(m,c,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:m,arg:c},{getState:d,extra:p}))),[4,Promise.race([P,Promise.resolve(t(c,{dispatch:u,getState:d,extra:p,requestId:m,signal:y.signal,abort:v,rejectWithValue:function(k,V){return new ZM(k,V)},fulfillWithValue:function(k,V){return new aU(k,V)}})).then(function(k){if(k instanceof ZM)throw k;return k instanceof aU?i(k.payload,m,c,k.meta):i(k,m,c)})])];case 3:return A=R.sent(),[3,5];case 4:return L=R.sent(),A=L instanceof ZM?o(null,m,c,L.payload,L.meta):o(L,m,c),[3,5];case 5:return M=r&&!r.dispatchConditionRejection&&o.match(A)&&A.meta.condition,M||u(A),[2,A]}})})}();return Object.assign(x,{abort:v,requestId:m,arg:c,unwrap:function(){return x.then(NPe)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return n.withTypes=function(){return n},n})();function NPe(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function FPe(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var Tk="listenerMiddleware";kc(Tk+"/add");kc(Tk+"/removeAll");kc(Tk+"/remove");var lU;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);sPe();const zPe={categoryId:0,sort:{name:"",type:"rating"}},UPe=Kj({name:"filter",initialState:zPe,reducers:{setCategoryId:(n,e)=>{n.categoryId=e.payload}}}),HPe=UPe.reducer;function GPe(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[i,s]=D.useState(""),[o,a]=D.useState([]),[l,c]=D.useState({name:"",type:"rating"}),[u,d]=D.useState(""),[p,m]=D.useState(1),y=gL(nf,"catalogItems"),g=x=>{if(x===""){e(o);return}const _=o.filter(w=>w.category===x);e(_),console.log(_)},v=n.filter(x=>!!x.title.toLowerCase().includes(u.toLowerCase()));return D.useEffect(()=>{r(!0),(async()=>{try{const w=(await d$(Tpe(y,Ppe("category","desc")))).docs.map(A=>({...A.data(),id:A.id}));e(w),a(w),r(!1)}catch(_){console.log(_)}})()},[u,p]),G("div",{className:"App",children:[C(fq,{}),C(QTe,{}),G(XJ,{children:[C(ro,{path:"/",element:C(CQ,{})}),C(ro,{path:"/constructor",element:C(lce,{})}),C(ro,{path:"/catalog",element:C(lEe,{activeSort:l,setActiveSort:c,catalogItems:n,setCatalogItems:e,isLoading:t,activeCategory:i,setActiveCategory:s,filterPizzas:g,searchQuary:u,setSearchQuary:d,searchedCatalogItems:v,setCurrentPage:m})}),C(ro,{path:"/about",element:C(mEe,{})}),C(ro,{path:"/design",element:C(SEe,{})}),C(ro,{path:"/contact",element:C(EEe,{})}),C(ro,{path:"/cart",element:C(pTe,{})}),C(ro,{path:"/production",element:C(vTe,{})}),C(ro,{path:"/cooperation",element:C(KTe,{})}),C(ro,{path:"/fulfillment",element:C(JTe,{})}),C(ro,{path:"*",element:C(ZTe,{})})]}),C(iq,{})]})}const VPe={cartItems:[],totalPrice:0},$Pe=Kj({name:"cart",initialState:VPe,reducers:{addItem:(n,e)=>{const t=n.cartItems.find(r=>r.id===e.payload.id);t?t.count++:n.cartItems.push({...e.payload,count:1}),n.totalPrice=n.cartItems.reduce((r,i)=>i.price+r,0)},removeItem:(n,e)=>{n.cartItems.filter(t=>t.id!==e.payload)},clearItems:(n,e)=>{n.cartItems=[]}}}),WPe=$Pe.reducer,jPe=PPe({reducer:{filter:HPe,cart:WPe}});eE.createRoot(document.getElementById("root")).render(C(ul.StrictMode,{children:C(fTe,{store:jPe,children:C(ZJ,{children:C(KMe,{children:C(GPe,{})})})})}));
